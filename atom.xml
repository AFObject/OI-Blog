<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[OI Blog]]></title>
  <link href="oi.afobject.ml/atom.xml" rel="self"/>
  <link href="oi.afobject.ml/"/>
  <updated>2022-06-10T23:29:20+08:00</updated>
  <id>oi.afobject.ml/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.mweb.im/">MWeb</generator>
  
  <entry>
    <title type="html"><![CDATA[0x14 Hash]]></title>
    <link href="oi.afobject.ml/0x14-.html"/>
    <updated>2022-06-10T22:13:57+08:00</updated>
    <id>oi.afobject.ml/0x14-.html</id>
    <content type="html"><![CDATA[
<h2><a id="snowflake-snow-snowflakes" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Snowflake Snow Snowflakes</h2>
<p><tc><c>0x1401</c><e>Easy+</e><t>Hash</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æˆ‘ä»¬ç›®æ ‡çš„ Hash å‡½æ•°è¦æ»¡è¶³ï¼š</p>
<ul>
<li>å¯¹äºæ¯ä¸ªæ•°æ˜¯å¹³ç­‰çš„ï¼›</li>
<li>èƒ½å°½é‡åŒºåˆ†å‡ºä¸åŒçš„é›ªèŠ±ã€‚</li>
</ul>
<p>å› æ­¤å¯ä»¥æ„é€ å‡º Hash å‡½æ•° \(H(a_{i,1},a_{i,2},\ldots,a_{i,6})=(\sum_{j=1}^6a_{i,j}+\prod_{j=1}^6a_{i,j}) \bmod P\)ã€‚</p>
<p>å¯¹äºæ¯ä¸€ä¸ª Hash å€¼ï¼ŒæœŸæœ›çš„é¡¹ç›®æ•°æ˜¯ \(\dfrac N P\)ã€‚æ¯ä¸ªå—å†…æ¯”ä¸€æ¯”ï¼Œæœ€ç»ˆçš„æ—¶é—´å¤æ‚åº¦æ˜¯ \(P \cdot \left(\dfrac N P\right)^2= \dfrac{N^2}P\)ï¼‰ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>Hash çš„å®ç°æ³¨æ„ï¼š</p>
<ul>
<li>å½“ Hash å€¼è®¡ç®—è¿‡ç¨‹ä¸­å¯èƒ½è¶…è¿‡ <code>int</code> èŒƒå›´ï¼ˆå¦‚ä¹˜ç§¯ç­‰ï¼‰æ—¶ï¼Œå…ˆè½¬ä¸€ä¸‹ <code>long long</code>ï¼›</li>
<li>èƒ½ä¸å¼€æ–°ç©ºé—´å°±ä¸å¼€æ–°ç©ºé—´ï¼Œå°‘ç”¨æŒ‡é’ˆï¼ˆé€‚ç”¨æ‰€æœ‰é¢˜ç›®ï¼‰ã€‚</li>
</ul>
<pre class="line-numbers"><code class="language-cpp">#define P 99991

int n;

struct Snowflake {
    int a[6];
    int hashValue() {
        int sum = 0, prod = 1;
        for (int i = 0; i &lt; 6; ++i) 
            sum = (sum + a[i]) % P, prod = ((long long)prod * a[i]) % P;
        return (sum + prod) % P;
    }
    bool operator == (const Snowflake&amp; other) const {
        for (int s = 0; s &lt; 6; ++s) {
            bool flag = true;
            for (int i = 0; i &lt; 6; ++i)
                if (a[(s + i) % 6] != other.a[i])
                    flag = false;
            if (flag) return true;
            flag = true;
            for (int i = 0; i &lt; 6; ++i)
                if (a[(s + i) % 6] != other.a[5 - i])
                    flag = false;
            if (flag) return true;
        }
        return false;
    }
};

std::vector&lt;Snowflake&gt; v[100001];

int main() {
    n = read();
    while (n--) {
        Snowflake t;
        for (int i = 0; i &lt; 6; ++i)
            t.a[i] = read() % P;
        const int val = t.hashValue();
        for (auto x : v[val])
            if (x == t)
                return puts(&quot;Twin snowflakes found.&quot;), 0;
        v[val].push_back(t);
    }
    return puts(&quot;No two snowflakes are alike.&quot;), 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ABC254]]></title>
    <link href="oi.afobject.ml/abc254.html"/>
    <updated>2022-06-04T23:26:05+08:00</updated>
    <id>oi.afobject.ml/abc254.html</id>
    <content type="html"><![CDATA[
<p>VP</p>
<span id="more"></span><!-- more -->
<h2><a id="d-together-square" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>D Together Square</h2>
<p><tc><m>Medium *1191</m><t>æ•°è®º</t><t>ç»„åˆ</t><t>ç­›æ³•</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä¸¤ä¸ªæ•°éƒ½æ˜¯å¹³æ–¹æ•°çš„è¯å…¶å®æ˜¯å¾ˆç®€å•çš„ï¼Œä½†å¦‚æœä¸¤ä¸ªéƒ½ä¸æ˜¯å¹³æ–¹æ•°å°±æœ‰ç‚¹éš¾æã€‚ä¸€ä¸ªéå¹³æ–¹æ•°æ‰€å¯¹åº”çš„å¯ä»¥è®©å®ƒä»¬çš„ç§¯ä¸ºå®Œå…¨å¹³æ–¹æ•°çš„å¦ä¸€ä¸ªæ•°æ˜¯ä¸å”¯ä¸€çš„ï¼Œæ€ä¹ˆå¿«é€Ÿæ‰¾åˆ°å®ƒå‘¢ï¼Ÿ</p>
<p>è€ƒè™‘å°†æ‰€æœ‰çš„æ•° \(i\) éƒ½é™¤å»å®ƒä»¬æœ€å¤§çš„å®Œå…¨å¹³æ–¹æ•°å› æ•°ï¼ˆ\(p_i\)ï¼‰ï¼Œç„¶åå‰©ä¸‹çš„éƒ¨åˆ†ï¼ˆè®¾ä¸º \(f_i\)ï¼‰ç›¸ç­‰çš„ï¼ŒåŸæ•°æ‹¼åœ¨ä¸€èµ·å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚ä¸‹é¢è€ƒè™‘çš„æ˜¯å¦‚ä½•å¿«é€Ÿçš„å¾—åˆ° \(f_i\)ã€‚ç”±äºæ•°æ®èŒƒå›´ä¸å¤§ï¼Œå¯ä»¥ç›´æ¥æšä¸¾å®ƒçš„å› æ•°æ‰¾åˆ° \(p_i\)ã€‚æšä¸¾å› æ•°ç”¨ç±»ä¼¼åŸƒç­›çš„æ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦åæ­£ä¸å¤§ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n, sum[200001];
bool g[200001];
std::vector&lt;int&gt; v[200001];

signed main() {
    scanf(&quot;%lld&quot;, &amp;n);
    int ans = 0;
    for (int i = 1; i * i &lt;= n; ++i) g[i * i] = true;
    for (int i = 1; i &lt;= n; ++i)
        for (int j = i; j &lt;= n; j += i)
            v[j].push_back(i);
    for (int i = 1; i &lt;= n; ++i) {
        int f = 1;
        for (int p : v[i])
            if (i % p == 0 &amp;&amp; g[p]) f = std::max(f, p);
        sum[i / f]++;
    }
    for (int i = 1; i &lt;= n; ++i) ans += sum[i] * sum[i];
    printf(&quot;%lld\n&quot;, ans);
}
</code></pre>
<hr />
<h2><a id="e-small-d-and-k" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>E Small d and k</h2>
<p><tc><e>Easy+ *1202</e><t>æœç´¢</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ç­”æ¡ˆæ˜¯æš´åŠ›ã€‚</p>
<p>è¿™ç§æœ€çŸ­è·¯é—®é¢˜ç†åº”ç”¨ BFS è§£å†³ï¼Œä½†å®é™…ä¸Š DFS ä¹±ææä¹Ÿå¯ä»¥è¿‡ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int x, k;
int dis[200001];
std::vector&lt;int&gt; nodes;
void dfs(int x, int t) {
    if (t &gt;= dis[x]) return;
    if (dis[x] &gt; k) nodes.push_back(x);
    dis[x] = t;
    if (t == k) return;
    for (int v : e[x])
        dfs(v, t + 1);
}

int main() {
    n = read(), m = read();
    for (int i = 1; i &lt;= n; ++i) dis[i] = 1e9;
    while (m--) {
        int u = read(), v = read();
        e[u].push_back(v);
        e[v].push_back(u);
    }
    q = read();
    while (q--) {
        x = read(), k = read();
        nodes = std::vector&lt;int&gt;();
        dfs(x, 0);
        long long ans = 0;
        for (int u : nodes) {
            dis[u] = 1e9;
            ans += u;
        }
        printf(&quot;%lld\n&quot;, ans);
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="f-rectangle-gcd" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>F Rectangle GCD</h2>
<p><tc><m>Medium- *1764</m><t>æ•°è®º</t><t>GCD</t><t>çº¿æ®µæ ‘</t><t>DS</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æå…¶æ˜¾ç„¶åœ°ï¼Œç­”æ¡ˆæ˜¯</p>
\[\gcd\{A_{h_1}+B_{w_1},\underset{i\in(h_1,h_2]}{\left|A_i-A_{i-1}\right|},\underset{i\in(w_1,w_2]}{\left|B_i-B_{i-1}\right|}\}
\]
<p>ç„¶åå°±æ˜¯æŸ¥è¯¢åŒºé—´ \(\gcd\)ï¼Œç”¨çº¿æ®µæ ‘æˆ–è€… ST è¡¨ã€‚</p>
<p>ä¸ºä»€ä¹ˆæ„Ÿè§‰ E &lt; F &lt; Dâ€¦â€¦</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>ä¸å¸¦ä¿®çš„çº¿æ®µæ ‘çœŸå¥½å†™ã€‚æ³¨æ„å››å€ç©ºé—´ï¼</p>
<pre class="line-numbers"><code class="language-cpp">#define lt(x) ((x) &lt;&lt; 1)
#define rt(x) (((x) &lt;&lt; 1) + 1)
#define abs(x) ((x) &gt; 0 ? (x) : -(x))

int n, q;
int a[200001], b[200001];
int ca[200001], cb[200001];

int gcd(int a, int b) {
    return b ? gcd(b, a % b) : a;
}

int segA[800001], segB[800001];
void build(int *s1, int *s2, int x, int l, int r) {
    if (l == r) {
        s1[x] = s2[l];
        return;
    }
    const int mid = (l + r) &gt;&gt; 1;
    build(s1, s2, lt(x), l, mid);
    build(s1, s2, rt(x), mid + 1, r);
    s1[x] = gcd(s1[lt(x)], s1[rt(x)]);
}

int query(int *s, int x, int l, int r, int ql, int qr) {
    if (l &gt; r) return 1;
    if (ql &lt;= l &amp;&amp; r &lt;= qr) return s[x];
    const int mid = (l + r) &gt;&gt; 1;
    int res = 0;
    if (ql &lt;= mid) res = gcd(res, query(s, lt(x), l, mid, ql, qr));
    if (qr &gt; mid) res = gcd(res, query(s, rt(x), mid + 1, r, ql, qr));
    return res;
}

int main() {
    n = read(), q = read();
    for (int i = 1; i &lt;= n; ++i) a[i] = read();
    for (int i = 1; i &lt;= n; ++i) b[i] = read();
    for (int i = 1; i &lt;= n; ++i)
        ca[i] = abs(a[i] - a[i - 1]), cb[i] = abs(b[i] - b[i - 1]);
    build(segA, ca, 1, 1, n);
    build(segB, cb, 1, 1, n);
    while (q--) {
        int h1 = read(), h2 = read(), w1 = read(), w2 = read();
        printf(&quot;%d\n&quot;, gcd( gcd(query(segA, 1, 1, n, h1 + 1, h2),
                                query(segB, 1, 1, n, w1 + 1, w2)),
                            a[h1] + b[w1]));
    }
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x13 é“¾è¡¨ä¸é‚»æ¥è¡¨]]></title>
    <link href="oi.afobject.ml/0x13-.html"/>
    <updated>2022-06-01T20:12:11+08:00</updated>
    <id>oi.afobject.ml/0x13-.html</id>
    <content type="html"><![CDATA[
<h2><a id="%E5%B0%8F%E7%86%8A%E7%9A%84%E6%9E%9C%E7%AF%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å°ç†Šçš„æœç¯®</h2>
<p><tc><c>CSP-J 2021</c><e>Easy+</e><t>æ¨¡æ‹Ÿ</t><t>é“¾è¡¨</t></tc></p>
<p>æ™®åŠæ‘†çƒ‚æ²¡ AK çš„ç—›</p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å°†å—ä½œä¸ºé“¾è¡¨çš„ä¸€ä¸ªé¡¹ç›®ï¼Œæ¯ä¸€è½®è¿›è¡Œåˆå¹¶ï¼Œç”±äºæ¯ä¸ªæ°´æœè‡³å¤šè¢«åˆ ä¸€æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å°±æ˜¯ \(O(n)\) çš„ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æœ‰ç‚¹éš¾æ•´ã€‚ã€‚ã€‚</p>
<p>é¦–å…ˆæ˜ç¡®ä¸€ä¸ªå—å†…çš„ç¼–å·å¹¶ä¸æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥é™¤äº†ç»´æŠ¤å—ä¹‹é—´çš„é¡ºåºå¤–è¿˜è¦å†å¼€ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥ç»´æŠ¤ç¼–å·é—´çš„å‰åå…³ç³»ï¼ˆä½†è¿™ä¸ªå®ç°èµ·æ¥ç”¨æ•°ç»„å³å¯ï¼Œæ¯”è¾ƒç®€å•ï¼‰ã€‚è€ƒåœºä¸Šå†™é”™å°±æ˜¯å› ä¸ºè¿™ä¸ªç‚¹ã€‚</p>
<p>å¦å¤–è¿™é‡Œçš„å†™æ³•ä¸­ä¸¤è¾¹çš„ <code>head</code> å’Œ <code>tail</code> æ˜¯ç©ºçš„ï¼Œè¦åˆ¤ä¸€ä¸‹ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">namespace List {
    struct Node {
        int val, type, start;
        Node *prev, *next;
    } v[200001], *head, *tail;
    void init() {
        head = new Node();
        tail = new Node();
        head-&gt;next = tail;
        tail-&gt;prev = head;
    }
    void insert(int val, int type, int start, Node *p) {
        auto r = new Node();
        r-&gt;val = val; r-&gt;type = type; r-&gt;start = start;
        r-&gt;prev = p; r-&gt;next = p-&gt;next;
        p-&gt;next-&gt;prev = r; p-&gt;next = r;
    }
    void remove(Node *p) {
        p-&gt;prev-&gt;next = p-&gt;next;
        p-&gt;next-&gt;prev = p-&gt;prev;
        delete p;
    }
};

int prevN[200001], nextN[200001];

int n;

int main() {
    n = read();
    List::init();
    int prev = 0, count = 0;
    for (int i = 1; i &lt;= n; ++i) {
        if (i != n) nextN[i] = i + 1; prevN[i] = i - 1;
        int a = read();
        if (a != prev) {
            if (i != 1)
                List::insert(count, prev, i - count, List::tail-&gt;prev);
            prev = a;
            count = 0;
        }
        ++count;
    }
    List::insert(count, prev, n + 1 - count, List::tail-&gt;prev);
    while (List::head-&gt;next != List::tail) {
        for (auto x = List::head-&gt;next; x-&gt;next != NULL; x = x-&gt;next)
            printf(&quot;%d &quot;, x-&gt;start);
        putchar('\n');
        for (auto x = List::head-&gt;next; x-&gt;next != NULL; x = x-&gt;next) {
            x-&gt;val--;

            nextN[prevN[x-&gt;start]] = nextN[x-&gt;start];
            prevN[nextN[x-&gt;start]] = prevN[x-&gt;start];
            x-&gt;start = nextN[x-&gt;start];

            if (x-&gt;val == 0)
                List::remove(x);
            else if (x-&gt;prev-&gt;type == x-&gt;type &amp;&amp; x-&gt;prev != List::head)
                x-&gt;prev-&gt;val += x-&gt;val, List::remove(x);
        }
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E9%82%BB%E5%80%BC%E6%9F%A5%E6%89%BE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é‚»å€¼æŸ¥æ‰¾</h2>
<p><tc><c>0x1301</c><m>Medium-</m><t>æ¨¡æ‹Ÿ</t><t>é“¾è¡¨</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æ˜¾ç„¶æœ‰ä¸€æ­¥æ˜¯è¦ä»å°åˆ°å¤§æ’åºå¹¶ä¸”æ‰¾å‡ºæŸä¸ªæ•°çš„å‰é©± / åç»§ã€‚</p>
<p>ä¸€ç§æ–¹æ³•æ˜¯ä¾æ¬¡å°†æ•°æœ‰åºåœ°æ’å…¥ä¸€ä¸ª <code>std::set</code>ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæ•°çš„å‰é©±æˆ–åç¼€ã€‚</p>
<p>å¦ä¸€ç§æ–¹æ³•åˆ™æ˜¯<strong>å€’åº</strong>å¤„ç†ï¼Œç”¨å®Œä¸€ä¸ªåˆ ä¸€ä¸ªï¼Œç”¨é“¾è¡¨ç»´æŠ¤æ•°æ®ã€‚</p>
<p>æœ¬èŠ‚ä¾‹é¢˜ä¸­ã€ŒRunning Medianã€ï¼ˆ0x0503ï¼‰ä¹Ÿå¯ä»¥ç”¨è¿™ç§å€’åºçš„æ€æƒ³å¤„ç†æ•°æ®ï¼ˆç”¨å®Œä¸€ä¸ªåˆ ä¸€ä¸ªï¼‰ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è¿˜æ˜¯æ³¨æ„åˆ¤æ–­é˜Ÿåˆ—é¦–ã€å°¾é¢„ç•™çš„ç©ºé¡¹çš„é—®é¢˜ï¼Œèµ‹ä¸€ä¸ªæå¤§çš„åˆå€¼å³å¯ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">namespace List {
    struct Node {
        std::pair&lt;int, int&gt; val;
        Node *prev, *next;
    } v[200001], *head, *tail;
    void init() {
        head = new Node();
        tail = new Node();
        head-&gt;val.first = -2e9;
        tail-&gt;val.first = 2e9;
        head-&gt;next = tail;
        tail-&gt;prev = head;
    }
    void insert(std::pair&lt;int, int&gt; val, Node *p) {
        auto r = new Node();
        r-&gt;val = val; r-&gt;prev = p; r-&gt;next = p-&gt;next;
        p-&gt;next-&gt;prev = r; p-&gt;next = r;
    }
    void remove(Node *p) {
        p-&gt;prev-&gt;next = p-&gt;next;
        p-&gt;next-&gt;prev = p-&gt;prev;
        delete p;
    }
};

std::pair&lt;int, int&gt; a[200001];
List::Node *b[200001];

int n;
int ansVal[200001], ansIdx[200001];

int main() {
    n = read();
    List::init();
    for (int i = 1; i &lt;= n; ++i) a[i] = {read(), i};
    std::sort(a + 1, a + n + 1);
    for (int i = 1; i &lt;= n; ++i) {
        List::insert(a[i], List::tail-&gt;prev);
        b[a[i].second] = List::tail-&gt;prev;
    }
    for (int i = n; i &gt; 1; --i) {
        int lhs = b[i]-&gt;val.first - b[i]-&gt;prev-&gt;val.first,
            rhs = b[i]-&gt;next-&gt;val.first - b[i]-&gt;val.first;
        ansVal[i] = std::min(lhs, rhs);
        if (lhs &lt;= rhs) ansIdx[i] = b[i]-&gt;prev-&gt;val.second;
        else ansIdx[i] = b[i]-&gt;next-&gt;val.second;
        List::remove(b[i]);
    }
    for (int i = 2; i &lt;= n; ++i)
        printf(&quot;%d %d\n&quot;, ansVal[i], ansIdx[i]);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x12 é˜Ÿåˆ—]]></title>
    <link href="oi.afobject.ml/0x12-.html"/>
    <updated>2022-05-20T22:37:19+08:00</updated>
    <id>oi.afobject.ml/0x12-.html</id>
    <content type="html"><![CDATA[
<h2><a id="team-queue" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Team Queue</h2>
<p><tc><c>0x1201</c><e>Easy</e><t>æ¨¡æ‹Ÿ</t><t>é˜Ÿåˆ—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å¼€ä¸ªé˜Ÿåˆ—è®°å½•ä¸‹é˜Ÿä¼ä¹‹é—´çš„é¡ºåºï¼›å†å¯¹äºæ¯ä¸ªé˜Ÿä¼å¼€ä¸ªé˜Ÿåˆ—è®°å½•ä¸‹å†…éƒ¨çš„é¡ºåºã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n;
std::map&lt;int, int&gt; m;
std::queue&lt;int&gt; d, q[1001];

int main() {
    int T = 0;
    while (std::cin &gt;&gt; n &amp;&amp; n) {
        ++T;
        std::cout &lt;&lt; &quot;Scenario #&quot; &lt;&lt; T &lt;&lt; '\n';

        m.clear(); d = std::queue&lt;int&gt;();
        for (int i = 1; i &lt;= n; ++i) {
            q[i] = std::queue&lt;int&gt;();
            int t; std::cin &gt;&gt; t;
            while (t--) {
                int g; std::cin &gt;&gt; g;
                m[g] = i;
            }
        }

        std::string s; int op;
        while (std::cin &gt;&gt; s &amp;&amp; s != &quot;STOP&quot;) {
            if (s == &quot;DEQUEUE&quot;) {
                std::cout &lt;&lt; q[d.front()].front() &lt;&lt; '\n';
                q[d.front()].pop();
                if (q[d.front()].empty()) d.pop();
            } else if (s == &quot;ENQUEUE&quot;) {
                std::cin &gt;&gt; op;
                if (q[m[op]].empty()) d.push(m[op]);
                q[m[op]].push(op);
            }
        }
        std::cout &lt;&lt; '\n';
    }
}
</code></pre>
<hr />
<h2><a id="%E8%9A%AF%E8%9A%93" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>èš¯èš“</h2>
<p><tc><c>NOIP2016 D2T2</c><c>0x1202</c><m>Medium+</m><t>æ•°å­¦</t><t>é˜Ÿåˆ—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æ—¶é—´å¤æ‚åº¦çš„ç“¶é¢ˆåƒæ˜¯ \(O(m)\) çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯è¦æ±‚æˆ‘ä»¬ \(O(1)\) å®ç°æŸ¥è¯¢æœ€å¤§å€¼ã€åˆ†è£‚ã€å¢é•¿é•¿åº¦è¿™ä¸‰ä¸ªæ“ä½œã€‚</p>
<p>æœ€ç›´æ¥åœ°ï¼Œå¯ä»¥æƒ³åˆ°é€šè¿‡å¤§æ ¹å †æ‰¾å‡ºæœ€å¤§å€¼ï¼Œä½†æ˜¯é¡ºåºä¸ä¿è¯ï¼Œè€Œä¸”å¤ªæ…¢äº†ï¼Œæƒ³è¦ \(O(1)\) çš„è¯æœ€å¥½ä½¿åºåˆ—æœ‰åºã€‚æ¥ä¸‹æ¥å°±æ˜¯è¯•å›¾æ‰¾å‡ºå•è°ƒæ€§ã€‚</p>
<p>ä¸€æ¬¡æ“ä½œï¼Œç­‰æ•ˆäºæŠŠä¸€ä¸ªæ•° \(x\) åˆ†ä¸º \(\lfloor px \rfloor - q\) å’Œ \(x - \lfloor px \rfloor - q\) è¿™ä¸¤ä¸ªæ•°ï¼ˆå®é™…å€¼æ˜¯å…¨éƒ¨æ•°åŠ ä¸Š \(\Delta=q\cdot T\)ï¼Œ\(T\) ä¸ºå½“å‰æ“ä½œæ¬¡æ•°ï¼‰ã€‚ä»»ä½•æ“ä½œéƒ½åªä¼šè®©æ•°åˆ—ä¸­çš„æ•°å˜å°ï¼Œæ‰€ä»¥æ•°åˆ—çš„æœ€å¤§å€¼å•è°ƒé€’å‡ï¼Œè¢«ç çš„æ•°å•è°ƒé€’å‡ã€‚</p>
<p>å¯ä¸æƒ³è®©è¢«ç å‡ºæ¥çš„æ•°å†æ”¾å›åŸé˜Ÿåˆ—ç ´åå•è°ƒæ€§ï¼Œæ‰€ä»¥ç»§ç»­æ¢ç©¶è¢«ç å‡ºæ¥çš„æ•°æ˜¯å¦å­˜åœ¨å•è°ƒæ€§ã€‚æ³¨æ„æˆ‘ä»¬é›†ä½“å‡äº† \(\Delta\)ï¼Œè®¡ç®—çš„æ—¶å€™è¦è¿˜åŸ \(\Delta\)ï¼ˆ\(\Delta\) ä¸ºæœ¬è½®æ“ä½œå‰çš„ \(\Delta\)ï¼‰ã€‚ä¸€ä¸ªæ•°è¢«åˆ†ä¸ºäº† \(x_1=\lfloor p(x+\Delta) \rfloor - q - \Delta\) å’Œ \(x_2=x - \lfloor p(x+\Delta) \rfloor - q\)ã€‚å‡è®¾åœ¨è¿™ä¸ªæ•°åé¢è¢«åˆ†è£‚çš„é‚£ä¸ªæ•°æ˜¯ \(y\)ï¼ˆ\(y \le x\)ï¼‰ï¼Œé‚£ä¹ˆåˆ†å‡ºæ¥çš„å°±æ˜¯ \(y_1=\lfloor p(y+\Delta+q) \rfloor - q - \Delta-q\) å’Œ \(y_2=y - \lfloor p(y+\Delta+q) \rfloor - q\)ã€‚</p>
<p>ä½œå·®ï¼š</p>
\[\begin{aligned}
x_1-y_1
&amp;=\lfloor p(x+\Delta) \rfloor-\lfloor p(y+\Delta+q) \rfloor+q\\
&amp;=\lfloor p(x+xq) \rfloor-\lfloor p(y+q) \rfloor&gt;0\\

x_2-y_2
&amp;=x - \lfloor p(x+\Delta) \rfloor - y + \lfloor p(y+\Delta+q) \rfloor\\
&amp;=\lfloor x-p(x)\rfloor-\lfloor y-p(y+q) \rfloor&gt;0
\end{aligned}
\]
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ç å‡ºæ¥çš„é‚£ä¸¤æˆªèš¯èš“çš„é•¿åº¦ä¹Ÿéšç€æ—¶é—´çš„æ¨ç§»è€Œå•è°ƒé€’å‡</strong>ã€‚åœ¨æ‰€æœ‰æ“ä½œä¹‹å‰å…ˆæŠŠæ•´ä¸ªåºåˆ—æ’åºå­˜è¿›ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå½“è¿›è¡Œåˆ†è£‚æ“ä½œæ—¶ï¼ŒæŠŠå¤§çš„å–å‡ºæ¥æ”¾è¿›ä¸€ä¸ªé˜Ÿåˆ—ï¼ŒæŠŠå°çš„å–å‡ºæ¥æ”¾è¿›å¦ä¸€ä¸ªé˜Ÿåˆ—ã€‚å¯ä»¥ä¿è¯è¿™ä¸‰ä¸ªé˜Ÿåˆ—éƒ½æ˜¯é˜Ÿé¦–å¤§ï¼Œé˜Ÿå°¾å°ï¼Œè¿™æ ·å°±å®Œæˆäº† \(O(1)\) åœ°æ±‚æœ€å¤§å€¼ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long
#define top(x) ((x.empty()) ? -1e16 : x.front())

int n, m, q, u, v, t;
int d[100001];
std::queue&lt;int&gt; a, b, c;

signed main() {
    n = read(), m = read(), q = read(), u = read(), v = read(), t = read();
    for (int i = 1; i &lt;= n; ++i) d[i] = read();
    std::sort(d + 1, d + n + 1);
    for (int i = n; i; --i) a.push(d[i]);

    int delta = 0;
    for (int i = 1; i &lt;= m; ++i, delta += q) {
        int a0 = top(a), b0 = top(b), c0 = top(c), max = 0;
        if (a0 &gt;= b0 &amp;&amp; a0 &gt;= c0) max = a0, a.pop();
        else if (b0 &gt;= c0) max = b0, b.pop();
        else max = c0, c.pop();
        if (i % t == 0) printf(&quot;%lld &quot;, max + delta);
        b.push(floor((double)u / v * (max + delta)) - q - delta);
        c.push(max - floor((double)u / v * (max + delta)) - q);
    }
    putchar('\n');
    for (int i = 1; i &lt;= n + m; ++i) {
        int a0 = top(a), b0 = top(b), c0 = top(c), max = 0;
        if (a0 &gt;= b0 &amp;&amp; a0 &gt;= c0) max = a0, a.pop();
        else if (b0 &gt;= c0) max = b0, b.pop();
        else max = c0, c.pop();
        if (i % t == 0) printf(&quot;%lld &quot;, max + delta);
    }

    return 0;
}
</code></pre>
<hr />
<h2><a id="%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åŒç«¯é˜Ÿåˆ—</h2>
<p><tc><c>BJOI 2011</c><c>0x1203</c><m>Medium+</m><t>è´ªå¿ƒ</t><t>é˜Ÿåˆ—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä»¥è¾“å…¥ä¸ºå‡ºå‘ç‚¹è€ƒè™‘é—®é¢˜ï¼šæˆ‘ä¸å¤ªè¡Œï¼Œå› ä¸ºä»–è¦æ±‚æ˜¯æ•´ä½“æœ‰åºï¼Œå¾ˆéš¾å…‰é€šè¿‡åŸå§‹çš„æ— åºåºåˆ—æ‰¾åˆ°ç­”æ¡ˆã€‚</p>
<p><strong>ä»¥è¾“å‡ºä¸ºå‡ºå‘ç‚¹è€ƒè™‘é—®é¢˜</strong>ï¼šæœ€ç»ˆè¦æ±‚æ’å¥½åºï¼Œé‚£æˆ‘å°±æ’å¥½åºï¼ŒæŠŠæ’å¥½åºçš„æ•°ç»„åˆ†å‰²ï¼Œæ¯ä¸€æ®µå¯¹åº”ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ã€‚æ¯ä¸€æ®µä¸­è¦æ±‚æ•°çš„ä¸‹æ ‡å…·æœ‰<strong>å•è°·æ€§è´¨</strong>ã€‚æ³¨æ„åˆ¤æ–­é‡å¤çš„æ•°ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æ¥ä¸‹æ¥æ˜¯å•è°·æ€ä¹ˆæ‰¾çš„é—®é¢˜ï¼Œä¸€å¼€å§‹æ˜¯ä¸‹é™çš„çŠ¶æ€ï¼Œé™ä¸åŠ¨çš„æ—¶å€™åªèƒ½å‡ï¼Œå‡ä¸åŠ¨çš„æ—¶å€™å°±æˆäº†ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ï¼ˆåŒä¸€ä¸ªæ•°çš„ä¸‹æ ‡è¦ä¹ˆå…¨å‡è¦ä¹ˆå…¨é™ï¼Œå¦åˆ™å¤æ‚åŒ–äº†ï¼‰ã€‚å¼€ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªæ˜¯ä¸Šå‡ä¸‹é™çš„æ ‡å¿—ï¼Œä¸€ä¸ªæ˜¯ä¸Šå‡ / ä¸‹é™æœŸçš„æœ€å° / æœ€å¤§ä¸‹æ ‡ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">int n, a[200001];
std::pair&lt;int, int&gt; p[200001];
std::vector&lt;int&gt; v[200001];

int main() {
    n = read();
    for (int i = 1; i &lt;= n; ++i) {
        p[i].first = read();
        p[i].second = i;
    }
    std::sort(p + 1, p + n + 1);
    int t = 1;
    v[t].push_back(p[1].second);
    for (int i = 2; i &lt;= n; ++i) {
        if (p[i].first != p[i - 1].first)
            v[++t].push_back(p[i].second);
        else v[t].push_back(p[i].second);
    }
    int flag = 0, num = 0, ans = 0;
    for (int i = 1; i &lt;= t; ++i) {
        const int first = v[i][0], last = v[i][v[i].size() - 1];
        if (flag) {
            if (first &lt; num) { ++ans; flag = 0; num = first; }
            else num = last;
        } else {
            if (last &gt; num) { flag = 1; num = last; }
            else num = first;
        }
    }
    printf(&quot;%d\n&quot;, ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%92%8C" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æœ€å¤§å­åºå’Œ</h2>
<p><tc><c>0x1204</c><e>Easy</e><t>å‰ç¼€å’Œ</t><t>å•è°ƒé˜Ÿåˆ—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘æ²¡æœ‰é™åˆ¶çš„åšæ³•ï¼šä¸€ä¸ªæ˜¯é€’æ¨ä¸€ä¸‹ï¼Œä¸€ä¸ªæ˜¯å‰ç¼€å’Œä¸€ä¸‹ã€‚æœ‰é™åˆ¶çš„è¯æ„Ÿè§‰å‰ç¼€å’Œæ›´é è°±ï¼Œé‚£å°±è¯•ä¸€è¯•ã€‚æ±‚å‡ºå‰ç¼€å’Œ \(p\) åï¼Œé—®é¢˜è½¬åŒ–ä¸ºæ‰¾å‡º \(\max\limits_{i-j &lt; m}\{p_i-p_j\}\)ã€‚</p>
<p>è€ƒè™‘ç”¨å•è°ƒé˜Ÿåˆ—æ±‚è§£ã€‚ç”¨æ»‘åŠ¨çª—å£æ±‚å‡ºå½“å‰ç‚¹ä¹‹å‰çš„ \(m\) ä¸ªå‰ç¼€å’Œçš„æœ€å°å€¼ï¼Œç”¨ç°åœ¨çš„å‰ç¼€å’Œå»å‡ï¼Œå°±åšå®Œäº†ã€‚</p>
<p>å¤ä¹ ä¸€ä¸‹æ»‘åŠ¨çª—å£çš„åšæ³•ï¼šè¿›é˜Ÿå°¾æŠŠå¤§æ•°é¡¶æ‰ï¼Œç»´æŒå•è°ƒé€’å¢ï¼ŒæŠŠè¶…è¿‡çª—å£èŒƒå›´çš„ä¹Ÿæ¨æ‰ã€‚æœ€å°å€¼åœ¨æ¯æ¬¡çš„é˜Ÿå¤´ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, m, p[300001];
std::deque&lt;std::pair&lt;int, int&gt;&gt; q;

int main() {
    n = read(), m = read();
    for (int i = 1; i &lt;= n; ++i)
        p[i] = p[i - 1] + read();
    int ans = -2e8;
    q.push_back({0, 0});
    for (int i = 1; i &lt;= n; ++i) {
        while (q.size() &amp;&amp; q.back().second &gt; p[i]) q.pop_back();
        q.push_back({i, p[i]});
        if (i - q.front().first &gt; m) q.pop_front();
        ans = std::max(ans, p[i] - q.front().second);
    }
    printf(&quot;%d\n&quot;, ans);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Educational Codeforces Round #128 (Div.2)]]></title>
    <link href="oi.afobject.ml/cf1680.html"/>
    <updated>2022-05-14T22:28:03+08:00</updated>
    <id>oi.afobject.ml/cf1680.html</id>
    <content type="html"><![CDATA[
<p>[5/6] Alt (Rated), 3/6, 1071 \(\to\) 1278</p>
<span id="more"></span><!-- more -->
<h2><a id="1680c-binary-string" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1680C Binary String</h2>
<p><tc><m>Medium- *1600</m><t>äºŒåˆ†</t><t>å‰ç¼€å’Œ</t></tc></p>
<p>åœºåˆ‡äº†ï¼Œæƒ³å‡ºäºŒåˆ†æ²¡è§‰å¾—ç‰¹éš¾ï¼Œåˆ°æ—¶å€™çœ‹çœ‹ \(O(n)\) åšæ³•æ˜¯ä»€ä¹ˆã€‚</p>
<hr />
<h2><a id="1680d-dog-walking" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1680D Dog Walking</h2>
<p><tc><m>Medium+ *2400</m><t>æ•°å­¦</t><t>è´ªå¿ƒ</t><t>å‰ç¼€å’Œ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>é¢˜é¢å¤ªé•¿ä¸çœ‹ã€‚ç¨å¾®ç®€åŒ–ä¸€ä¸‹é¢˜é¢ï¼šå°†æ•°åˆ—ä¸­çš„ \(0\) éƒ½æ›¿æ¢æˆ \([-k,k]\) ä¸­çš„ä¸€ä¸ªæ•°åï¼Œä»¤å‰ç¼€å’Œæ•°ç»„ä¸º \(s\)ï¼Œæœ€å¤§åŒ– \(\max\{s\}-\min\{s\}\) ä¸” \(s_n=0\)ï¼ˆå¾ˆå®¹æ˜“åˆ¤æ–­ï¼Œå½“ \(\mid s_n\mid\) å¤§äº 0 çš„ä¸ªæ•°ä¹˜ä»¥ \(k\) çš„æ—¶å€™ï¼Œå¿…ç„¶æ— è§£ï¼‰ã€‚</p>
<p>ç”±è¿™ä¸ªå¼å­ä¸éš¾æƒ³åˆ°æœ€å¤§å­æ®µå’Œçš„å‰ç¼€å’Œè§£æ³•ï¼Œå¯ä»¥å·®ä¸å¤šåœ°ç†è§£ä¸€ä¸‹ï¼Œè¿™ä¸ª \(\max\{s\}-\min\{s\}\) ä»£è¡¨çš„æ˜¯åŸæ•°åˆ—ä¸­çš„<strong>ä¸€æ®µåŒºé—´å’Œï¼ˆçš„ç»å¯¹å€¼ï¼‰</strong>ã€‚ç„¶åæ³¨æ„åˆ° \(1 \le n \le 3000\) çš„è‰¯å¿ƒèŒƒå›´ï¼Œè€ƒè™‘ç›´æ¥æšä¸¾è¿™ä¸ªåŒºé—´çš„å·¦ã€å³ç«¯ç‚¹ã€‚æœ€ä¼˜åŒ–çš„æ–¹æ¡ˆå¿…ç„¶æ˜¯è¦ä¹ˆ 0 å…¨æ›¿æ¢ä¸º \(k\)ï¼Œè¦ä¹ˆå…¨æ›¿æ¢ä¸º \(-k\)ã€‚</p>
<p>ä½†è¦æ±‚ \(s_n=0\)ï¼Œæ€ä¹ˆå¤„ç†è¿™ä¸ªæ¡ä»¶ä¹Ÿæ˜¯éš¾ç‚¹ä¹‹ä¸€ã€‚å…³é”®ç‚¹åœ¨äºçœ‹è¢«é€‰æ‹©çš„åŒºé—´å†…ã€å¤–çš„å’Œèƒ½å¦è¾¾åˆ°å¹³è¡¡ï¼Œå³ã€Œå½’é›¶ã€ï¼š</p>
<ul>
<li>å½“åŒºé—´å†…çš„å’Œä¸ºä¸€ä¸ªæ­£æ•° \(p\)ï¼ŒåŒºé—´å¤–çš„å’Œçš„æœ€å°å€¼ä¸º \(p'_{\min}\)ï¼Œæˆ‘ä»¬æƒ³è¦ä½¿ \(p+p'_{\min}=0\)ï¼Œå› æ­¤ç­”æ¡ˆå– \(\min\{p, \mid p'_{\min} \mid\}\)ï¼›</li>
<li>åŒç†ï¼Œå½“åŒºé—´å†…çš„å’Œä¸ºä¸€ä¸ªè´Ÿæ•° \(-p\)ï¼ŒåŒºé—´å¤–çš„å’Œçš„æœ€å¤§å€¼ä¸º \(p'_{\max}\)ï¼Œç­”æ¡ˆå– \(\min\{\mid p \mid, p'_{\max}\}\)ã€‚</li>
</ul>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, k, a[3001];
int p[3001], d[3001];

signed main() {
    n = read(), k = read();
    for (int i = 1; i &lt;= n; i++) {
        a[i] = read();
        d[i] = d[i - 1] + (a[i] == 0);
        p[i] = p[i - 1] + a[i];
    }
    if (abs(p[n]) &gt; k * d[n]) return puts(&quot;-1&quot;), 0;
    int max = -1;
    for (int l = 1; l &lt;= n; l++) {
        for (int r = l; r &lt;= n; r++) {
            int sum = p[r] - p[l - 1], cnt = d[r] - d[l - 1];
            int lSum = p[n] - sum, lCnt = d[n] - cnt;
            max = std::max(max, std::min(abs(sum + cnt * k), abs(lSum - lCnt * k)));
            max = std::max(max, std::min(abs(sum - cnt * k), abs(lSum + lCnt * k)));
        }
    }
    printf(&quot;%lld\n&quot;, max + 1);
    return 0;
}
</code></pre>
<hr />
<h2><a id="1680e-moving-chips" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1680E Moving Chips</h2>
<p><tc><m>Medium+ *2000</m><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è¿™é¢˜é‡Œåƒçš„è·¯å¾„å…¶å®æ˜¯å¯é€†çš„ï¼Œæ¯”å¦‚è¯´ A åƒäº† Bï¼ŒC å†åƒäº† B å’Œ A åƒäº† B ç„¶åç»§ç»­åƒäº† C æ˜¯ä¸€æ ·çš„ã€‚æ‰€ä»¥æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾å‡ºä»£ä»·æœ€å°‘çš„ä¸€æ¡åƒäººè·¯å¾„ï¼Œå¹¶ä¸”å¯ä»¥é’¦å®šä»»æ„ä¸€ä¸ªæ˜Ÿå·ä½œä¸ºæœ€ç»ˆçŠ¶æ€ã€‚å‡å¦‚è®¾æœ€åç•™ä¸‹æ¥çš„æ˜¯æœ€å³è¾¹çš„æŸä¸ªæ˜Ÿå·ï¼Œé‚£å°±æ˜¯ã€Œä»å·¦åƒåˆ°å³ã€çš„è¿‡ç¨‹ï¼Œå¯ä»¥å°è¯•ç”¨ DP æ¥æœ€ä¼˜åŒ–æ–¹æ¡ˆã€‚</p>
<p>è®¾ \(f(i,0/1)\) ä¸ºæŠŠç¬¬ \(1\) åˆ°ç¬¬ \(i-1\) åˆ—å…¨éƒ¨åƒæ‰ï¼Œä¸”æ˜Ÿå·ä»…åœ¨ \((i,0/1)\) æ—¶çš„æœ€å°æ­¥æ•°ã€‚åœ¨å¯¹è¿™ä¸€åˆ—è¿›è¡Œ DP çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¦è€ƒè™‘çš„é—®é¢˜æ˜¯<strong>æ€ä¹ˆæŠŠä¸Šä¸€åˆ—çš„æ˜Ÿå·å…¨éƒ¨è½¬ç§»åˆ°è¿™ä¸€åˆ—çš„ç›®æ ‡ä½ç½®ä¸­å»</strong>ã€‚å‡å¦‚æœ¬åˆ—æœ‰ä¸¤ä¸ªæ˜Ÿå·ï¼Œ<strong>åˆå¹¶ä¸€å®šæ›´ä¼˜</strong>ï¼ˆå¦åˆ™åŒæ—¶ç§»ä¸¤ä¸ªå°±æ˜¯æµªè´¹ï¼‰ï¼Œæ‰€ä»¥ä¹Ÿè¦è€ƒè™‘åˆå¹¶ã€‚</p>
<ul>
<li>è‹¥å…¨éƒ¨è½¬ç§»åˆ° \((i,0)\)ï¼š
<ul>
<li>ä» \((i-1,0)\) è½¬ç§»ï¼šä»£ä»·ä¸º \(1\)ï¼Œä½†å¦‚æœ \((i,1)\) æœ‰æ˜Ÿå·ï¼Œè¿˜éœ€è¦å†åŠ ä¸€ã€‚</li>
<li>ä» \((i-1,1)\) è½¬ç§»ï¼šå¯ä»¥é¡ºä¾¿åƒäº† \((i,1)\)ï¼Œæ— è®ºå¦‚ä½•ä»£ä»·å§‹ç»ˆä¸º \(2\)ã€‚</li>
</ul>
</li>
<li>è‹¥å…¨éƒ¨è½¬ç§»åˆ° \((i,1)\)ï¼š
<ul>
<li>ä» \((i-1,1)\) è½¬ç§»ï¼šä»£ä»·ä¸º \(1\)ï¼Œä½†å¦‚æœ \((i,0)\) æœ‰æ˜Ÿå·ï¼Œè¿˜éœ€è¦å†åŠ ä¸€ã€‚</li>
<li>ä» \((i-1,0)\) è½¬ç§»ï¼šä»£ä»·å§‹ç»ˆä¸º \(2\)ã€‚</li>
</ul>
</li>
</ul>
<p>å¯ä»¥è½»æ¾å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int T, n;
int g[200001][2], f[200001][2];

int main() {
    std::cin &gt;&gt; T;
    while (T--) {
        std::cin &gt;&gt; n;
        for (int i = 1; i &lt;= n; ++i)
            f[i][0] = f[i][1] = 0;
        for (int i = 0; i &lt; 2; ++i) {
            for (int j = 1; j &lt;= n; ++j) {
                char c; std::cin &gt;&gt; c;
                g[j][i] = (c == '*');
            }
        }
        int l = 1, r = n;
        while (!g[l][0] &amp;&amp; !g[l][1]) ++l;
        while (!g[r][0] &amp;&amp; !g[r][1]) --r;
        for (int i = l; i &lt;= r; ++i) {
            f[i][0] = std::min(f[i - 1][0] + g[i][1] + 1, f[i - 1][1] + 2);
            f[i][1] = std::min(f[i - 1][1] + g[i][0] + 1, f[i - 1][0] + 2);
        }
        std::cout &lt;&lt; std::min(f[r][0], f[r][1]) - 1 &lt;&lt; std::endl;
        // ä¹‹å‰æ²¡æœ‰ç‰¹åœ°ç®— f[l][0/1] çš„åˆå§‹å€¼ï¼Œå¾ªç¯ç›´æ¥ä» l å¼€å§‹ï¼Œä½†æ˜¯ l-1 -&gt; l ç®—äº† 1 æ­¥ï¼Œæ‰€ä»¥è¿™é‡Œå‡å»ä¸€ã€‚
    }
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Codeforces Round #786 (Div.3)]]></title>
    <link href="oi.afobject.ml/cf1674.html"/>
    <updated>2022-05-03T23:02:19+08:00</updated>
    <id>oi.afobject.ml/cf1674.html</id>
    <content type="html"><![CDATA[
<p>[å·²é€šå…³] Rated, 4/7, 1364 \(\to\) 1438</p>
<span id="more"></span><!-- more -->
<p>E å¤§å®¶éƒ½ fst ä¹Ÿå°±ç®—äº†ï¼ŒF å°±å·®é€ ä¸ªæç«¯æ•°æ®æ‹ä¸€æ‹å°±è¿‡äº† /fn</p>
<h2><a id="1674f-desktop-rearrangement" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1674F Desktop Rearrangement</h2>
<p><tc><e>Easy+ *1800</e><t>æ¨¡æ‹Ÿ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä½  CF ä¸ºå•¥è¦å‡ºè¿™ç§çƒ‚æ¨¡æ‹Ÿã€‚</p>
<p>é—®é¢˜ç›¸å½“äºè¯¢é—®æœ‰å‡ ä¸ªå›¾æ ‡éœ€è¦ç§»åŠ¨ã€‚é¦–å…ˆæ±‚å‡ºåŸå›¾çŠ¶æ€ä¸‹æœ‰å‡ ä¸ªéœ€è¦ç§»çš„ï¼Œæ¥ä¸‹æ¥è€ƒè™‘å˜åŒ–ã€‚</p>
<ul>
<li>
<p>å¦‚æœæ˜¯ä»æ²¡æœ‰å˜æˆæœ‰çš„ï¼š</p>
<ul>
<li>åœ¨æ“ä½œ<strong>å</strong>çš„è¾¹ç•Œä¸Šçš„é‚£ä¸ªç‚¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ä¸ç”¨ç§»äº†ï¼Œç­”æ¡ˆå‡ä¸€ï¼ˆå¦‚æœæ“ä½œçš„å°±æ˜¯è¿™ä¸ªç‚¹ï¼Œ<strong>å¿½ç•¥</strong>è¿™ä¸€æ¡ï¼Œå¯¹ç­”æ¡ˆæ²¡æœ‰å½±å“ï¼‰ã€‚</li>
<li>å¦å¤–å¦‚æœæ”¹å˜çš„è¿™ä¸ªç‚¹è¶…è¿‡äº†æ“ä½œ<strong>å</strong>çš„è¾¹ç•Œï¼Œé‚£ä¹ˆå°±éœ€è¦è´¹åŠ›æ°”ç§»å®ƒï¼Œç­”æ¡ˆåŠ ä¸€ã€‚</li>
</ul>
</li>
<li>
<p>å¦‚æœæ˜¯ä»æœ‰å˜æˆæ²¡æœ‰çš„ï¼š</p>
<ul>
<li>æ“ä½œ<strong>å‰</strong>çš„å®ˆé—¨å‘˜ï¼ˆå¦‚æœå­˜åœ¨ï¼‰è¢«è¸¢äº†ï¼Œéœ€è¦ç§»çš„åŠ ä¸€ï¼ˆå¦‚æœæ“ä½œçš„å°±æ˜¯è¿™ä¸ªç‚¹ï¼Œ<strong>å¿½ç•¥</strong>è¿™ä¸€æ¡ï¼Œå¯¹ç­”æ¡ˆæ²¡æœ‰å½±å“ï¼‰ã€‚</li>
<li>å¦‚æœæœ¬æ¥å°±è¶…å‡ºäº†æ“ä½œ<strong>å‰</strong>çš„èŒƒå›´ï¼Œéœ€è¦ç§»çš„å‡ä¸€ï¼Œå¦åˆ™ä¸å˜ã€‚</li>
</ul>
</li>
</ul>
<p>ç”±ä¸Šåˆ†ç±»è®¨è®ºå¯è§ï¼Œ<code>.</code> å˜ <code>*</code> å’Œ <code>*</code> å˜ <code>.</code> å¯¹ç­”æ¡ˆçš„å½±å“æ˜¯ä¸åŒçš„ï¼Œå°¤å…¶ä½“ç°åœ¨æ“ä½œå‰è¾¹ç•Œæˆ–æ˜¯æ“ä½œåè¾¹ç•Œçš„åŒºåˆ«ã€‚</p>
<p>æ›´ç›´æ¥çš„åšæ³•æ˜¯æ ‘çŠ¶æ•°ç»„ç›´æ¥æš´åŠ›ç»´æŠ¤èŒƒå›´å†…æœ‰å‡ ä¸ªï¼ˆå‰ç¼€å’Œï¼‰ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è€ƒè™‘å°†çŸ©é˜µè½¬ä¸ºåºåˆ—ï¼Œåœ¨åºåˆ—ä¸Šæ“ä½œæ–¹ä¾¿å¾—å¤šã€‚</p>
<pre class="line-numbers"><code class="language-cpp">#define trans(i, j) (((j) - 1) * n + (i))
int n, m, q;
char map[1000001];

int main() {
    std::cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;
    int cnt = 0;
    for (int i = 1, k = 0; i &lt;= n; ++i) {
        for (int j = 1; j &lt;= m; ++j) {
            std::cin &gt;&gt; map[trans(i, j)];
            if (map[trans(i, j)] == '*') ++cnt;
        }
    }
    int ans = cnt;
    for (int i = 1; i &lt;= cnt; ++i)
        if (map[i] == '*')
            --ans;

    while (q--) {
        int x, y;
        std::cin &gt;&gt; x &gt;&gt; y;
        int idx = trans(x, y);
        if (map[idx] == '.') {
            ++cnt;
            if (map[cnt] == '*') --ans;
            if (idx &gt; cnt) ++ans;
            map[idx] = '*';
        } else {
            map[idx] = '.';
            if (idx &gt; cnt) --ans;
            if (map[cnt] == '*') ++ans;
            --cnt;
        }
        std::cout &lt;&lt; ans &lt;&lt; '\n';
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="1674e-breaking-the-wall" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1674E Breaking the Wall</h2>
<p><tc><m>Medium- *2000</m><t>æ•°å­¦</t><t>è´ªå¿ƒ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å½¢è±¡ä¸€ç‚¹ï¼Œæˆ‘ä»¬çš„ç­”æ¡ˆçš„æ¥æºåªæœ‰å¯èƒ½æ˜¯è¿™å‡ ç§æƒ…å†µï¼š</p>
<ul>
<li>ç«åŠ›å…¨å¼€ã€‚å³å¯¹æ•°åˆ—ä¸­æœ€å°çš„ä¸¤ä¸ªæ¯æ¬¡æ€æ‰ 2ã€‚é€‚ç”¨äºæ•°åˆ—ä¸­æœ€å°çš„ä¸¤ä¸ªæ•°åˆ†éš”è¾ƒè¿œçš„æƒ…å†µã€‚</li>
<li>æŠ•æœºå–å·§ã€‚ç›¸éš”ä¸€ä¸ªæ•°çš„ä¸¤ä¸ªå¥‡æ•°ï¼Œå…ˆé€šè¿‡æ€ä¸­é—´çš„é‚£ä¸ªæ•°ä¸€æ¬¡è½¬ä¸ºå¶æ•°ï¼Œç„¶åè½¬ä¸ºã€Œç«åŠ›å…¨å¼€ã€å‹ã€‚</li>
<li>äº’å¸®äº’åŠ©ã€‚æ€æ‰ç›¸é‚»ä¸¤ä¸ªæ•°ï¼Œäº’ç›¸å‡‘ä¸€å‡‘ï¼Œç­”æ¡ˆå°±æ˜¯ä¸¤ä¸ªæ•°å’Œé™¤ä»¥ 3 å‘ä¸Šå–æ•´ã€‚ä½†å½“ä¸€ä¸ªæ•° \(a\) å¤§äºå¦ä¸€ä¸ªæ•° \(b\) çš„ä¸¤å€æ—¶ï¼Œæ­¤æ–¹æ³•åªèƒ½å¦¥åï¼Œç­”æ¡ˆä¸º \(\lceil \dfrac a 2 \rceil\)ã€‚</li>
</ul>
<p>å½“è¢«æ€çš„ä¸¤ä¸ªæ•°è·ç¦»å¤§äºç­‰äº 2 çš„æ—¶å€™ï¼Œå¯ä»¥åšåˆ°å„æ€å„çš„äº’ä¸å¹²æ¶‰ï¼Œå½’äºã€Œç«åŠ›å…¨å¼€ã€å‹ã€‚</p>
<p>å½“è¢«æ€çš„ä¸¤ä¸ªæ•°è·ç¦»ç­‰äº 1 çš„æ—¶å€™ï¼Œé€‚ç”¨ã€Œç«åŠ›å…¨å¼€ã€å‹æˆ–ã€ŒæŠ•æœºå–å·§ã€å‹ï¼ˆæ€»ç»“èµ·æ¥å°±æ˜¯ä¸¤ä¸ªæ•°åŠ èµ·æ¥é™¤ä»¥äºŒå‘ä¸Šå–æ•´ï¼‰ã€‚</p>
<p>å½“è¢«æ€çš„ä¸¤ä¸ªæ•°ç›¸é‚»ï¼Œé‚£å¿…ç„¶å±äºã€Œäº’å¸®äº’åŠ©ã€å‹ã€‚</p>
<p>å› æ­¤ï¼Œä»¥ä¸Šä¸‰ç§å¾—åˆ°ç­”æ¡ˆçš„ç±»å‹è¦†ç›–æ‰€æœ‰çš„æƒ…å†µï¼Œè§£æ³•æ˜¯æ­£ç¡®çš„ã€‚</p>
<p>è¿™ä¸ªé¢˜å‰éº»äº†ï¼Œ300 å¤šæµ‹è¯•ç‚¹ï¼Œä¹æ­»äº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, a[200001];

int upper(int a, int b) {
    if (a % b) return a / b + 1;
    else return a / b;
}

int main() {
    n = read();
    for (int i = 1; i &lt;= n; ++i) {
        a[i] = read();
    }

    int t3 = 1000000;
    for (int i = 1; i &lt;= n - 1; ++i) {
        int res = 0;
        if (a[i] &gt; a[i + 1] * 2) res = (a[i] + 1) / 2;
        else if (a[i + 1] &gt; a[i] * 2) res = (a[i + 1] + 1) / 2;
        else res = upper(a[i] + a[i + 1], 3);
        t3 = std::min(t3, res);
    }

    int t2 = 1000000;
    for (int i = 1; i &lt;= n - 2; ++i)
        if ((a[i] &amp; 1) &amp;&amp; (a[i + 2] &amp; 1))
            t2 = std::min(t2, 1 + a[i] / 2 + a[i + 2] / 2);

    std::sort(a + 1, a + n + 1);
    int t1 = (a[1] + 1) / 2 + (a[2] + 1) / 2;

    printf(&quot;%d\n&quot;, std::min({t1, t2, t3}));
    return 0;
}
</code></pre>
<hr />
<h2><a id="1674g-remove-directed-edges" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1674G Remove Directed Edges</h2>
<p><tc><m>Medium+ *2000</m><t>å›¾è®º</t><t>æ‹“æ‰‘</t><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>é¦–å…ˆå›é¡¾ä¸€ä¸‹ã€ŒCute Setã€çš„å®šä¹‰ï¼š</p>
<blockquote>
<p>ä¸€ä¸ªé¡¶ç‚¹çš„é›†åˆ \(S\) è¢«ç§°ä½œå¯çˆ±çš„å½“ä¸”ä»…å½“ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ \(v\) å’Œ \(u\)ï¼ˆ\(v \neq u,v \in S,u \in S\)ï¼‰ï¼Œå¯ä»¥ç»è¿‡ç”±æœªåˆ é™¤çš„è¾¹ç»„æˆçš„è·¯å¾„ç”± \(u\) è¾¾åˆ° \(v\)ï¼Œæˆ–æ˜¯ä» \(v\) è¾¾åˆ° \(u\)ã€‚</p>
</blockquote>
<p>ç”±äºåŸå›¾æ˜¯ä¸€ä¸ª DAGï¼Œé›†åˆä¸­ç‚¹å’Œæœªåˆ é™¤çš„è¾¹æ„æˆçš„ä¹Ÿæ˜¯ä¸€ä¸ª DAGã€‚ç”± DAG è”æƒ³åˆ°å¯ä»¥è¿›è¡Œæ‹“æ‰‘æ’åºã€‚æ‹“æ‰‘åºä¸­ï¼Œä»»ä½•ä¸€å¯¹ç›¸é‚»çš„é¡¶ç‚¹ \((i, i+1)\)ï¼Œéƒ½æ»¡è¶³ï¼šç”± \(i\) å¯ä»¥é€šè¿‡ä¸€æ¡è·¯å¾„åˆ°è¾¾ \(i+1\)ï¼Œæˆ–æ˜¯ç”± \(i+1\) å¯ä»¥é€šè¿‡æ¡è·¯å¾„åˆ°è¾¾ \(i\)ã€‚è‹¥æ˜¯åè€…ï¼Œåˆ™ \(i+1\) åœ¨æ‹“æ‰‘åºä¸­ï¼Œå¿…ä½äº \(i\) ä¹‹å‰ï¼ŒçŸ›ç›¾ã€‚å› æ­¤æ‹“æ‰‘åºä¸­ï¼Œæ€»å¯ä»¥ç”±é å‰çš„é¡¶ç‚¹ç»è¿‡ä¸€äº›è¾¹åˆ°è¾¾é åçš„é¡¶ç‚¹ã€‚ç”±æ­¤æ¨å‡ºä¸€ä¸ªé‡è¦çš„ç»“è®ºï¼š<strong>å­˜åœ¨ä¸€æ¡ç»è¿‡ä¸€ä¸ª Cute Set ä¸­æ‰€æœ‰é¡¶ç‚¹çš„è·¯å¾„ï¼Œä¸€æ¡è·¯å¾„ç»è¿‡çš„é¡¶ç‚¹çš„é›†åˆä¹Ÿæ˜¯ä¸€ä¸ª Cute Set</strong>ã€‚</p>
<p>é—®é¢˜è½¬åŒ–ä¸ºï¼šåœ¨ DAG ä¸­æ‰¾ä¸€æ¡æœ€é•¿è·¯ï¼Œä¸”ç»è¿‡çš„è¾¹å‡æœªåˆ é™¤ã€‚</p>
<p>è½¬åŒ–ä¸ºä¸€ä¸ªæ›´ç®€å•ç›´ç™½é—®é¢˜åï¼Œå†æ¥çœ‹åˆ è¾¹çš„æ¡ä»¶ã€‚æ¯ä¸ªé¡¶ç‚¹è¦ä¹ˆæ²¡æœ‰å…¥è¾¹ï¼Œè¦ä¹ˆè¢«åˆ ä¸€æ¡å…¥è¾¹ï¼Œå‡ºè¾¹åŒç†ã€‚ä¸‹é¢æ€è€ƒçš„é—®é¢˜æ˜¯ï¼Œåœ¨é€‰æ‹©è·¯å¾„çš„æ—¶å€™ï¼Œå“ªäº›é¡¶ç‚¹å¯ä»¥è¢«åŠ å…¥é›†åˆä¸­ï¼Ÿè·¯å¾„å¯¹äºä¸€ä¸ªé¡¶ç‚¹è€Œè¨€ï¼Œå°±æ˜¯ä¸€æ¡å…¥è¾¹å’Œä¸€æ¡å‡ºè¾¹ã€‚åœ¨ä¿ç•™è¿™æ¡è·¯å¾„ä¸èƒ½åˆ çš„åŒæ—¶ï¼Œå®ƒè¿˜è¦é¢„ç•™å¯ä»¥åˆ é™¤çš„å…¥è¾¹ã€å‡ºè¾¹å„ä¸€æ¡ï¼Œä»¥æ»¡è¶³é¢˜æ„ã€‚å› æ­¤ï¼Œç¬¬äºŒä¸ªé‡è¦çš„ç»“è®ºæ˜¯ï¼šé™¤äº†è·¯å¾„çš„èµ·ç‚¹æ²¡æœ‰å…¥åº¦è¦æ±‚ã€è·¯å¾„çš„ç»ˆç‚¹æ²¡æœ‰å‡ºåº¦è¦æ±‚ä»¥å¤–ï¼Œå¯¹äºè·¯å¾„ä¸Šæ¯ä¸€ä¸ªç‚¹çš„è¦æ±‚æ˜¯è‡³å°‘åˆ†åˆ«æœ‰ä¸¤æ¡å…¥è¾¹å’Œä¸¤æ¡å‡ºè¾¹ï¼Œå³<strong>å¯¹äºè·¯å¾„ä¸Šçš„æ¯ä¸€æ¡è¾¹ \(u \to v\)ï¼Œéƒ½è¦æ»¡è¶³ \(out_u&gt;1\) ä¸” \(in_v&gt;1\)</strong>ã€‚</p>
<p>å¯¹äº DAG ä¸Šæœ€é•¿è·¯é—®é¢˜ï¼Œç›´æ¥åœ¨æ‹“æ‰‘åºä¸Š DP å³å¯ï¼Œå…·ä½“æ–¹æ³•ä¸å†èµ˜è¿°ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, m;
int ind[200001], oud[200001], del[200001];
std::vector&lt;int&gt; e[200001];
std::queue&lt;int&gt; q;
int f[200001];

int main() {
    n = read(), m = read();
    while (m--) {
        int u = read(), v = read();
        ++ind[v], ++del[v], ++oud[u];
        e[u].push_back(v);
    }
    for (int i = 1; i &lt;= n; ++i) {
        f[i] = 1;
        if (!del[i]) q.push(i);
    }
    int ans = 1;
    while (!q.empty()) {
        int u = q.front();
        q.pop();
        ans = std::max(ans, f[u]);
        for (int v : e[u]) {
            if (ind[v] &gt; 1 &amp;&amp; oud[u] &gt; 1)
                f[v] = std::max(f[v], f[u] + 1);
            if (!--del[v])
                q.push(v);
        }
    }
    printf(&quot;%d\n&quot;, ans);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[LGR108]]></title>
    <link href="oi.afobject.ml/LGR108.html"/>
    <updated>2022-05-01T23:13:15+08:00</updated>
    <id>oi.afobject.ml/LGR108.html</id>
    <content type="html"><![CDATA[
<h2><a id="c-sunset-p8320" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>C Sunset - P8320</h2>
<p><tc><e>Easy</e><t>äº¤äº’</t><t>äºŒåˆ†</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è§‚å¯Ÿ \(a\) æ•°åˆ—çš„å˜åŒ–è¶‹åŠ¿ï¼Œé‚£å¿…ç„¶æ˜¯å…ˆä¸Šå‡åä¸å˜ï¼Œä¸å˜çš„é‚£ä¸ªç‚¹ä¸ºå½“å‰æ•°åˆ—çš„æœ€å¤§å€¼ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int main() {
    cin &gt;&gt; T;
    while (T--) {
        cin &gt;&gt; n;
        for (int i = n; i; --i) {
            int last = query(n);
            int l = 1, r = n;
            while (l &lt; r) {
                const int mid = (l + r) / 2;
                if (query(mid) &lt; last) l = mid + 1;
                else r = mid;
            }
            ans[l] = i;
            cout &lt;&lt; &quot;? 2 &quot; &lt;&lt; l &lt;&lt; endl;
        }
        cout &lt;&lt; &quot;! &quot;;
        for (int i = 1; i &lt;= n; ++i)
            cout &lt;&lt; ans[i] &lt;&lt; &quot; &quot;;
        cout &lt;&lt; endl;
    }
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Codeforces Round #785 (Div.2)]]></title>
    <link href="oi.afobject.ml/cf1673.html"/>
    <updated>2022-05-01T00:58:35+08:00</updated>
    <id>oi.afobject.ml/cf1673.html</id>
    <content type="html"><![CDATA[
<p>[3/6] Rated, 1/6, \(1448 \to 1364\)ï¼Œæˆ‘æ˜¯å¤©ä¸‹ç¬¬ä¸€ğŸ¤ï¼Œå“ˆå“ˆå“ˆå“ˆï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼B éƒ½ä¸ä¼šï¼ï¼ï¼</p>
<span id="more"></span><!-- more -->
<h2><a id="1673b-a-perfectly-balanced-string" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1673B A Perfectly Balanced String?</h2>
<p><tc><m>Medium- *1100</m><t>ç»“è®º</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>äº”èŠ±å…«é—¨ã€‚</p>
<p>ä½ æ‰¾ä¸€ä¸ªé•¿åº¦æœ€çŸ­ä¸”é¦–å°¾å­—ç¬¦ç›¸åŒçš„ï¼Œæ­¤æ—¶é¦–å°¾å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ä¸º \(2\)ï¼Œé‚£ä¹ˆä¸­é—´çš„æ¬¡æ•°åªèƒ½æ˜¯ \(1\) å’¯ï¼Œå¿…é¡»æ¯ä¸ªéƒ½è½®ä¸€éã€‚è½®ä¸åˆ°çš„å¯„ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è¿™ä¸ª <code>last</code> çš„ç”¨æ³•è¿˜æŒºå¦™çš„ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">int T;
char s[200003];
bool e[27];
int last[27];

int main() {
    scanf(&quot;%d&quot;, &amp;T);
    while (T--) {
        scanf(&quot;%s&quot;, s);
        const int len = strlen(s);
        for (int i = 0; i &lt; 27; i++)
            e[i] = false;
        for (int i = 0; i &lt; len; i++)
            e[s[i] - 'a'] = true;
        int kind = 0;
        for (int i = 0; i &lt; 26; i++)
            kind += e[i], last[i] = -1;
        for (int i = 0; i &lt; len; i++) {
            if (last[s[i] - 'a'] != -1) {
                if (i - last[s[i] - 'a'] != kind) {
                    puts(&quot;NO&quot;);
                    goto end;
                }
            }
            last[s[i] - 'a'] = i;
        }
        puts(&quot;YES&quot;);
        end: continue;
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="1673c-palindrome-basis" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1673C Palindrome Basis</h2>
<p><tc><m>Medium- *1500</m><t>èƒŒåŒ…</t><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘è®¾ \(f(i,j)\) ä¸ºåœ¨å‰ \(i\) ä¸ªå›æ–‡æ•°ä¸­ï¼ˆç¬¬ \(i\) ä¸ªä¸º \(p_i\)ï¼‰ï¼Œå‡‘å‡ºæ¥æ•° \(n\) çš„æ–¹æ¡ˆæ•°ã€‚åˆ™æœ‰ï¼š</p>
\[f(i,j)=f(i-1,j)+f(i,j-p_i)
\]
<p>è€ƒè™‘çœå»ä¸€ç»´ã€‚</p>
\[f(j)\gets f(j)+f(j-p_i)
\]
<p>\(f(0)=1\)ã€‚</p>
<p>å…³äºå¾ªç¯é¡ºåºï¼šä¸¤ç»´çš„æ—¶å€™ä½ çˆ±å’‹åœ°å’‹åœ°ï¼Œä½†ä¸€ç»´çš„æ—¶å€™çœå»äº† \(i\) è¿™ç»´ï¼Œæ‰€ä»¥å¤§å‰æå°±æ˜¯åœ¨è™šæ‹Ÿéå† \(i\) åªä¸è¿‡æ²¡åœ¨è½¬ç§»æ–¹ç¨‹é‡Œä½“ç°å‡ºæ¥ï¼Œ\(i\) å¿…é¡»æ”¾åœ¨å¤–å±‚ï¼Œå¦åˆ™å°±ä¼šå¯¹ \(f(j)\) çš„å€¼äº§ç”Ÿå½±å“ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">signed main() {
    T = read(); f[0] = 1;
    for (int k = 0; k &lt; P; ++k)
        for (int i = p[k]; i &lt;= 50000; ++i)
            f[i] = (f[i] + f[i - p[k]]) % MOD;
    while (T--)
        printf(&quot;%lld\n&quot;, f[read()]);
}
</code></pre>
<hr />
<h2><a id="1673d-lost-arithmetic-progression" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1673D Lost Arithmetic Progression</h2>
<p><tc><m>Medium+ *1900</m><t>æ•°å­¦</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ç”±é¢˜æ„ç›´æ¥å¾—å‡ºï¼šç”±å…¬å·®ä¸º \(d_0,d_1\) çš„ä¸¤ä¸ªç­‰å·®æ•°åˆ—åˆæˆçš„æ–°ç­‰å·®æ•°åˆ—çš„å…¬å·®å¿…å®šä¸º \(d'=\operatorname{lcm}(d_0,d_1)\)ï¼Œä¹Ÿå°±æ˜¯è¯´ \(d_0 \mid d'\)ï¼Œ\(d_1 \mid d'\)ã€‚è®¾è¿™ä¸‰ä¸ªç­‰å·®æ•°åˆ—çš„æ•°çš„é›†åˆåˆ†åˆ«ä¸º \(A,B,C\)ï¼Œåˆ™ \(A \in C\)ï¼Œ\(B \in C\)ã€‚</p>
<p>æ— è§£çš„æƒ…å†µå¾ˆæ–¹ä¾¿åˆ¤æ–­ï¼Œå³ \(\exists x \in C\) æ»¡è¶³ \(x\notin B\)ï¼Œå³æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼š</p>
<ul>
<li>\(d_B \not\mid d_C\)</li>
<li>\(C_1 \notin B\) æˆ– \(C_n \notin B\)</li>
</ul>
<p>æ¥ä¸‹æ¥çœ‹æœ‰å‡ ä¸ªè§£ã€‚ä¹ä¸€çœ‹å¥½åƒéƒ½æ˜¯æ— æ•°ä¸ªè§£ï¼Œä½†ç”±äº \(A \cap B\) ä¸­ä¸èƒ½æœ‰ \(C\) ä»¥å¤–çš„å…ƒç´ ï¼Œæ‰€ä»¥ \(A\) åªèƒ½åœ¨ \(C\) é™å®šçš„èŒƒå›´å†…è •åŠ¨ï¼Œ<strong>ä¸å¾—åœ¨ \(C\) ä¹‹å¤–ä¸ \(B\) æœ‰äº¤ç‚¹</strong>ã€‚è€Œ \(A\) ä¸ \(B\) åœ¨ \(C\) å·¦ä¾§ç¬¬ä¸€ä¸ªäº¤ç‚¹æ˜¾ç„¶æ˜¯ \(C_0\) å³ \(C_1-d_C\)ï¼ˆå¦‚æœ \(B\) çš„å·¦ç«¯ç‚¹å¤§äºè¿™ä¸ªé‚£ä¹ˆ \(A\) å¯ä»¥å‘å·¦æ— é™å»¶é•¿ï¼Œæ— æ•°ä¸ªè§£ï¼‰ï¼Œä¸­é—´ï¼ˆä» \(C_0+1\) åˆ° \(C_1\)ï¼‰æ”¾å¾—ä¸‹çš„ \(A\) çš„ä¸ªæ•°æ˜¾ç„¶æ˜¯ \(\dfrac {d_C} {d_A}\)ï¼Œ\(C\) å³ä¾§åŒç†ã€‚å› æ­¤ï¼Œå¯¹äºæ¯ä¸€ä¸ª \(d_A\) ä½¿å¾— \(\operatorname{lcm}(d_A,d_B)=d_C\)ï¼Œç­”æ¡ˆä¸º \(\left(\dfrac {d_C} {d_A}\right)^2\)ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int __int128
#define MOD 1000000007

int T;
struct AP {
    int s, d, n;
    int get(int i) { return (i - 1) * d + s; }
    int last() { return get(n); }
    bool in(int x) {
        if (s &lt;= x &amp;&amp; x &lt;= last() &amp;&amp; (x - s) % d == 0) return true;
        else return false;
    }
} b, c;

int gcd(int a, int b) {
    return a % b ? gcd(b, a % b) : b;
}
int lcm(int a, int b) {
    return a / gcd(a, b) * b;
}

signed main() {
    T = read();
    while (T--) {
        b.s = read(), b.d = read(), b.n = read();
        c.s = read(), c.d = read(), c.n = read();
        if (c.d % b.d || !b.in(c.s) || !b.in(c.last()))
            puts(&quot;0&quot;);
        else if (b.s &gt; c.get(0) || b.last() &lt; c.get(c.n + 1))
            puts(&quot;-1&quot;);
        else {
            int ans = 0;
            for (int x = 1; x * x &lt;= c.d; ++x) {
                if (lcm(x, b.d) == c.d)
                    ans = (ans + (c.d / x) * (c.d / x)) % MOD;
                if (x * x != c.d &amp;&amp; lcm(c.d / x, b.d) == c.d)
                    ans = (ans + x * x) % MOD;
            }
            printf(&quot;%lld\n&quot;, (long long)ans);
        }
    }
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x113 å•è°ƒæ ˆ]]></title>
    <link href="oi.afobject.ml/0x113.html"/>
    <updated>2022-04-27T21:35:55+08:00</updated>
    <id>oi.afobject.ml/0x113.html</id>
    <content type="html"><![CDATA[
<h2><a id="largest-rectangle-in-a-histogram" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Largest Rectangle in a Histogram</h2>
<p><tc><c>0x1104</c><e>Easy+</e><t>å•è°ƒæ ˆ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘å¯¹äºæ¯ä¸€ä¸ª \(x\) åæ ‡ï¼Œéƒ½å°è¯•æ‰¾å‡ºä»¥å®ƒä¸ºå³è¾¹ç•Œçš„æœ€å¤§çš„çŸ©å½¢çš„é¢ç§¯ã€‚é‚£ä¹ˆå¯èƒ½æˆä¸ºç­”æ¡ˆçš„çŸ©å½¢åœ¨å·¦ä¾§ä¸€å®šç»ˆæ­¢äºåœ¨å®ƒå·¦ä¾§ï¼Œä¸”æ¯”å®ƒçŸ®çš„ä¸€ä¸ªä½ç½®ã€‚æ‰€ä»¥åœ¨å®ƒå·¦ä¾§ï¼Œä¸”æ¯”å®ƒé«˜çš„ä¸œè¥¿æ²¡æœ‰ç”¨ï¼Œç›´æ¥ç”¨å•è°ƒæ ˆæ‰”æ‰å°±è¡Œã€‚</p>
<p>åœ¨åŸä½ç½®åœ¨ \(i\) çš„ä¸€ä¸ªæ•° \(k\) åœ¨ä½ç½® \(j\) æ—¶è¢«æ¨å‡ºæ ˆçš„æ—¶å€™ç»Ÿè®¡ç­”æ¡ˆï¼Œç­”æ¡ˆä¸º \((j-i+d(k))\times k\)ï¼Œå…¶ä¸­ \(d(k)\) ä»£è¡¨è¿™ä¸ªæ•° \(k\) é¡¶æ‰çš„æ•°çš„ä¸ªæ•°ï¼ˆå³ä¸åœ¨æ ˆä¸­ï¼Œä½†å¯ä»¥ç®—è¿›çŸ©å½¢çš„å®½çš„æ•°ï¼ŒåŒ…æ‹¬ç›´æ¥é¡¶æ‰å’Œé—´æ¥é¡¶æ‰ï¼‰ã€‚åœ¨æ•´ä¸ªæ•°åˆ—æœ«å°¾è¿½åŠ ä¸€ä¸ª 0ï¼Œé¡¶æ‰æ‰€æœ‰æ•°ã€‚</p>
<p>æŒ‰ç…§ä¹¦ä¸Šåšæ³•ï¼Œå…¶å®ä¹Ÿå¯ä»¥æŠŠè¢«é¡¶æ‰çš„å‹ä¸€å‹é«˜åº¦ï¼Œæ ˆå†…å®½åº¦ä¸å˜ï¼Œè¿™æ ·å°±ä¸ç”¨åˆ†ã€Œç›´æ¥é¡¶æ‰ã€å’Œã€Œé—´æ¥é¡¶æ‰ã€äº†ï¼Œä¸è¿‡å·®ä¸å¤šã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, a;
std::stack&lt;std::pair&lt;int, int&gt;&gt; s;
int d[1000001];

int main() {
    while (true) {
        n = read();
        if (!n) break;
        for (int i = 1; i &lt;= n; ++i) d[i] = 0;
        while (s.size()) s.pop();
        long long ans = 0;
        for (int i = 1; i &lt;= n + 1; i++) {
            a = (i &lt;= n) ? read() : 0;
            while (s.size() &amp;&amp; s.top().second &gt; a) {
                const int u = s.top().first, h = s.top().second;
                ans = std::max(ans, (long long)(i - u + d[u]) * h), d[i] += d[u] + 1;
                s.pop();
            }
            s.push({i, a});
        }
        printf(&quot;%lld\n&quot;, ans);
    }
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x112 è¡¨è¾¾å¼æ±‚å€¼]]></title>
    <link href="oi.afobject.ml/0x112.html"/>
    <updated>2022-04-27T08:36:45+08:00</updated>
    <id>oi.afobject.ml/0x112.html</id>
    <content type="html"><![CDATA[
<h2><a id="%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BD%AC%E4%B8%BA%E5%90%8E%E7%BC%80%E6%B1%82%E5%80%BC" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸­ç¼€è¡¨è¾¾å¼è½¬ä¸ºåç¼€æ±‚å€¼</h2>
<p>é¦–å…ˆä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>ä¸­ç¼€ï¼š<code>3 * (1 - 2)</code><br />
åç¼€ï¼š<code>3 1 2 - *</code></p>
<p>æ‰€æœ‰æ•°çš„é¡ºåºè‚¯å®šæ˜¯ä¸€æ ·çš„ï¼Œç„¶åå°±æ˜¯è¿ç®—ç¬¦çš„é—®é¢˜ï¼ˆä¸ç®¡æ‹¬å·ï¼‰ï¼ŒåŒä¸€ä¼˜å…ˆçº§çš„æƒ…å†µä¸‹ï¼ˆå¦‚ <code>1 + 1 - 4</code> \(\to\) <code>1 1 4 - +</code>ï¼‰å°±å¯ä»¥æŠŠè¿ç®—ç¬¦å€’åºè¾“å‡ºï¼Œå¦‚æœéåŒä¸€ä¼˜å…ˆçº§ï¼ˆå¦‚ <code>5 * 1 + 4</code> \(\to\) <code>5 1 * 4 +</code>ï¼‰ï¼Œé‚£å°±åœ¨ä¸€ä¸ªè¿ç®—ç¬¦å…¥æ ˆçš„åŒæ—¶ï¼Œçœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰æ¯”å®ƒä¼˜å…ˆçº§é«˜çš„åœ¨æ ˆé‡Œï¼Œå¦‚æœæœ‰ï¼Œé¡¶æ‰è¾“å‡ºã€‚</p>
<p>ç°åœ¨è€ƒè™‘æ‹¬å·é—®é¢˜ï¼Œæ‹¬å·å†…å½“ä¸€ä¸ªå­é—®é¢˜æ±‚è§£å°±è¡Œäº†ï¼ˆç¢°åˆ°ä¸€ä¸ªå³æ‹¬å·å°±æŠŠå·¦æ‹¬å·åŠä¹‹åçš„æ‰€æœ‰å†…å®¹è¾“å‡ºï¼Œæœ‰ç‚¹åƒé€’å½’çš„æ ˆçš„å†™æ³•ï¼‰ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">std::string s;
std::stack&lt;char&gt; st;
int priority[151];

int type[100001], n = 0;
double m[100001]; char o[100001];
std::stack&lt;double&gt; h;

int main() {
    std::cin &gt;&gt; s;
    s = '(' + s + ')';

    priority['*'] = priority['/'] = 2;
    priority['+'] = priority['-'] = 1;
    priority[')'] = 3; priority['('] = 0;

    double num = 0.0; bool flag = false;
    for (char x : s) {
        if (x &gt;= '0' &amp;&amp; x &lt;= '9') {
            flag = true;
            num *= 10, num += x - '0';
        } else {
            if (flag)
                type[++n] = 1, m[n] = num,
                num = 0, flag = false;
            if (x == ')')  {
                while (st.top() != '(')
                    type[++n] = 2, o[n] = st.top(), st.pop();
                st.pop();
                continue;
            } else if (x != '(') {
                while (st.size() &amp;&amp; priority[st.top()] &gt;= priority[x])
                    type[++n] = 2, o[n] = st.top(), st.pop();
            }
            st.push(x);
        }
    }

    for (int i = 1; i &lt;= n; ++i) {
        if (type[i] == 1) {
            h.push(m[i]);
        } else {
            double rhs = h.top(); h.pop();
            double lhs = h.top(); h.pop();
            if (o[i] == '+') h.push(lhs + rhs);
            if (o[i] == '-') h.push(lhs - rhs);
            if (o[i] == '*') h.push(lhs * rhs);
            if (o[i] == '/') h.push(lhs / rhs);
        }
    }

    std::cout &lt;&lt; h.top() &lt;&lt; std::endl;
    return 0;
}
</code></pre>
<h2><a id="%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E9%80%92%E5%BD%92%E6%B3%95%E6%B1%82%E5%80%BC" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸­ç¼€è¡¨è¾¾å¼çš„é€’å½’æ³•æ±‚å€¼</h2>
<p>è¿™ä¸ªæ¯”è¾ƒç®€å•å¥½å†™ï¼Œä½†æ—¶é—´å¤æ‚åº¦æ˜¯å¹³æ–¹çš„ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">std::string s;

double solve(int l, int r) {
    int add = -1, mul = -1, t = 0;
    for (int i = r; i &gt;= l; --i) {
        if (s[i] == ')') ++t;
        else if (s[i] == '(') --t;
        if (t == 0 &amp;&amp; add == -1 &amp;&amp; (s[i] == '+' || s[i] == '-'))
            add = i;
        if (t == 0 &amp;&amp; mul == -1 &amp;&amp; (s[i] == '*' || s[i] == '/'))
            mul = i;
    }
    if (add != -1) {
        if (s[add] == '+') return solve(l, add - 1) + solve(add + 1, r);
        else return solve(l, add - 1) - solve(add + 1, r);
    } else if (mul != -1) {
        if (s[mul] == '*') return solve(l, mul - 1) * solve(mul + 1, r);
        else return solve(l, mul - 1) / solve(mul + 1, r);
    } else if (s[l] == '(' &amp;&amp; s[r] == ')') {
        return solve(l + 1, r - 1);
    } else {
        double ans = 0;
        for (int i = l; i &lt;= r; i++) {
            ans *= 10;
            ans += s[i] - '0';
        }
        return ans;
    }
}

int main() {
    std::cin &gt;&gt; s;
    std::cout &lt;&lt; solve(0, s.size() - 1) &lt;&lt; std::endl;
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x111 æ ˆåŸºç¡€]]></title>
    <link href="oi.afobject.ml/0x111.html"/>
    <updated>2022-04-25T08:20:03+08:00</updated>
    <id>oi.afobject.ml/0x111.html</id>
    <content type="html"><![CDATA[
<h2><a id="push-pop-getmin" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Push, Pop, GetMin</h2>
<p><tc><c>0x1101</c><e>Easy-</e><t>æ ˆ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ç»´æŠ¤ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªæ˜¯é¢˜ç›®ä¸­ç»™å‡ºçš„æ ˆï¼Œä¸€ä¸ªä¿å­˜æ¯ä¸ªæ—¶åˆ»æœ€å°å€¼ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">class MinStack {
public:
    std::stack&lt;int&gt; o, m;
    MinStack() {}
    void push(int x) {
        o.push(x);
        if (m.size())
            m.push(std::min(m.top(), x));
        else
            m.push(x);
    }
    void pop() {
        o.pop();
        m.pop();
    }
    int top() {
        return o.top();
    }
    int getMin() {
        return m.top();
    }
};
</code></pre>
<hr />
<h2><a id="editor" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editor</h2>
<p><tc><c>0x1102</c><e>Easy</e><t>æ ˆ</t><t>æ¨¡æ‹Ÿ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘å»ºç«‹å¯¹é¡¶æ ˆï¼Œè¿™æ ·å‰å››ç§æ“ä½œéƒ½å¯ä»¥å®ç°ã€‚</p>
<p>å¯¹äºç¬¬äº”ç§æ“ä½œï¼Œå¯ä»¥å†å»ºç«‹ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªä¿å­˜æ‰€æœ‰æ—¶åˆ»çš„å‰ç¼€å’Œï¼Œå¦ä¸€ä¸ªç”¨ 0x1101 çš„æ–¹å¼ç»´æŠ¤æœ€å°å€¼ï¼Œåªä¸è¿‡è¿™é‡Œè¦ç”¨æ•°ç»„æ¨¡æ‹Ÿæ ˆï¼ˆéœ€è¦ç›´æ¥è®¿é—®ï¼‰ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æ³¨æ„ç¬¬ä¸€ä¸ªæ•°ä¸ºè´Ÿæ•°æ—¶çš„å¤„ç†ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">int n;
std::stack&lt;int&gt; a, b;
int s[1000001], f[1000001], top;

void pushA(int t) {
    a.push(t);
    s[top + 1] = s[top] + t;
    if (top) f[top + 1] = std::max(f[top], s[top + 1]);
    else f[top + 1] = s[top + 1];
    ++top;
}

void popA() {
    a.pop();
    --top;
}

int main() {
    std::cin &gt;&gt; n;
    while (n--) {
        char c; int t;
        std::cin &gt;&gt; c;
        switch (c) {
            case 'I':
                std::cin &gt;&gt; t; pushA(t);
                break;
            case 'D':
                if (a.size()) popA();
                break;
            case 'L':
                if (a.size()) b.push(a.top()), popA();
                break;
            case 'R':
                if (b.size()) pushA(b.top()), b.pop();
                break;
            case 'Q':
                std::cin &gt;&gt; t;
                std::cout &lt;&lt; f[t] &lt;&lt; std::endl;
                break;
        }
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E8%BF%9B%E5%87%BA%E6%A0%88%E5%BA%8F%E5%88%97%E9%97%AE%E9%A2%98" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>è¿›å‡ºæ ˆåºåˆ—é—®é¢˜</h2>
<p><tc><c>0x1103</c><m>Medium</m><t>æ ˆ</t><t>æ•°å­¦</t><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%951" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 1</h3>
<p>\(O(n^2)\)ã€‚</p>
<p>è®¾ \(f(k)\) ä¸º \(n=k\) æ—¶çš„ç­”æ¡ˆã€‚æ˜¾ç„¶ï¼Œ\(f(0)=f(1)=1,f(2)=2\)ã€‚</p>
<p>å‡è®¾æœ€åä¸€ä¸ªå‡ºæ ˆçš„é€‰æ‰‹æ˜¯ \(k\)ã€‚ä¸€ä¸ªæ•°å…¥æ ˆæ—¶ï¼Œæ ˆé‡Œä¸å¯èƒ½æœ‰æ¯”å®ƒè¿˜å¤§çš„æ•°ï¼Œå¦‚æœæƒ³è¦å‹ç€ \(k\) ç•™åˆ°æœ€åä¸€ä¸ªå‡ºæ ˆï¼Œé‚£å¿…é¡»æŠŠæ¯”å®ƒå°çš„å…ˆè¸¢æ‰ï¼Œè®©å®ƒåˆ°æ ˆåº•ã€‚å› æ­¤åœ¨å®ƒä¹‹å‰å…¥æ ˆçš„å…±æœ‰ \(f(k-1)\) ç§æ’åˆ—æ–¹å¼ï¼Œè·³è¿‡å®ƒï¼Œæ¯”å®ƒå¤§çš„å…±æœ‰ \(f(n-k)\) ç§æ–¹å¼ã€‚æ€»æ–¹æ¡ˆæ•°æ˜¯</p>
\[\sum_{k=1}^nf(k-1) \cdot f(n-k)
\]
<p>è¿™æ ·çš„æ‹†åˆ†æ˜¯å¯è¡Œçš„ã€‚åŒæ ·ï¼Œä¹Ÿå¯ä»¥åˆ†æ \(1\) æ¥å¾—åˆ°è¿™ä¸ªç»“è®ºã€‚</p>
<h3><a id="%E7%AE%97%E6%B3%952" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 2</h3>
<p>\(O(n^2)\)ã€‚</p>
<p>è®¾ \(f(i,j)\) ä¸ºå…¶ä¸­å‡ºäº† \(i\) ä¸ªï¼Œè¿˜æœ‰ \(j\) ä¸ªæ²¡å‡ºçš„æ–¹æ¡ˆæ•°ã€‚ç›®æ ‡çŠ¶æ€ä¸º \(f(n,0)\)ã€‚</p>
<p>æ¯ä¸€æ­¥è¦ä¹ˆå¼¹å…¥ä¸€ä¸ªï¼Œè¦ä¹ˆå¼¹å‡ºæ ˆé¡¶ã€‚</p>
\[f(i,j)=f(i-1,j+1)+f(i,j-1)
\]
<h3><a id="%E7%AE%97%E6%B3%953" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 3</h3>
<p>è¿™ç©æ„å°±æ˜¯å¡ç‰¹å…°æ•°ã€‚</p>
\[Cat_n=\dfrac{2n \choose n}{n+1}
\]
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è´ºå°±å®Œäº†ã€‚</p>
<pre class="line-numbers"><code class="language-python">from math import factorial
n = int(input())
a = factorial(2 * n)
b = factorial(n)
print(a // b // b // (n + 1))
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ABC249]]></title>
    <link href="oi.afobject.ml/abc249.html"/>
    <updated>2022-04-23T20:54:17+08:00</updated>
    <id>oi.afobject.ml/abc249.html</id>
    <content type="html"><![CDATA[
<p>ä¸ºä»€ä¹ˆæ¯æ¬¡æ‰“ ABC éƒ½ç¢°ä¸Šè“è‰²çš„ Eï¼ˆæ¼ï¼‰</p>
<p>Rated, 4/8, 977 \(\to\) 987</p>
<span id="more"></span><!-- more -->
<h2><a id="d-index-trio" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>D Index Trio</h2>
<p><tc><m>Medium- *983</m><t>æ•°è®º</t><t>ç»„åˆ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%951" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 1</h3>
<p>ä»ä¹˜ç§¯å‡ºå‘ã€‚</p>
<p>è€ƒè™‘å¯¹äºæ¯ä¸€ä¸ªæ•°ï¼Œæ ¹å·å¤æ‚åº¦åˆ†è§£è´¨å› æ•°ã€‚å¦‚æœåˆ†åˆ°çš„æ°å¥½éƒ½æ˜¯æ•°åˆ—é‡Œçš„æ•°ï¼Œåˆ™ç­”æ¡ˆåŠ ä¸Šä¸¤è¾¹å‡ºç°æ¬¡æ•°çš„ä¹˜ç§¯å†ä¹˜ä»¥äºŒã€‚æœ‰ä¸€äº›å°ç»†èŠ‚ã€‚</p>
<h3><a id="%E7%AE%97%E6%B3%952" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 2</h3>
<p>ä»ä¹˜æ•°å‡ºå‘ã€‚</p>
<p>åœ¨è®°å½•æ¯ä¸ªæ•°çš„å‡ºç°æ¬¡æ•°åï¼Œå¯¹äºæ¯å¯¹ \((i,j)\)ï¼Œç­”æ¡ˆç›´æ¥åŠ ä¸Š \(c_i \cdot c_j \cdot c_{i \times j}\)ã€‚æ—¶é—´å¤æ‚åº¦èƒ½è¿‡ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>ï¼ˆç®—æ³• 1ï¼‰</p>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n;
int b[1000001];

signed main() {
    n = read();
    for (int i = 1; i &lt;= n; i++)
        ++b[read()];
    int ans = 0;
    for (int i = 1; i &lt;= 200000; i++) {
        if (!b[i]) continue;
        for (int x = 1; x * x &lt;= i; ++x)
            if (i % x == 0)
                if (b[x] &amp;&amp; b[i / x]) {
                    if (x * x == i) ans += b[i] * b[x] * b[x];
                    else ans += b[i] * b[x] * b[i / x] * 2;
                }
    }
    printf(&quot;%lld\n&quot;, ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="f-ignore-operations" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>F Ignore Operations</h2>
<p><tc><m>Medium *1786</m><t>å †</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘ä¸€ä¸‹å¦‚æœä¸€å®šè¦åˆ ä¸€ä¸ªæ“ä½œï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯çœ‹ä¸€ä¸‹åˆ å“ªä¸ªå¯¹æœ€ç»ˆçš„ç»“æœæœ€å¥½ã€‚å¦‚æœè¯¥æ“ä½œåé¢æœ‰æ›¿æ¢æ“ä½œï¼Œé‚£ä¹ˆå±ç”¨æ²¡æœ‰ï¼›å¦åˆ™å¯¹æœ€ç»ˆç­”æ¡ˆçš„è´¡çŒ®å°±æ˜¯è¿›è¡Œåˆ°é‚£ä¸€æ­¥å’Œå‰ä¸€æ­¥æ“ä½œåçš„ç»“æœå·®ã€‚</p>
<p>é‚£å¦‚æœä¸€å®šè¦åˆ ä¸¤ä¸ªå‘¢ï¼Ÿ</p>
<p>åœ¨æ›¿æ¢æ“ä½œå‰é¢åˆ å±ç”¨æ²¡æœ‰ã€‚æ‰€ä»¥è¦ä¹ˆåœ¨è¿™ä¹‹åé€‰ \(y\) æœ€å°çš„ä¸¤ä¸ªä¿®æ”¹æ“ä½œï¼Œè¦ä¹ˆå°±å¹²è„†ç›´æ¥æŠŠè¿™ä¸ªæ›¿æ¢æ“ä½œåˆ äº†ã€‚æ‰€ä»¥æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li>åœ¨æœ€åä¸€ä¸ªæ›¿æ¢æ“ä½œåé¢é€‰ä¸¤ä¸ª \(y\) æœ€å°çš„åˆ ï¼›</li>
<li>åˆ äº†æœ€åä¸€ä¸ªæ›¿æ¢æ“ä½œï¼Œç„¶ååœ¨å€’æ•°ç¬¬äºŒä¸ªåé¢é€‰ä¸€ä¸ªæœ€å°çš„åˆ ï¼›</li>
<li>ç›´æ¥åˆ æ‰æœ€åä¸¤ä¸ªæ›¿æ¢æ“ä½œã€‚</li>
</ul>
<p>æ‰©å±•åˆ°é€‰ \(k\) ä¸ªåˆ ï¼Œä¸”æ²¡å¿…è¦åˆ å®Œï¼š</p>
<ul>
<li>åœ¨æœ€åä¸€ä¸ªæ›¿æ¢æ“ä½œåé¢é€‰è‡³å¤š \(k\) ä¸ª \(y\) æœ€å°ä¸”ä¸ºè´Ÿçš„åˆ ï¼›</li>
<li>åˆ äº†æœ€åä¸€ä¸ªæ›¿æ¢æ“ä½œï¼Œç„¶ååœ¨å€’æ•°ç¬¬äºŒä¸ªåé¢é€‰è‡³å¤š \(k-1\) ä¸ªæœ€å°ä¸”ä¸ºè´Ÿçš„åˆ ï¼›</li>
<li>â€¦â€¦</li>
<li>æŠŠæœ€å \(k\) ä¸ªæ›¿æ¢æ“ä½œå…¨åˆ äº†ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚</li>
</ul>
<p>åœ¨ä»¥ä¸Š \(k+1\) ç§ç­”æ¡ˆä¸­é€‰ä¸€ä¸ªæœ€å°çš„å³å¯ã€‚åˆ°è¿™é‡Œæ—¶é—´å¤æ‚åº¦ä¸º \(O(n \log n + k^2)\)ï¼Œä¸å¤ªè¡Œã€‚</p>
<p>æ¥ä¸‹æ¥è€ƒè™‘æ€ä¹ˆæ›´é«˜æ•ˆåœ°ç»´æŠ¤ä¿¡æ¯ã€‚å¯ä»¥ä»åå¾€å‰ï¼ŒåŠ¨æ€ç»´æŠ¤æ‰€æœ‰ä¿®æ”¹æ“ä½œ \(y\) çš„å‰ \(k\) å°ï¼Œå¹¶ç»´æŠ¤è¿™ä¸ªé¡ºåºï¼Œç¢°åˆ°ä¸€ä¸ªæ›¿æ¢æ“ä½œçš„æ—¶å€™å°±å¯ä»¥è®¡ç®—å‡ºä¸€ç§å¯èƒ½çš„ç­”æ¡ˆäº†ã€‚</p>
<p>è®¾ä¸¤ä¸ªç›¸é‚»çš„æ›¿æ¢æ“ä½œåœ¨ \(i,j\) è¿™ä¸¤ä¸ªä½ç½®ï¼Œå¹¶ä¸”æˆ‘å·²ç»åœ¨ \((j,n]\) èŒƒå›´å†…çš„ä¿®æ”¹æ“ä½œä¸­æ‰¾åˆ°äº†åˆ å»æœ€ä¼˜çš„ \(k\) ä¸ªçš„å’Œã€‚æˆ‘ç°åœ¨è¦æ‰¾ \((i,n]\) èŒƒå›´å†…æœ€ä¼˜ \(k-1\) ä¸ªçš„å’Œã€‚è¿™ä¸ªç›¸å¯¹æ¯”è¾ƒå®¹æ˜“ï¼Œé¦–å…ˆå…ˆè¸¢å‡ºå»ä¸€ä¸ªï¼Œç„¶åä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå¤§æ ¹å †ï¼‰ç»´æŠ¤å°±è¡Œäº†ï¼ˆåŒæ—¶å¦å¤–ç»´æŠ¤ä¸€ä¸ªæ€»å’Œï¼‰ï¼Œåœ¨ \((i,j)\) çš„ä¿®æ”¹æ“ä½œä¸­ç¢°åˆ°æœ‰æ¯”ä¼˜å…ˆé˜Ÿåˆ—ä¸­ç›¸å¯¹æœ€ä¸ä¼˜çš„é‚£ä¸ªæ›´ä¼˜çš„ï¼ŒæŠŠå®ƒé¡¶æ‰å°±è¡Œäº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, k;
std::stack&lt;int&gt; rep;
std::priority_queue&lt;long long&gt; q;
long long t[200005], y[200005];
long long suf[200005];

int main() {
    n = read(), k = read();
    rep.push(0);
    for (int i = 1; i &lt;= n; i++) {
        t[i] = read(), y[i] = read();
        if (t[i] == 1)
            rep.push(i);
    }

    for (int i = n; i; --i)
        if (t[i] == 2)
            suf[i] = suf[i + 1] + y[i];
        else
            suf[i] = suf[i + 1];

    int now, last = n;
    long long sum = 0, ans = -1e18;
    do {
        now = rep.top() + 1;
        rep.pop();
        for (int i = now; i &lt;= last; ++i)
            if (t[i] == 2 &amp;&amp; y[i] &lt; 0) {
                if (q.size() &lt; k) {
                    sum += y[i];
                    q.push(y[i]);
                } else if (k &amp;&amp; q.top() &gt; y[i]) {
                    sum += y[i] - q.top();
                    q.pop();
                    q.push(y[i]);
                }
            }
        ans = std::max(ans, y[now - 1] + suf[now] - sum);
        last = now - 2;
        if (k &amp;&amp; q.size() == k) sum -= q.top(), q.pop();
        --k;
    } while (k &gt;= 0 &amp;&amp; rep.size());

    printf(&quot;%lld\n&quot;, ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="e-rle" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>E RLE</h2>
<p><tc><m>Medium+ *1970</m><t>DP</t><t>å‰ç¼€å’Œ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è®¾ \(f(i,j)\) ä¸ºåŸé•¿ä¸º \(i\)ï¼Œå‹ç¼©åé•¿ä¸º \(j\) çš„ä¸ªæ•°ã€‚</p>
<p>æ¥ä¸‹æ¥è€ƒè™‘è½¬ç§»ã€‚é¦–å…ˆå‡å¦‚è¿ç»­æ®µé•¿åº¦éƒ½åªæœ‰ä¸ªä½æ•°ï¼Œåˆ™</p>
\[f(i,j)=\sum_{k=1}^9 f(i-k,j-2)
\]
<p>æ‰©å±•ï¼š</p>
\[\begin{aligned}
f(i,j)&amp;=\sum_{k=1}^i f(i-k,j-\lfloor\log_{10}(k)\rfloor-1)
\end{aligned}
\]
<p>\(k\) ä» \(1\) åˆ° \(i\) çš„éå†ç›¸å½“äºé€ä¸ªå°è¯•è¿™ä¸ªå­—ç¬¦ä¸²æœ€åè¿ç»­ç›¸åŒå­—ç¬¦çš„ä¸ªæ•°ã€‚</p>
<p>ä½†ä¸Šé¢è¿™ä¸ªæ–¹ç¨‹ä¸å®Œå…¨å¯¹ï¼Œè¿˜è¦è€ƒè™‘åˆ°æ¯ä¸ªå­—ç¬¦éƒ½ä¸ä¸€æ ·ï¼Œè½¬ç§»æ—¶éƒ½è¦ä¹˜ä¸Šç³»æ•° \(25\)ã€‚</p>
<p>ä½†æ˜¯è¿™æ ·çš„æ•ˆç‡è¿˜æ˜¯ä¸å¤Ÿé«˜ï¼Œæˆ‘ä»¬è€ƒè™‘å¯¹äº \(f\) çš„æ¯ä¸€è¡Œè¿›è¡Œä¸€ä¸ªå‰ç¼€å’Œï¼Œç”±äº \(i,j\) æ˜¾ç„¶æœ€å¤šåªæ˜¯å››ä½æ•°ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹å˜ä¸ºï¼š</p>
\[\begin{aligned}
f(i,j)&amp;=25 \cdot [ s(i-1,j-2)-s(i-10,j-2)\\
&amp;+s(i-10,j-3)-s(i-100,j-3)\\
&amp;+s(i-100,j-4)-s(i-1000,j-4)\\
&amp;+s(i-1000,j-5)-s(i-10000,j-5) ]
\end{aligned}
\]
<p>è®¡æ•°çš„æ—¶å€™ä»å°åˆ°å¤§å¯¹äºæ¯ä¸ª \(i\) åˆ†åˆ«è®¨è®ºï¼Œæ³¨æ„åˆ°å½“åŸé•¿ä¸º \(i\) æ—¶ï¼Œ\(j\) è‡³å°‘ä¸º \(\lfloor \log_{10}(i)  \rfloor+1\)ï¼Œå› æ­¤åˆå§‹å€¼ \(f(i,\lfloor \log_{10}(i)\rfloor+1)=26\)ï¼Œå…¶ä½™çš„ç›´æ¥ \(0\)ï¼Œæ‡’å¾—è€ƒè™‘è¾¹ç•Œé—®é¢˜ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">long long n, p; // npk48
long long f[3005][3005], s[3005][3005];

int len(int x) {
    if (x &lt; 10) return 2;
    if (x &lt; 100) return 3;
    if (x &lt; 1000) return 4;
    return 5;
}

int main() {
    n = read(), p = read();
    for (int i = 1; i &lt;= n; ++i) {
        f[i][len(i)] = 26ll;
        for (int j = 1; j &lt; n; ++j) {
            f[i][j] = M(f[i][j] + 25ll * (s[T(i - 1)][T(j - 2)]     - s[T(i - 10)][T(j - 2)]));
            f[i][j] = M(f[i][j] + 25ll * (s[T(i - 10)][T(j - 3)]    - s[T(i - 100)][T(j - 3)]));
            f[i][j] = M(f[i][j] + 25ll * (s[T(i - 100)][T(j - 4)]   - s[T(i - 1000)][T(j - 4)]));
            f[i][j] = M(f[i][j] + 25ll * (s[T(i - 1000)][T(j - 5)]  - s[T(i - 3001)][T(j - 5)]));
            s[i][j] = M(s[i - 1][j] + f[i][j]);
        }
    }
    long long ans = 0;
    for (int i = 1; i &lt; n; ++i)
        ans = M(ans + f[n][i]);
    printf(&quot;%lld\n&quot;, ans);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x00 ç´¢å¼•]]></title>
    <link href="oi.afobject.ml/0x00-.html"/>
    <updated>2022-04-23T11:01:36+08:00</updated>
    <id>oi.afobject.ml/0x00-.html</id>
    <content type="html"><![CDATA[
<h2><a id="0x01" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>0x01</h2>
<table>
<thead>
<tr>
<th>é¢˜ç›®</th>
<th>ä¸€å¥è¯é¢˜è§£</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x0101</td>
<td>å¿«é€Ÿå¹‚æ¿å­ï¼Œé€šè¿‡äºŒè¿›åˆ¶æ‹†åˆ† \(b\) è¯æ˜ç»“è®ºã€‚</td>
</tr>
<tr>
<td>0x0102</td>
<td>æ¨¡æ‹Ÿã€‚</td>
</tr>
<tr>
<td>0x0103</td>
<td>å¿«é€Ÿå¹‚æ”¹å¿«é€Ÿä¹˜ã€‚</td>
</tr>
<tr>
<td>0x0104</td>
<td>çŠ¶å‹ DP æ¿å­ï¼Œè®¾ \(f(i,u)\) ä¸ºç»è¿‡çš„ç‚¹é›†ä¸º \(i\)ï¼Œä¸”å½“å‰ç‚¹ä¸º \(u\) æ—¶çš„æœ€çŸ­è·¯é•¿åº¦ï¼Œå®¹æ˜“æ¨å‡ºè½¬ç§»æ–¹ç¨‹ã€‚</td>
</tr>
<tr>
<td>0x0105</td>
<td>ä»é«˜åˆ°ä½å¯¹äºæ¯ä¸€ä½åˆ†åˆ«è®¨è®ºï¼Œå¦‚æœè¯¥ä½ä¸ç¡®å®šï¼Œåˆ™åœ¨ \(m\) çš„é™åˆ¶æ¡ä»¶ä¸‹å°½é‡è®©å®ƒå˜æˆ 1ã€‚</td>
</tr>
</tbody>
</table>
<h2><a id="0x02" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>0x02</h2>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ABC248]]></title>
    <link href="oi.afobject.ml/abc248.html"/>
    <updated>2022-04-16T23:32:16+08:00</updated>
    <id>oi.afobject.ml/abc248.html</id>
    <content type="html"><![CDATA[
<p>VP</p>
<span id="more"></span><!-- more -->
<h2><a id="e-k-colinear-line" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>E K-colinear Line</h2>
<p><tc><m>Medium- *1292</m><t>è®¡ç®—å‡ ä½•</t><t>STL</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä¸»è¦é—®é¢˜åœ¨äºå¦‚ä½•ç²¾ç¡®ã€çœåŠ›åœ°è¡¨ç¤ºä¸€æ¡ç›´çº¿ã€‚</p>
<p>å¯¹äºè¿‡ç‚¹ \((x_1,y_1),(x_2,y_2)\) çš„ç›´çº¿ï¼Œè®¾å…¶ä¸º \(y=kx+b\)ï¼Œåˆ™æœ‰ \(k=\dfrac{y_2-y_1}{x_2-x_1}\)ï¼Œ\(b=\dfrac{y_1x_2-y_2x_1}{x_2-x_1}\)ã€‚ä¸‹é¢é‚£ä¸ªåˆ†æ¯å®åœ¨æ˜¯å¤ªçƒ¦äº†ï¼Œæ¶ˆæ‰ï¼Œäºæ˜¯å°±å˜æˆäº† \((x_2-x_1)y=(y_2-y_1)x+y_1x_2-y_2x_1\)ã€‚</p>
<p>äºæ˜¯å¯ä»¥ç”¨ \(x_2-x_1\)ï¼Œ\(y_2-y_1\)ï¼Œ\(y_1x_2-y_2x_1\) è¿™ä¸‰ä¸ªä¸œè¥¿ï¼ˆå…¨éƒ¨é™¤å» \(\gcd\)ï¼Œä¸”ä½¿ \(x_2-x_1\) éè´Ÿï¼‰æ¥é‰´å®šä¸€æ¡ç›´çº¿ã€‚å¯ä»¥ä½¿ç”¨ <code>std::tuple</code>ã€‚</p>
<p>è¿™ä¹Ÿæ­£å¥½è§£å†³äº†å¹³è¡Œäº \(x\) è½´çš„ç›´çº¿çš„é—®é¢˜ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <code>std::multiset</code> ç»´æŠ¤ä¿¡æ¯ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n, k;
int x[301], y[301];

std::multiset&lt;std::tuple&lt;int, int, int&gt;&gt; m;
int t[90001];

auto line(int i, int j) {
    int a = x[i] - x[j];
    int b = y[i] - y[j];
    int c = x[j] * y[i] - x[i] * y[j];
    if (a &lt; 0) a = -a, b = -b, c = -c;
    const int g = gcd(a, gcd(b, c));
    a /= g, b /= g, c /= g;
    return std::make_tuple(a, b, c);
}

signed main() {
    n = read(), k = read();
    if (k == 1) return puts(&quot;Infinity&quot;), 0;
    for (int i = 1; i &lt;= n; ++i)
        x[i] = read(), y[i] = read();
    for (int i = 1; i &lt; n; ++i)
        for (int j = i + 1; j &lt;= n; ++j)
            m.insert(line(i, j));
    for (int i = 1; i &lt;= n; ++i)
        t[i * (i - 1) / 2] = i;
    int ans = 0;
    for (auto i = m.begin(); i != m.end(); i = m.upper_bound(*i))
        ans += (t[m.count(*i)] &gt;= k);
    printf(&quot;%lld\n&quot;, (int)ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="f-keep-connect" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>F Keep Connect</h2>
<p><tc><m>Medium+ *1828</m><t>DP</t><t>å›¾è®º</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p><strong>è€ƒè™‘ä¸€ä¸ªå­å›¾ \(G_k\)</strong>ï¼Œå®ƒåŒ…å«ç‚¹ \((1,1),(1,2)\) è‡³ \((k,1),(k,2)\)ã€‚åœ¨ DP è¿›è¡Œè¿‡ç¨‹ä¸­ï¼Œå®ƒçš„ \((k-1,1) \to (k,1)\)ï¼Œ\((k,1) \to (k,2)\) å’Œ \((k-1,2) \to (k,2)\) è¿™ä¸‰æ¡è¾¹ï¼ˆåˆ†åˆ«å«åš \(a,b,c\) è¾¹ï¼‰æœªç¡®å®šæ˜¯å¦å­˜åœ¨ã€‚</p>
<p><strong>è€ƒè™‘å®ƒåœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‰èƒ½è®©æœ€ç»ˆçš„å›¾è¿é€šã€‚</strong> ç¬¬ä¸€ç§æ˜¯å®ƒæœ¬èº«è¿é€šï¼›ç¬¬äºŒç§æ˜¯å®ƒæœ‰ä¸¤ä¸ªè¿é€šå—ï¼Œåˆ†åˆ«åŒ…å« \((k,1)\) å’Œ \((k,2)\)ï¼ˆæ³¨æ„ä¸€ä¸ªç‚¹ä¹Ÿç®—ä¸€ä¸ªè¿é€šå—ï¼ï¼‰ã€‚</p>
<p>æ¥ä¸‹æ¥è®¾è®¡çŠ¶æ€ã€‚\(f(k,j,s)\) ä¸º DP è¿›è¡Œåˆ° \(G_k\) æ—¶ï¼Œå·²åˆ äº† \(j\) æ¡è¾¹ï¼Œä¸”è¿é€šçŠ¶æ€ä¸º \(s\)ï¼ˆ\(s \in \{1,2\}\)ï¼‰æ—¶çš„ç­”æ¡ˆã€‚</p>
<p>æ¥ä¸‹æ¥è€ƒè™‘è½¬ç§»ï¼š</p>
<ol>
<li>ä» 1 è½¬ç§»åˆ° 1ã€‚è¿™ä¸ªæ—¶å€™å¯èƒ½çš„çŠ¶æ€æœ‰ï¼š\((a,b),(b,c),(a,c),(a,b,c)\)ï¼Œå…± 4 ç§ã€‚</li>
<li>ä» 2 è½¬ç§»åˆ° 2ã€‚å¯é€‰æ‹©çš„åªæœ‰ \((a,c)\)ã€‚</li>
<li>ä» 1 è½¬ç§»åˆ° 2ã€‚å¯ä»¥é€‰æ‹© \(a,c\)ï¼Œ2 ç§ã€‚</li>
<li>ä» 2 è½¬ç§»åˆ° 1ã€‚åªèƒ½é€‰æ‹© \((a,b,c)\)ã€‚</li>
</ol>
<p>å› æ­¤æœ‰ï¼š</p>
\[\begin{aligned}
f(k,j,1) &amp;= 3 \cdot f(k-1,j-1,1)+f(k-1,j,1)+f(k-1,j,2) \\
f(k,j,2) &amp;= f(k-1,j-1,2)+2 \cdot f(k-1,j-2,1)
\end{aligned}
\]
<p>æœ€åè€ƒè™‘åˆå§‹å€¼ã€‚\(f(1,0,1)=f(1,1,2)=1\)ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n, p;
int f[3001][3001][3];

void add(int &amp;x, int d) {
    x = (x + d) % p;
}

signed main() {
    n = read(), p = read();
    f[1][0][1] = f[1][1][2] = 1;
    for (int i = 2; i &lt;= n; ++i) {
        for (int j = 0; j &lt; n; ++j) {
            if (j &gt;= 1) add(f[i][j][1], 3 * f[i - 1][j - 1][1]);
            add(f[i][j][1], f[i - 1][j][1] + f[i - 1][j][2]);
            if (j &gt;= 1) add(f[i][j][2], f[i - 1][j - 1][2]);
            if (j &gt;= 2) add(f[i][j][2], 2 * f[i - 1][j - 2][1]);
        }
    }
    for (int i = 1; i &lt; n; ++i)
        printf(&quot;%lld &quot;, f[n][i][1]);
    putchar('\n');
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[2022 è”åˆçœé€‰]]></title>
    <link href="oi.afobject.ml/shoi-2022.html"/>
    <updated>2022-04-10T20:58:03+08:00</updated>
    <id>oi.afobject.ml/shoi-2022.html</id>
    <content type="html"><![CDATA[
<p>æˆ‘ä¸ºä»€ä¹ˆæ•¢æ¥åšçœé€‰ï¼Ÿ</p>
<span id="more"></span><!-- more -->
<h2><a id="d1t1-preprocessor" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>D1T1 Preprocessor</h2>
<p><tc><e>Easy+</e><t>æ¨¡æ‹Ÿ</t></tc></p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>çº¯çº¯çš„æ¨¡æ‹Ÿï¼Œæ¯ä¸€è¡Œåˆ†åˆ«å¤„ç†ã€‚</p>
<p>å¤„ç†ã€Œé€’å½’ã€æ˜¯æ ‡å‡†çš„ dfsã€‚</p>
<pre class="line-numbers"><code class="language-cpp">#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;iostream&gt;

#define isId(x) (x &gt;= '0' &amp;&amp; x &lt;= '9' || x &gt;= 'a' &amp;&amp; x &lt;= 'z' || x &gt;= 'A' &amp;&amp; x &lt;= 'Z' || x == '_')

int n;
std::map&lt;std::string, std::string&gt; dict;
std::map&lt;std::string, bool&gt; state;

void tryReplace(std::string s);
void processText(std::string s) {
    std::string current;
    for (char x : s)
        if (isId(x))
            current += x;
        else {
            tryReplace(current);
            std::cout &lt;&lt; x;
            current = &quot;&quot;;
        }
    if (current.size())
        tryReplace(current);
}

void processPreprocessor(std::string s) {
    int pos1 = s.find(&quot; &quot;);
    auto command = s.substr(1, pos1 - 1);
    if (command == &quot;define&quot;) {
        int pos2 = s.find(&quot; &quot;, pos1 + 1);
        auto id = s.substr(pos1 + 1, pos2 - pos1 - 1),
             replacement = s.substr(pos2 + 1);
        dict[id] = replacement;
    } else {
        auto id = s.substr(pos1 + 1);
        dict.erase(dict.find(id));
    }
} 

int main() {
    std::cin &gt;&gt; n;
    std::string t;
    getline(std::cin, t);
    while (n--) {
        std::string line;
        getline(std::cin, line);
        if (line[0] == '#')
            processPreprocessor(line);
        else
            processText(line);
        std::cout &lt;&lt; std::endl;
    }
    return 0;
}

void tryReplace(std::string s) {
    if (dict.find(s) != dict.end()) {
        if (!state[s])
            state[s] = true, processText(dict[s]);
        else
            std::cout &lt;&lt; s;
        state[s] = false;
    } else
        std::cout &lt;&lt; s;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x0809 ~ 0x080C]]></title>
    <link href="oi.afobject.ml/0x08-3.html"/>
    <updated>2022-04-06T07:39:26+08:00</updated>
    <id>oi.afobject.ml/0x08-3.html</id>
    <content type="html"><![CDATA[
<h2><a id="number-base-conversion" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Number Base Conversion</h2>
<p><tc><c>0x0809</c><e>Easy+</e><t>é«˜ç²¾</t><t>æ¨¡æ‹Ÿ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä»€ä¹ˆæ¨¡æ‹Ÿé¢˜ä¹±å…¥ï¼Œï¼Œï¼Œ</p>
<p>è€ƒè™‘éšä¾¿æ‰¾ä¸ªæ•°æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œ\(964\) è½¬åŒ– 7 è¿›åˆ¶ï¼š</p>
\[\begin{aligned}
964 \div 7 &amp;= 137 &amp;\ldots 5 \\
137 \div 7 &amp;= 19 &amp;\ldots 4 \\
19 \div 7 &amp;= 2 &amp;\ldots 5 \\
2 \div 7 &amp;= 2 &amp;\ldots2 \\
(964)_{10}&amp;=(2545)_7
\end{aligned}
\]
<p>å…¶å®å°±æ˜¯é«˜ç²¾é™¤ä½ç²¾ï¼Œé«˜ç²¾å–æ¨¡ä½ç²¾ã€‚</p>
<p>åé¢é‚£ä¸ªå¾ˆå®¹æ˜“ï¼Œå†çœ‹ä¸€ä¸‹å‰è€…æ˜¯æ€ä¹ˆåšçš„ã€‚</p>
\[\begin{aligned}
\underline 9 \div 7 &amp;= 1 &amp;\ldots 2 \\
\underline{26} \div 7 &amp;= 3 &amp;\ldots5 \\
\underline{54} \div 7&amp;=7 &amp;\ldots5
\end{aligned}
\]
<p>å¯ä»¥å‘ç°è¿‡ç¨‹ä¸­æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸­é—´å˜é‡ \(k\)ï¼Œä¹Ÿå°±æ˜¯ä¸‹åˆ’çº¿çš„éƒ¨åˆ†ã€‚å®ƒæ˜¯è®¡ç®—è¿‡ç¨‹ä¸­åŸæ•°å‰è‹¥å¹²ä½çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ï¼Œåªä¸è¿‡éƒ½åŠæ—¶æŒ‰ä½æ¨¡äº† \(7\)ã€‚</p>
<p>â€¦â€¦è¿˜è¯´å•¥å‘¢ï¼Œå¯ä»¥å¼€å§‹å†™äº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int T, a, b;
char s[1000001], ans[1000001];

int to10(char x) {
    if (x &gt;= '0' &amp;&amp; x &lt;= '9') return x - '0';
    if (x &gt;= 'A' &amp;&amp; x &lt;= 'Z') return x - 'A' + 10;
    return x - 'a' + 36;
}
char from10(int x) {
    if (x &lt;= 9) return x + '0';
    if (x &lt;= 35) return x - 10 + 'A';
    return x - 36 + 'a';
}

int main() {
    scanf(&quot;%d&quot;, &amp;T);
    while (T--) {
        scanf(&quot;%d%d&quot;, &amp;a, &amp;b);
        scanf(&quot;%s&quot;, s);
        printf(&quot;%d %s\n%d &quot;, a, s, b);
        int len = strlen(s), t = 0, ansSize = 0;
        while (t &lt; len) {
            int k = 0;
            for (int i = t; i &lt; len; ++i) {
                k = k * a + to10(s[i]);
                s[i] = from10(k / b);
                k %= b;
            }
            ans[++ansSize] = from10(k);
            while (t &lt; len &amp;&amp; s[t] == '0') ++t;
        }
        for (int i = ansSize; i; --i)
            printf(&quot;%c&quot;, ans[i]);
        printf(&quot;\n\n&quot;);
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="cow-acrobats" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cow Acrobats</h2>
<p><tc><c>0x080A</c><m>Medium-</m><t>è´ªå¿ƒ</t><t>æ•°å­¦</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>0x0704 æ”¹ç¼–ç‰ˆã€‚</p>
<p>ç¬¬ \(x\) å¤´å¥¶ç‰›çš„é£é™©å€¼ä¸º \(a=\sum\limits_{i=1}^{x-1} w_i - s_x\)ã€‚ç¬¬ \(x+1\) å¤´ç‰›é£é™©å€¼ä¸º \(b=\sum\limits_{i=1}^{x} w_i - s_{x+1}\)ã€‚</p>
<p>æœ€åå¥¶ç‰›ä¸€å®šæ˜¯æŒ‰ç…§æŸä¸ªé¡ºåºæ’åˆ—çš„ï¼Œä¸€æ—¦æ‰“ç ´è¿™ä¸ªé¡ºåºï¼ˆäº¤æ¢ï¼‰ï¼Œç­”æ¡ˆä¸€å®šä¼šå¢åŠ ã€‚å‡è®¾ç¬¬ \(x\) å¤´ç‰›ä¸ç¬¬ \(x+1\) å¤´ç‰›äº¤æ¢ã€‚</p>
<p>æ­¤æ—¶ï¼Œç¬¬ \(x\) å¤´ç‰›çš„é£é™©å€¼ä¸º \(c=\sum\limits_{i=1}^{x-1} w_i+w_{x+1}-s_x\)ï¼Œç¬¬ \(x+1\) å¤´ç‰›çš„é£é™©å€¼ä¸º \(d=\sum\limits_{i=1}^{x-1} w_i-s_{x+1}\)ã€‚</p>
\[\begin{aligned}
\Delta=&amp;\max\{c,d\}-\max\{a,b\}\\
=&amp;\max\{w_{x+1}-s_x, -s_{x+1}\}-\max\{-s_x, w_x - s_{x+1}\}\text{   (ç»ŸåŠ  }\sum_{i=1}^{x-1}w_i\text{ )}\\
=&amp;\max\{w_{x+1}+s_{x+1}, s_x\}-\max\{s_{x+1}, w_x + s_x\}\text{   (ç»ŸåŠ  }s_x+s_{x+1}\text{ )}
\end{aligned}
\]
<p>å¥½å¥½å¥½ï¼Œå½“ \(w_x+s_x&gt;w_{x+1}+s_{x+1}\) æ—¶ï¼Œå·¦è¾¹ \(s_x\) å†å¤§ä¹Ÿé“å®šå¤§ä¸äº† \(w_x+s_x\)ï¼Œ\(\Delta&lt;0\)ï¼Œäº¤æ¢æ›´ä¼˜ã€‚</p>
<p>å½“ \(w_x+s_x &lt; w_{x+1}+s_{x+1}\) æ—¶ï¼ŒåŒç†ï¼Œ\(\Delta&gt;0\)ï¼Œä¸äº¤æ¢æ›´ä¼˜ã€‚</p>
<p>å› æ­¤ï¼ŒæŒ‰ \(w_i+s_i\) ä»å°åˆ°å¤§æ’åºæœ€ä¼˜ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n;
struct Cow {
    int w, s;
    bool operator &lt; (const Cow &amp;rhs) const {
        return w + s &lt; rhs.w + rhs.s;
    }
} c[1000001];

int main() {
    n = read();
    for (int i = 1; i &lt;= n; ++i)
        c[i].w = read(), c[i].s = read();
    std::sort(c + 1, c + n + 1);
    int ans = -1e9, p = 0;
    for (int i = 1; i &lt;= n; ++i) {
        ans = std::max(ans, p - c[i].s);
        p += c[i].w;
    }
    printf(&quot;%d\n&quot;, ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="to-the-max" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>To The Max</h2>
<p><tc><c>0x080B</c><e>Easy</e><t>è´ªå¿ƒ</t><t>å‰ç¼€å’Œ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘ä»ä¸€ç»´çš„æœ€å¤§å­æ®µå’Œè½¬ç§»ã€‚ä¸å°±å¤šäº†ä¸€ä¸ªç»´åº¦å—ã€‚</p>
<p>æšä¸¾çŸ©å½¢çš„ä¸Šåº•å’Œä¸‹åº•å°±è¡Œäº†ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ \(O(n^3)\)ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n;
int s[101][101];

int main() {
    n = read();
    for (int i = 1; i &lt;= n; ++i)
        for (int j = 1; j &lt;= n; ++j)
            s[i][j] = read() + s[i][j - 1];
    int ans = -1e9;
    for (int i = 1; i &lt;= n; ++i)
        for (int j = i; j &lt;= n; ++j) {
            int max = -1e9, cur = 0;
            for (int k = 1; k &lt;= n; ++k) {
                cur += s[k][j] - s[k][i - 1];
                max = std::max(max, cur);
                cur = std::max(cur, 0);
            }
            ans = std::max(ans, max);
        }
    printf(&quot;%d\n&quot;, ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="task" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Task</h2>
<p><tc><c>0x080C</c><m>Medium-</m><t>è´ªå¿ƒ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>Ref: 0x0701</p>
<p>è€ƒè™‘å¯¹äºæ¯ä¸ªä»»åŠ¡ä»¥ \(x\) ä¸ºç¬¬ä¸€å…³é”®å­—ã€\(y\) ä¸ºç¬¬äºŒå…³é”®å­—ä»å¤§åˆ°å°æ’åºï¼Œä¼˜å…ˆä¿è¯ä¸Šé¢çš„ä»»åŠ¡ã€‚</p>
<p>å¯¹äºæ¯ä¸ªä»»åŠ¡ï¼Œé€‰ç”¨ \(x,y\) å‡æ»¡è¶³è¦æ±‚ä¸” \(y\) æœ€å°çš„æœºå™¨ã€‚è¿™æ ·ç¡®ä¿å¯¹äºæ¥ä¸‹æ¥å¤„ç†çš„ä»»åŠ¡ï¼Œ\(x\) çš„è¦æ±‚éƒ½èƒ½æ»¡è¶³ï¼Œä¸” \(y\) çš„è¦æ±‚ä¹Ÿå°½é‡èƒ½æ»¡è¶³ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è€ƒè™‘ä½¿ç”¨ <code>std::multiset</code> ç»´æŠ¤ä¿¡æ¯ã€‚æ¯æ¬¡å°† \(x\) æ»¡è¶³è¦æ±‚çš„å–å‡ºå¹¶æ”¾å…¥ <code>std::multiset</code> é‡Œï¼Œç”¨ <code>lower_bound</code> æŸ¥è¯¢ç¬¦åˆè¦æ±‚ä¸”æœ€å°çš„ \(y\)ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">int n, m;
std::pair&lt;int, int&gt; a[100001], b[100001];
std::multiset&lt;int&gt; s;

int main() {
    while (std::cin &gt;&gt; n &gt;&gt; m) {
        s.clear();
        for (int i = 1; i &lt;= n; ++i)
            std::cin &gt;&gt; a[i].first &gt;&gt; a[i].second;
        for (int i = 1; i &lt;= m; ++i)
            std::cin &gt;&gt; b[i].first &gt;&gt; b[i].second;
        std::sort(a + 1, a + n + 1);
        std::sort(b + 1, b + m + 1);
        int j = n, cnt = 0; long long ans = 0;
        for (int i = m; i; --i) {
            while (j &amp;&amp; a[j].first &gt;= b[i].first)
                s.insert(a[j--].second);
            auto it = s.lower_bound(b[i].second);
            if (it != s.end()) {
                ++cnt;
                ans += b[i].first * 500ll + b[i].second * 2;
                s.erase(it);
            }
        }
        std::cout &lt;&lt; cnt &lt;&lt; ' ' &lt;&lt; ans &lt;&lt; std::endl;
    }
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x0805 ~ 0x0808]]></title>
    <link href="oi.afobject.ml/0x08-2.html"/>
    <updated>2022-04-04T22:22:36+08:00</updated>
    <id>oi.afobject.ml/0x08-2.html</id>
    <content type="html"><![CDATA[
<h2><a id="%E9%98%B2%E7%BA%BF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é˜²çº¿</h2>
<p><tc><c>0x0805</c><e>Easy</e><t>äºŒåˆ†</t><t>å‰ç¼€å’Œ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ã€Šäººå·¥ h1ã€‹<strong>æœ€å¤šåªæœ‰ä¸€ä¸ªäº‹å¥‡æ•°çš„ä½ç½®ï¼</strong>ã€Š/äººå·¥ h1ã€‹</p>
<p>æ‰€ä»¥ç›´æ¥äºŒåˆ†å‡ºç¬¬ä¸€ä¸ªå‡ºç°å‰ç¼€å’Œä¸ºå¥‡æ•°çš„ä½ç½®å°±å¥½äº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æ ·ä¾‹æå·è¢­ä¸è®²æ­¦å¾·ï¼!1</p>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int T, n;
int s[200001], e[200001], d[200001];

int upper(int x, int y) {
    if (x % y) return x / y + 1;
    else return x / y;
}

int sum(int x) {
    if (x &lt; 0) return 0;
    int ans = 0;
    for (int i = 1; i &lt;= n; ++i)
        if (s[i] &lt;= x)
            ans += upper(std::min(e[i], x) - s[i] + 1, d[i]);
    return ans;
}

signed main() {
    T = read();
    while (T--) {
        n = read();
        for (int i = 1; i &lt;= n; ++i)
            s[i] = read(), e[i] = read(), d[i] = read();
        int l = 0, r = 1ll &lt;&lt; 31;
        while (l &lt; r) {
            const int mid = (l + r) &gt;&gt; 1;
            if (sum(mid) &amp; 1) r = mid;
            else l = mid + 1;
        }
        if (l == 1ll &lt;&lt; 31) puts(&quot;There's no weakness.&quot;);
        else printf(&quot;%lld %lld\n&quot;, l, sum(l) - sum(l - 1));
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="corral-the-cows" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Corral the Cows</h2>
<p><tc><c>0x0806</c><c>USACO</c><e>Easy+</e><t>äºŒåˆ†</t><t>å‰ç¼€å’Œ</t><t>ç¦»æ•£åŒ–</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ç”±äº \(n\) æå°ï¼Œè€ƒè™‘ç¦»æ•£åŒ–ã€‚</p>
<p>ç¦»æ•£åŒ–å®Œäº†ä»¥åç…§æ ·äºŒåˆ†å°±å®Œäº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>å¤„ç†é‡åˆçš„ç‚¹ï¼›</li>
<li>è¾¹ç•Œæƒ…å†µã€‚</li>
</ol>
<pre class="line-numbers"><code class="language-cpp">int n, c;
int x[501], y[501];
int a[501], b[501];
int sizeA, sizeB;
int x1[501], y1[501];
int g[501][501];

int xid(int x) {
    return std::lower_bound(a + 1, a + sizeA, x) - a;
}
int yid(int y) {
    return std::lower_bound(b + 1, b + sizeB, y) - b;
}

bool check(int d) {
    for (int a2 = 1; a2 &lt; sizeA; ++a2)
        for (int b2 = 1; b2 &lt; sizeB; ++b2) {
            const int a1 = xid(x1[a2] - d + 1),
                      b1 = yid(y1[b2] - d + 1);
            const int sum = g[a2][b2] - g[a1 - 1][b2] - g[a2][b1 - 1] + g[a1 - 1][b1 - 1];
            if (sum &gt;= c)
                return true;
        }
    return false;
}

int main() {
    c = read(), n = read();
    for (int i = 1; i &lt;= n; ++i) {
        x[i] = a[i] = read();
        y[i] = b[i] = read();
    }

    std::sort(a + 1, a + n + 1);
    std::sort(b + 1, b + n + 1);
    sizeA = std::unique(a + 1, a + n + 1) - a;
    sizeB = std::unique(b + 1, b + n + 1) - b;
    for (int i = 1; i &lt;= n; ++i) {
        const int p = xid(x[i]), q = yid(y[i]);
        x1[p] = x[i], y1[q] = y[i];
        ++g[p][q];
    }
    for (int i = 1; i &lt;= n; ++i)
        for (int j = 1; j &lt;= n; ++j)
            g[i][j] += g[i - 1][j] + g[i][j - 1] - g[i - 1][j - 1];

    int l = 1, r = 1e5;
    while (l &lt; r) {
        const int mid = (l + r) &gt;&gt; 1;
        if (check(mid)) r = mid;
        else l = mid + 1;
    }
    printf(&quot;%d\n&quot;, l);
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E7%B3%96%E6%9E%9C%E4%BC%A0%E9%80%92" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç³–æœä¼ é€’</h2>
<p><tc><c>0x0807</c><c>HAOI 2008</c><e>Easy+</e><t>å‰ç¼€å’Œ</t><t>æ•°å­¦</t><t>ç¯ä¸Šé—®é¢˜</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>0x0503 ç®€åŒ–ç‰ˆï¼Œè¿™é‡Œé‡æ–°æ¨å¯¼ä¸€éï¼Œæ€è·¯å¯èƒ½ä¸åŒã€‚</p>
<p>å…ˆç ´ç¯æˆé“¾ã€‚å‡å¦‚åœ¨ \(a_1\) ä¸ \(a_n\) ä¹‹é—´æ–­å¼€ã€‚</p>
<p>è¦è®© \(a_1\) è¾¾åˆ° \(\overline{a}\)ï¼Œåˆ™éœ€è¦ \(a_2\) æä¾›å®ƒ \(\overline{a}-a_1\)ï¼ˆä¸ç®¡æ­£è´Ÿï¼‰ï¼Œè´¡çŒ®å¢åŠ  \(\mid\overline{a}-a_1\mid\)ã€‚</p>
<p>æ­¤æ—¶ \(a_2 \gets a_1 + a_2 - \overline{a}\)ã€‚æƒ³è®© \(a_2\) è¾¾åˆ° \(\overline{a}\)ï¼Œé‚£ä¹ˆå°±è¦ \(a_3\) ç»™å®ƒ \(\overline{a}-(a_1+a_2-\overline{a})=2\cdot\overline{a}-(a_1+a_2)\)ï¼Œè´¡çŒ®å¢åŠ  \(\mid2\cdot\overline{a}-(a_1+a_2)\mid\)ã€‚</p>
<p>å¯ä»¥å‘ç°ï¼Œæ€»ç­”æ¡ˆä¸º</p>
\[\sum_{i=1}^n\left|i \cdot \overline{a}-\sum_{j=1}^ia_j\right|
\]
<p>å‡å¦‚åŒå€ä¸€ä¸‹ï¼Œè¿›ä¸€æ­¥æ¨å¹¿ï¼Œç ´ç¯ç ´åœ¨ \(a_{k+1}\) ä¸ \(a_k\) ä¹‹é—´çš„ï¼Œæ€»ç­”æ¡ˆä¸º</p>
\[\sum_{i=1}^{n}\left|i \cdot \overline{a}-\sum_{j=k+1}^{i+k}a_j\right|
\]
<p>è®¾å‰ç¼€å’Œæ•°ç»„ä¸º \(s\)ï¼Œå³ \(s_i = \sum\limits_{j=1}^ia_j\)ã€‚</p>
<p>ç­”æ¡ˆå˜å½¢ä¸º</p>
\[\sum_{i=1}^{n}\left|i \cdot \overline{a}-s_{i+k}+s_{k}\right|
\]
<p>å‰é¢é‚£ä¸ªä¸œè¥¿å®åœ¨æ˜¯ä¸é¡ºçœ¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è®© \(a_i \gets a_i-\overline{a}\) å†è®¡ç®—å‰ç¼€å’Œ \(s\)ï¼Œç­”æ¡ˆå˜å½¢ä¸ºï¼š</p>
\[\sum_{i=1}^{n}\left|s_{k}-s_{i+k}\right|
\]
<p>\(s_k\) å®šï¼Œè€ƒè™‘åˆ° \(s_n=0\)ï¼Œè€Œå› ä¸ºçˆè´äº†ï¼Œæˆ‘ä»¬è¿™é‡Œçš„å‰ç¼€å’Œ \(s\) çš„å€¼åŸŸæ˜¯ \(2n\)ï¼Œ\(s_{n+j}=s_{j}\)ï¼Œæ‰€ä»¥å¼å­é‡Œçš„ \(s_{i+k}\) å¯ä»¥å–åˆ° \(s_1 \sim s_n\) çš„ä»»ä½•å€¼ï¼Œæ‰€ä»¥ç­”æ¡ˆä¹Ÿå°±æ˜¯</p>
\[\sum_{i=1}^{n}\left|s_{k}-s_i\right|
\]
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long
#define abs(x) ((x) &gt; 0 ? (x) : -(x))

int n;
int a[1000001], s[1000001];

signed main() {
    n = read();
    int sum = 0;
    for (int i = 1; i &lt;= n; ++i)
        a[i] = read(), sum += a[i];
    const int aver = sum / n;
    for (int i = 1; i &lt;= n; ++i)
        s[i] = s[i - 1] + a[i] - aver;
    std::sort(s + 1, s + n + 1);
    int ans = 0;
    for (int i = 1; i &lt;= n; ++i)
        ans += abs(s[(n + 1) &gt;&gt; 1] - s[i]);
    printf(&quot;%lld\n&quot;, ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="soldiers" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Soldiers</h2>
<p><tc><c>0x0808</c><m>Medium-</m><t>æ•°å­¦</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>çºµåæ ‡ç§»åˆ°ä¸­ä½æ•°å®¹æ˜“è¯æ˜ï¼Œæ¥ä¸‹æ¥è€ƒè™‘æ¨ªåæ ‡ã€‚</p>
<p>é¦–å…ˆè¯æ˜ä¸€ä¸ªäº‹ï¼šæŒ‰ \(x\) åæ ‡æ’åºåï¼Œæ¯ä¸ªç‚¹çš„é¡ºåºä¸æœ€ç»ˆç»“æœç›¸åŒã€‚</p>
<blockquote>
<h4><a id="%E8%AF%81%E6%98%8E" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>è¯æ˜</h4>
<p>è‹¥äº¤æ¢ä¸€ç»„ \((i,j)\)ï¼ˆ\(x_i&gt;x_j\) ä¸” \(a_i&gt;a_j\)ï¼‰é‚£ä¹ˆç­”æ¡ˆå°†å‡å°‘ \(\Delta=\mid x_i - a_i \mid + \mid  x_j - a_j \mid - \mid x_i - a_j \mid - \mid x_j - a_i \mid\)</p>
<ul>
<li>
<p>è‹¥ \(x_j &gt; a_i\) æˆ– \(x_i &lt; a_j\)ï¼š\(\Delta=0\)</p>
</li>
<li>
<p>è‹¥ \(a_j&lt;x_j&lt;a_i&lt;x_i\)ï¼š\(\Delta=x_i-a_i+x_j-a_j-x_i+a_j+x_j-a_i=2\cdot x_j-2\cdot a_i&lt;0\)</p>
</li>
<li>
<p>è‹¥ \(a_j&lt;x_j&lt;x_i&lt;a_i\)ï¼š\(\Delta=a_i-x_i+x_j-a_j-x_i+a_j+x_j-a_i=2\cdot x_j-2\cdot x_i&lt;0\)</p>
</li>
<li>
<p>è‹¥ \(x_j&lt;a_j&lt;x_i&lt;a_i\)ï¼š\(\Delta=a_i-x_i+a_j-x_j-x_i+a_j+x_j-a_i=2\cdot a_j-2\cdot x_i&lt;0\)</p>
</li>
<li>
<p>è‹¥ \(x_j&lt;a_j&lt;a_i&lt;x_i\)ï¼š\(\Delta=x_i-a_i+a_j-x_j-x_i+a_j+x_j-a_i=2\cdot a_j-2\cdot a_i&lt;0\)</p>
</li>
</ul>
<p>æ‰€ä»¥æ˜¯æ­£ç¡®çš„ã€‚</p>
</blockquote>
<p>ç„¶åå°±å®¹æ˜“äº†ï¼Œå› ä¸ºæœ¬æ¥ \(x\) åæ ‡å¾ˆå°æˆ–è€…å¾ˆå¤§çš„ï¼Œåˆ°æ—¶å€™ç›¸å¯¹äºå…¶ä»–ç‚¹å°±ä¸€å®šå¯ä»¥å°‘ç§»åŠ¨ä¸€ç‚¹ã€‚æ‰€ä»¥å…ˆæŠŠè¿™ä¸ªä¸œè¥¿æ¶ˆæ‰ï¼Œå› æ­¤è¿™ä¸ªæ—¶å€™å°±å¤„ç†å¥½ï¼Œå‘æœ€å³è¾¹çš„çœ‹é½ï¼Œä»å³åˆ°å·¦ç¬¬ \(i\) ä¸ªç‚¹çš„æ¨ªåæ ‡åŠ ä¸Š \(i\)ï¼ˆä¹Ÿå¯ä»¥å½“æˆï¼Œå‘æœ€å·¦è¾¹çš„å¯¹é½ï¼Œä»å·¦åˆ°å³ç¬¬ \(i\) ä¸ªç‚¹çš„æ¨ªåæ ‡å‡å» \(i\)ï¼‰ã€‚</p>
<p>æ›´ç†æ€§ä¸€ç‚¹ï¼Œè®¾æœ€ç»ˆç§»åˆ° \( a+1, a+2, \ldots, a+n\)ã€‚é‚£ä¹ˆç¬¬ \(i\) ä¸ªç‚¹çš„è´¡çŒ®æ˜¯ \(\mid x_i-(a+i) \mid=\mid (x_i-i)-a \mid\)ã€‚æ‰€ä»¥ \(x_i \gets x_i-i\) å³å¯ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œå°±å¯ä»¥ç…§å¸¸å–ä¸­ä½æ•°ç„¶åç®—ç­”æ¡ˆäº†ã€‚ç®¡ä»–ä¸Šä¸€æ­¥æ˜¯åŠ è¿˜æ˜¯å‡ï¼Œç›¸å¯¹åæ ‡å·®ä¸å˜ï¼Œç­”æ¡ˆä¸å˜å°±å®Œäº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define abs(x) ((x) &gt; 0 ? (x) : -(x))

int n, x[10001], y[10001];

int main() {
    n = read();
    for (int i = 1; i &lt;= n; ++i)
        x[i] = read(), y[i] = read();
    std::sort(x + 1, x + n + 1);
    for (int i = 1; i &lt;= n; ++i)
        x[i] -= i;
    std::sort(y + 1, y + n + 1);
    std::sort(x + 1, x + n + 1);
    int ans = 0, x0 = x[(n + 1) &gt;&gt; 1], y0 = y[(n + 1) &gt;&gt; 1];
    for (int i = 1; i &lt;= n; ++i)
        ans += abs(x[i] - x0) + abs(y[i] - y0);
    printf(&quot;%d\n&quot;, ans);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x0801 ~ 0x0804]]></title>
    <link href="oi.afobject.ml/0x08-1.html"/>
    <updated>2022-04-03T23:51:45+08:00</updated>
    <id>oi.afobject.ml/0x08-1.html</id>
    <content type="html"><![CDATA[
<h2><a id="the-pilots-brothers-refrigerator" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Pilots Brothers' Refrigerator</h2>
<p><tc><c>0x0801</c><e>Easy</e><t>çŠ¶å‹</t><t>æšä¸¾</t><t>æ¨¡æ‹Ÿ</t></tc></p>
<p>ç»™å®šä¸€ä¸ª \(4\times4\) çš„ 0-1 çŸ©é˜µï¼Œæ¯æ¬¡é€‰æ‹©ä¸€ä¸ª \((i,j)\)ï¼Œä½¿å¾—ç¬¬ \(i\) è¡Œã€ç¬¬ \(j\) åˆ—ä¸Šæ‰€æœ‰çš„æ•°åè½¬ã€‚</p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æšä¸¾æ¯ä¸€ä¸ªä½ç½®æ˜¯å¦åè½¬ï¼Œå¹¶æ¨¡æ‹Ÿã€‚æ—¶é—´å¤æ‚åº¦ O(èƒ½è¿‡)ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">bool m[5][5], c[5][5];

int main() {
    for (int i = 1; i &lt;= 4; ++i)
        for (int j = 1; j &lt;= 4; ++j) {
            char q; std::cin &gt;&gt; q;
            m[i][j] = (q == '-');
        }
    int min = 17, minS = 0;
    for (int s = 0; s &lt; 1 &lt;&lt; 16; ++s) {
        memcpy(c, m, sizeof c);
        int cnt = 0;
        for (int i = 0; i &lt; 16; ++i)
            if (s &amp; (1 &lt;&lt; i)) {
                ++cnt;
                const int row = i / 4 + 1, col = i % 4 + 1;
                for (int j = 1; j &lt;= 4; ++j)
                    c[row][j] ^= 1;
                for (int j = 1; j &lt;= 4; ++j)
                    c[j][col] ^= 1;
                c[row][col] ^= 1;
            }
        bool sum = 1;
        for (int i = 1; i &lt;= 4; ++i)
            for (int j = 1; j &lt;= 4; ++j)
                sum &amp;= c[i][j];
        if (sum &amp;&amp; cnt &lt; min)
            min = cnt, minS = s;
    }
    printf(&quot;%d\n&quot;, min);
    for (int i = 0; i &lt; 16; ++i)
        if (minS &amp; (1 &lt;&lt; i))
            printf(&quot;%d %d\n&quot;, i / 4 + 1, i % 4 + 1);
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E5%8D%A0%E5%8D%9Cdiy" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å åœ DIY</h2>
<p><tc><c>0x0802</c><e>Easy</e><t>æ¨¡æ‹Ÿ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">struct Node {
    int num;
    bool state;
};
std::deque&lt;Node&gt; q[14];

int trans(char c) {
    if (c &gt;= '2' &amp;&amp; c &lt;= '9')
        return c - '0';
    switch (c) {
        case '0': return 10;
        case 'J': return 11;
        case 'Q': return 12;
        case 'K': return 13;
        case 'A': return 1;
    }
    return 0;
}

int buc[14];

int main() {
    for (int i = 1; i &lt;= 13; ++i) {
        char c;
        for (int j = 1; j &lt;= 4; ++j) {
            std::cin &gt;&gt; c;
            // front ä¸Šï¼Œback ä¸‹ã€‚
            q[i].push_back({trans(c), false});
        }
    }
    while (q[13].size()) {
        auto current = q[13].front();
        q[13].pop_front();
        while (true) {
            const int t = current.num;
            if (t == 13)
                break;
            q[t].push_front({t, true});
            current = q[t].back();
            q[t].pop_back();
        }
    }
    for (int i = 1; i &lt;= 13; ++i)
        while (q[i].size())
            buc[q[i].front().num] += q[i].front().state,
            q[i].pop_front();
    int ans = 0;
    for (int i = 1; i &lt; 13; ++i)
        if (buc[i] == 4)
            ++ans;
    std::cout &lt;&lt; ans &lt;&lt; std::endl;
    return 0;
}
</code></pre>
<hr />
<h2><a id="fractal" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fractal</h2>
<p><tc><c>0x0803</c><e>Easy</e><t>æ¨¡æ‹Ÿ</t><t>åˆ†å½¢</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n;
int pow3[1001];
char res[1001][1001];

void fractal(int x, int y, int level) {
    if (level == 1) {
        res[x][y] = 'X';
        return;
    }
    const int t = pow3[level - 2];
    fractal(x, y, level - 1);
    fractal(x + (t &lt;&lt; 1), y, level - 1);
    fractal(x, y + (t &lt;&lt; 1), level - 1);
    fractal(x + (t &lt;&lt; 1), y + (t &lt;&lt; 1), level - 1);
    fractal(x + t, y + t, level - 1);
}

int main() {
    pow3[0] = 1;
    for (int i = 1; i &lt;= 7; ++i)
        pow3[i] = pow3[i - 1] * 3;
    while (scanf(&quot;%d&quot;, &amp;n)) {
        if (n == -1)
            break;
        memset(res, ' ', sizeof res);
        fractal(1, 1, n);
        for (int i = 1; i &lt;= pow3[n - 1]; ++i) {
            for (int j = 1; j &lt;= pow3[n - 1]; ++j)
                printf(&quot;%c&quot;, res[i][j]);
            putchar('\n');
        }
        puts(&quot;-&quot;);
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="raid" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Raid</h2>
<p><tc><c>0x0804</c></tc></p>
<p>ç–‘ä¼¼åªèƒ½ç”¨ç„å­¦ç®—æ³•å¡è¿‡ï¼Œæœ€åæƒ…å†µ \(n^2\)ã€‚ã€‚ã€‚å…ˆè·³è¿‡äº†ã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NOI Online 2022 Junior]]></title>
    <link href="oi.afobject.ml/noiol-junior-2022.html"/>
    <updated>2022-03-27T16:14:49+08:00</updated>
    <id>oi.afobject.ml/noiol-junior-2022.html</id>
    <content type="html"><![CDATA[
<p>åœºå¤–ï¼Œä¸ä¼šåš T2ã€‚</p>
<span id="more"></span><!-- more -->
<h2><a id="%E6%95%B0%E5%AD%A6%E6%B8%B8%E6%88%8F" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ•°å­¦æ¸¸æˆ</h2>
<p><tc><m>Medium+</m><t>æ•°å­¦</t><t>GCD</t></tc></p>
<p>å¯¹äºæ¯ä¸€ç»„ \((x,z)\)ï¼Œæ±‚æœ€å°çš„ \(y\)ï¼Œä½¿å¾— \(x \times y \times \gcd(x,y) = z\)ã€‚</p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è®¾ \(x = \gcd(x,y) \cdot a\)ï¼Œ\(y = \gcd(x,y)\cdot b\)ã€‚</p>
<p>åˆ™ \(\dfrac zx = \gcd(x,y) \cdot y = \gcd(x,y)^2 \cdot b\)ã€‚æ³¨æ„åˆ° \(x^2=\gcd(x,y)^2 \cdot a^2\)ï¼Œè€ƒè™‘æ¶ˆå»æ²¡ç”¨çš„ \(a\)ã€‚</p>
<p>å› ä¸º \(a \perp b\)ï¼Œæ‰€ä»¥ \(\gcd\left(\dfrac zx, x^2\right)=\gcd(x,y)^2\)ã€‚æ‰€ä»¥ \(\gcd(x,y) = \sqrt{\gcd\left(\dfrac zx, x^2\right)}\)ã€‚</p>
<p>æ‰€ä»¥ \(y = \dfrac z {x \cdot \sqrt{\gcd\left(\dfrac zx, x^2\right)}}\)ã€‚</p>
<p>æ²¡æ³•ç”¨ä»¥ä¸Šæ–¹æ³•å¤åŸ \(y\) çš„ï¼Œå‡ä¸ºæ— è§£ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int t, x, z;

int gcd(int a, int b) {
    return b ? gcd(b, a % b) : a;
}

signed main() {
    t = read();
    while (t--) {
        x = read(), z = read();
        if (z % x) { puts(&quot;-1&quot;); continue; }
        const int k = z / x;
        const int g = gcd(x * x, k);
        const int rt = sqrt(g);
        if (rt * rt != g) { puts(&quot;-1&quot;); continue; }
        printf(&quot;%lld\n&quot;, z / (x * rt));
    }
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NOI Online 2022 Senior]]></title>
    <link href="oi.afobject.ml/noiol-senior-2022.html"/>
    <updated>2022-03-26T16:46:05+08:00</updated>
    <id>oi.afobject.ml/noiol-senior-2022.html</id>
    <content type="html"><![CDATA[
<p>åœºå¤–ï¼Œå£èƒ¡äº† T1ã€‚</p>
<span id="more"></span><!-- more -->
<h2><a id="%E4%B8%B9%E9%92%93%E5%8D%A0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸¹é’“å </h2>
<p><tc><m>Medium+</m><t>DS</t><t>æ ‘çŠ¶æ•°ç»„</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>åˆæ­¥æ€è€ƒï¼šå¯¹äºç¬¬ \(i\) ä¸ªäºŒå…ƒç»„ï¼Œæ±‚å‡ºæœ€å·¦èƒ½ä½¿å®ƒä¼˜ç§€çš„ç«¯ç‚¹ \(x_i\)ï¼Œåœ¨è¿™ä¸ªç«¯ç‚¹åŠå…¶å³ä¾§çš„ä»»æ„ä¸€ä¸ªä½ç½®ï¼Œéƒ½èƒ½ä½¿å®ƒã€Œä¼˜ç§€ã€ã€‚å³å¼€å¤´æ¨¡æ‹Ÿä¸€éé¢„å¤„ç†ï¼Œæ¯ä¸ªäºŒå…ƒç»„çš„ \(x\) å³ä¸ºæŠŠè¯¥å¼¹çš„éƒ½å¼¹æ‰åæ ˆé¡¶çš„ä¸‹æ ‡ã€‚</p>
<p>ä¹‹åå¯¹äºæ¯ä¸€ç»„è¯¢é—®ï¼Œè¾“å‡º \(\sum_{i=l}^r[l \ge x_i]\) å°±è¡Œäº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è€ƒè™‘å°†è¯¢é—®ç¦»çº¿ï¼ŒæŒ‰å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºã€‚</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h0npr5t0lyj211h0u00v5.jpg" alt="" /></p>
<p>å®ç°è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>æ¨¡æ‹Ÿï¼Œè®°å½• \(x\)ï¼›</li>
<li>å°†æ‰€æœ‰çš„è¯¢é—®æŒ‰å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œå°† \(x\) æŒ‰ä»å¤§åˆ°å°çš„é¡ºåºä¾æ¬¡å‹å…¥ä¸€ä¸ªæ ˆï¼ˆä»£ç å®ç°çš„æ—¶å€™éšä¾¿ä»€ä¹ˆä¸œè¥¿ç»´æŠ¤ä¸€ä¸‹å°±è¡Œï¼Œæˆ‘æ‡’ï¼Œç”¨äº† <code>std::priority_queue</code>ï¼Œè¿˜æ˜¯å› ä¸ºæˆ‘æ‡’ï¼Œæ‰€ä»¥ç”¨å–ç›¸åæ•°æ¥è¾¾åˆ°å°æ ¹å †çš„æ•ˆæœï¼‰ä¸­ï¼Œæ ˆé¡¶ä¸ºæœ€å°çš„ \(x\)ï¼›</li>
<li>å¯¹äºæ¯ä¸€ä¸ªä¸‹æ ‡ \(i\)ï¼Œç»´æŠ¤ä¸€ä¸ªå«åš \(d_i\) çš„å¸ƒå°”å€¼ï¼Œä»£è¡¨å½“å‰ \(l\) æ˜¯å¦ \(\ge x_i\)ï¼›</li>
<li>éå†æ’åºå¥½çš„è¯¢é—®ï¼Œå¯¹äºæ¯ä¸€æ¬¡è¯¢é—® \([l,r]\)ï¼š
<ol>
<li>å°†æ‰€æœ‰ \(\le l\) çš„ \(x\) ä»æ ˆé¡¶å¼¹å‡ºï¼Œå¹¶å°†ç›¸åº”çš„ \(d\) èµ‹ä¸º \(1\)ï¼›</li>
<li>é€šè¿‡æ ‘çŠ¶æ•°ç»„æ±‚å‡º \(\sum_{i=l}^r d_i\)ã€‚</li>
</ol>
</li>
<li>æŒ‰åŸé¡ºåºè¾“å‡ºç­”æ¡ˆã€‚</li>
</ol>
<pre class="line-numbers"><code class="language-cpp">struct Node {
    int l, r, id;
    bool operator &lt; (const Node &amp;rhs) const {
        if (l == rhs.l)
            return r &lt; rhs.r;
        return l &lt; rhs.l;
    }
};

int n, q;
int a[1000001], b[1000001];
int c[1000001];
Node e[1000001];
int ans[1000001];

void update(int idx) {
    while (idx &lt;= n)
        ++c[idx], idx += idx &amp; (-idx);
}
int query(int idx) {
    int ans = 0;
    while (idx)
        ans += c[idx], idx -= idx &amp; (-idx);
    return ans;
}

int main() {
    n = read(), q = read();
    for (int i = 1; i &lt;= n; ++i)
        a[i] = read();
    for (int i = 1; i &lt;= n; ++i)
        b[i] = read();

    std::stack&lt;Node&gt; s;
    std::priority_queue&lt;std::pair&lt;int, int&gt;&gt; p;
    for (int i = 1; i &lt;= n; ++i) {
        while (!s.empty() &amp;&amp; (s.top().l == a[i] || s.top().r &lt;= b[i]))
            s.pop();
        if (s.empty()) p.push({-1, i});
        else p.push({-s.top().id - 1, i});
        s.push({a[i], b[i], i});
    }

    for (int i = 1; i &lt;= q; ++i) {
        const int l = read(), r = read();
        e[i] = {l, r, i};
    }
    std::sort(e + 1, e + q + 1);
    for (int i = 1; i &lt;= q; ++i) {
        while (!p.empty() &amp;&amp; -p.top().first &lt;= e[i].l) {
            update(p.top().second);
            p.pop();
        }
        ans[e[i].id] = query(e[i].r) - query(e[i].l - 1);
    }

    for (int i = 1; i &lt;= q; ++i)
        printf(&quot;%d\n&quot;, ans[i]);
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E8%AE%A8%E8%AE%BA" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>è®¨è®º</h2>
<p><tc><m>Medium+</m><t>ï¼Ÿ</t><t>ï¼Ÿ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<h4><a id="30%E5%88%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>30 åˆ†</h4>
<p><code>std::bitset</code> æš´åŠ›ï¼Œ\(O(Tn^3)\)ã€‚</p>

]]></content>
  </entry>
  
</feed>
