<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[OI Blog]]></title>
  <link href="oi.afobject.ml/atom.xml" rel="self"/>
  <link href="oi.afobject.ml/"/>
  <updated>2022-08-06T23:50:38+08:00</updated>
  <id>oi.afobject.ml/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.mweb.im/">MWeb</generator>
  
  <entry>
    <title type="html"><![CDATA[ABC262]]></title>
    <link href="oi.afobject.ml/abc262.html"/>
    <updated>2022-08-03T22:26:17+08:00</updated>
    <id>oi.afobject.ml/abc262.html</id>
    <content type="html"><![CDATA[
<p>Rated, 4/8, 1007 \(\to\) 1044</p>
<h2><a id="d-i-hate-non-integer-number" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>D I Hate Non-integer Number</h2>
<p><tc><m>Medium *1213</m><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æ˜¾ç„¶äº‹éœ€è¦æšä¸¾é€‰å‡ºçš„æ•°çš„ä¸ªæ•° \(i\) çš„ã€‚å°†æ‰€æœ‰æ•°æ¨¡ \(i\)ï¼Œè¦æ±‚é€‰å‡ºæ¥çš„æ•°å’Œä¸º 0ã€‚</p>
<p>å¼€å§‹ dpã€‚</p>
<p>è®¾ \(f(k,s,d)\) ä¸ºï¼Œåœ¨å‰ \(k\) ä¸ªæ•°ä¸­é€‰å– \(d\) ä¸ªæ•°ï¼Œä¸”æ€»å’Œä¸º \(s\)ã€‚è½¬ç§»éå¸¸æ˜¾ç„¶ï¼Œ\(f(k,s,d)=f(k-1,s-a_k\bmod i,d-1)+f(k-1,s,d)\)ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n, a[101], b[101];
int dp[101][101][101];

signed main() {
    n = read();
    for (int i = 1; i &lt;= n; ++i) a[i] = read();
    int ans = n;
    for (int i = 2; i &lt;= n; ++i) {
        int sum = 0;
        for (int j = 1; j &lt;= n; ++j)
            b[j] = a[j] % i, sum = (sum + b[j] + i) % i;
        for (int s = 0; s &lt; i; ++s)
            for (int k = 1; k &lt;= n; ++k)
                for (int d = 1; d &lt;= n; ++d)
                    dp[k][s][d] = 0;
        for (int j = 1; j &lt;= n; ++j)
            for (int k = j; k &lt;= n; ++k)
                ++dp[k][b[j]][1];

        for (int k = 1; k &lt;= n; ++k)
            for (int d = 2; d &lt;= std::min(k, i); ++d)
                for (int s = 0; s &lt; i; ++s)
                    dp[k][s][d] = (dp[k - 1][(s - b[k] + i) % i][d - 1] + dp[k - 1][s][d]) % 998244353;
        ans = (ans + dp[n][0][i]) % 998244353;
    }
    printf(&quot;%lld\n&quot;, ans);
}
</code></pre>
<hr />
<h2><a id="e-red-and-blue-graph" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>E Red and Blue Graph</h2>
<p><tc><m>Medium *1719</m><t>å›¾è®º</t><t>ç»„åˆ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è®¾ \(X\) ä¸ºè¿æ¥çº¢ç‚¹å’Œçº¢ç‚¹çš„è¾¹çš„æ¡æ•°ï¼Œ\(Y\) ä¸ºè¿æ¥çº¢ç‚¹å’Œè“ç‚¹çš„è¾¹çš„æ¡æ•°ã€‚æ‰€æœ‰çº¢ç‚¹çš„åº¦æ•°æ€»å’Œä¸º \(R=2X+Y\)ï¼Œå› æ­¤ \(R\) ä¸ \(Y\) åŒå¥‡å¶ã€‚æƒ³è¦ \(Y\) ä¸ºå¶æ•°ï¼Œè®© \(R\) ä¸ºå¶æ•°å³å¯ã€‚</p>
<p>è®© \(R\) ä¸ºå¶æ•°ï¼Œå°±æ˜¯åªèƒ½æœ‰å¶æ•°ä¸ªå¥‡ç‚¹è¢«é€‰å…¥çº¢ç‚¹ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>å¤ä¹ ï¼š</p>
<ol>
<li>ç»„åˆæ•°ï¼š\(\displaystyle \binom{n}{m}=\dfrac{n!}{(n-m)!\cdot m!}\)</li>
<li>æœ‰ç†æ•°å–æ¨¡ï¼š\(\dfrac ab \bmod p=a\cdot b^{p-2}\)</li>
</ol>
<pre class="line-numbers"><code class="language-cpp">#define int long long
#define MOD 998244353

int n, m, k;
int deg[200001];

int fact[200001];
int qpow(int a, int b) {
    int ans = 1;
    while (b) {
        if (b &amp; 1) ans = (ans * a) % MOD;
        a = (a * a) % MOD;
        b &gt;&gt;= 1;
    }
    return ans;
}

int binom(int a, int b) {
    return (fact[a] * qpow((fact[a - b] * fact[b]) % MOD, MOD - 2)) % MOD;
}


signed main() {
    n = read(), m = read(), k = read();

    fact[0] = 1;
    for (int i = 1; i &lt;= n; ++i)
        fact[i] = (fact[i - 1] * i) % MOD;

    while (m--) {
        int u = read(), v = read();
        ++deg[u]; ++deg[v];
    }
    int odd = 0;
    for (int i = 1; i &lt;= n; ++i) if (deg[i] &amp; 1) ++odd;
    int ans = 0;
    for (int d = 0; d &lt;= std::min(odd, k); d += 2) {
        if (k - d &lt;= n - odd)
            ans = (ans + binom(odd, d) * binom(n - odd, k - d)) % MOD;
    }
    printf(&quot;%lld\n&quot;, ans);
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x171 å †ä¸è´ªå¿ƒ]]></title>
    <link href="oi.afobject.ml/0x171.html"/>
    <updated>2022-07-29T22:00:10+08:00</updated>
    <id>oi.afobject.ml/0x171.html</id>
    <content type="html"><![CDATA[
<h2><a id="supermarket" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Supermarket</h2>
<p><tc><c>0x1701</c><m>Medium</m><t>è´ªå¿ƒ</t><t>åæ‚”è´ªå¿ƒ</t><t>å †</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å¯¹äºç¬¬ \(t\) å¤©ï¼Œæˆ‘ä»¬å°½é‡è¦å»é€‰å‰ \(t\) å¤§çš„å–æ‰ï¼Œä½†æ˜¯ä¸èƒ½æœ‰è¿‡æœŸçš„ã€‚</p>
<p>é¦–å…ˆå…ˆæ»¡è¶³è¦æ±‚ï¼Œä¸èƒ½æœ‰è¿‡æœŸçš„ï¼Œé‚£å°±æŒ‰æ—¶é—´é¡ºåºä»å°åˆ°å¤§æ’ä¸ªåºï¼Œä»å¤´å¼€å§‹å–ï¼Œä¸ä¼šæœ‰é—®é¢˜ã€‚ä½†æ˜¯æ˜¾ç„¶æ˜¯ä¸ä¼˜çš„ï¼Œé‚£å°±è¦åœ¨è´ªå¿ƒè¿‡ç¨‹ä¸­è°ƒæ•´ç­–ç•¥ï¼Œå½“ç¢°åˆ°ä¸€ä¸ªæ°å¥½è¦åœ¨é‚£ä¸€ä¸ªæ—¶åˆ»è¿‡æœŸä¸”æœªè¢«é€‰ä¸­çš„å•†å“ï¼Œæ˜¾ç„¶æ˜¯è¦æ¯”åŸæ–¹æ¡ˆä¼˜çš„ï¼ŒæŠŠå®ƒé¡¶ä¸Šå»ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æ¬¢è¿æ¥åˆ°ä¸å¼€ ll è§ç¥–å®—ç³»åˆ—</p>
<pre class="line-numbers"><code class="language-cpp">#define int long long
#define pii std::pair&lt;int, int&gt;

std::priority_queue&lt;pii, std::vector&lt;pii&gt;, std::greater&lt;pii&gt;&gt; q;

signed main() {
    n = read();
    for (int i = 1; i &lt;= n; i++)
        a[i].first = read(), a[i].second = read();
    std::sort(a + 1, a + n + 1);
    for (int i = 1; i &lt;= n; i++) {
        if (q.size() &lt; a[i].first) q.push({a[i].second, a[i].first});
        else if (q.size() == a[i].first) {
            if (a[i].second &gt; q.top().first)
                q.pop(), q.push({a[i].second, a[i].first});
        }
    }
    int ans = 0;
    while (q.size()) ans += q.top().first, q.pop();
    printf(&quot;%lld\n&quot;, ans);
}
</code></pre>
<hr />
<h2><a id="sequence" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sequence</h2>
<p><tc><c>0x1702</c><m>Medium+</m><t>è´ªå¿ƒ</t><t>æ’åº</t><t>å †</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘ \(M=2\)ã€‚ä¸¤ä¸ªåºåˆ—åˆ†åˆ«æ’åºï¼Œç¬¬ä¸€å°æ˜¯ \(a_1+b_1\)ã€‚ç¬¬äºŒå¤§æ˜¯ \(a_1+b_2\) æˆ– \(a_2+b_1\) ä¸­çš„ä¸€ä¸ªã€‚å‡è®¾æ˜¯å‰ä¸€ä¸ªï¼Œé‚£ä¹ˆç¬¬ä¸‰å¤§å°±æ˜¯ \(a_2+b_1, a_1+b_3, a_2+b_2\) ä¸­çš„ä¸€ä¸ªã€‚ä»¥æ­¤ç±»æ¨ï¼Œåé¢æˆ‘ä¸æƒ³å†™äº†ã€‚</p>
<p>è€ƒè™‘é‡å¤çš„é—®é¢˜ï¼šæŠŠè·¯å¾„ç”»å‡ºæ¥åˆ†é…ä¸€ä¸‹ã€‚</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h4xgd4f8jwj20u00ydacv.jpg" alt="" /></p>
<p>åæ­£å°±æ˜¯</p>
\[\begin{aligned}
(i,j,true) &amp;\to (i,j+1,true) \\
(i,j,false) &amp;\to \begin{cases}
(i+1,j+1, false)\\
(i,j+1,true)\end{cases}
\end{aligned}
\]
<p>å½“æ‰©å±•åˆ° \(M&gt;2\) æ—¶ï¼Œå…ˆæ±‚å‰ä¸¤ä¸ªï¼Œå†ç»“åˆç¬¬ä¸‰ä¸ªï¼Œâ€¦â€¦ï¼Œæ‡’å¾—å†™äº†ï¼Œç»“æŸã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int m, n;
std::vector&lt;int&gt; d[2001];

struct Node {
    int val, i, j;
    bool k;
    bool operator &lt; (const Node &amp;rhs) const {
        return val &gt; rhs.val;
    }
};

std::vector&lt;int&gt; cal(std::vector&lt;int&gt; &amp;a, std::vector&lt;int&gt; &amp;b) {
    std::priority_queue&lt;Node&gt; q;
    q.push((Node){a[1] + b[1], 1, 1, false});
    std::vector&lt;int&gt; ans;
    ans.push_back(0);
    while (!q.empty()) {
        Node x = q.top(); q.pop();
        ans.push_back(x.val);
        if (ans.size() == n + 1) break;
        if (!x.k &amp;&amp; x.i + 1 &lt;= n) q.push((Node){a[x.i + 1] + b[x.j], x.i + 1, x.j, false});
        if (x.j + 1 &lt;= n) q.push((Node){a[x.i] + b[x.j + 1], x.i, x.j + 1, true});
    }
    return ans;
}

int T;
int main() {
    T = read();
    while (T--) {
        m = read(), n = read();
        for (int i = 1; i &lt;= m; ++i) {
            d[i].clear();
            d[i].push_back(0);
            for (int j = 1; j &lt;= n; ++j)
                d[i].push_back(read());
            std::sort(d[i].begin() + 1, d[i].end());
        }
        if (m == 1) {
            for (int i = 1; i &lt;= n; ++i)
                printf(&quot;%d &quot;, d[1][i]);
            putchar('\n');
            continue;
        }
        auto ans = cal(d[1], d[2]);
        for (int i = 3; i &lt;= m; ++i)
            ans = cal(ans, d[i]);
        for (int i = 1; i &lt;= n; ++i)
            printf(&quot;%d &quot;, ans[i]);
        putchar('\n');
    }
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ABC261]]></title>
    <link href="oi.afobject.ml/abc261.html"/>
    <updated>2022-07-23T22:27:19+08:00</updated>
    <id>oi.afobject.ml/abc261.html</id>
    <content type="html"><![CDATA[
<p>[6/8] Rated, 3/8, 1031 \(\to\) 1007ï¼Œè¿™ä¸‹è¿™ä¸‹äº†</p>
<h2><a id="e-many-operations" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>E Many Operations</h2>
<p><tc><m>Medium *1261</m><t>ä½è¿ç®—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>çœ‹ä¸€ä¸‹æœ´ç´ ç®—æ³•åŠ£åœ¨å“ªé‡Œï¼Œä¸»è¦å°±æ˜¯æ˜æ˜çŸ¥é“é€šè¿‡çš„æ˜¯å“ªå‡ ä¸ªè¿ç®—ç¬¦ï¼Œè€Œä¸”ä¹‹å‰ä¹Ÿç®—è¿‡ä¸€éï¼Œä½†å› ä¸ºä¸€å¼€å§‹çš„æ•°ä¸ä¸€æ ·ï¼Œè¿˜å¾—é‡ç®—ä¸€éã€‚</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä»ã€Œä¸€å¼€å§‹çš„æ•°ã€å…¥æ‰‹ï¼Œå¦‚æœæŠŠä¸€å¼€å§‹çš„æ•°æŠ½è±¡åŒ–ä¸€ç‚¹ï¼ŒäºŒè¿›åˆ¶ä¸€ä½ä¸€ä½çœ‹ï¼Œè¿™æ ·å°±èƒ½æ›´å¥½åœ°åˆ©ç”¨ä¹‹å‰ç®—å¥½çš„ç»“æœã€‚</p>
<p>æå‰é¢„å¤„ç†ä¸€ä¸‹æ¯ä¸€ä½ä¸Š 0 æˆ– 1 é€šè¿‡å‰è‹¥å¹²ä¸ªè¿ç®—ç¬¦åçš„ç»“æœï¼Œç„¶åç®—ç­”æ¡ˆçš„æ—¶å€™å…ˆæ‹†ä½ï¼Œåˆ†åˆ«è®¡ç®—å†åˆå¹¶ã€‚</p>
<p>æ‹†é‚£</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>ä¹Ÿå¯ä»¥å†™æˆåœ¨çº¿åšæ³•æã€‚</p>
<pre class="line-numbers"><code class="language-cpp">int x, n;
int d[200001][31][2];

int main() {
    n = read(), x = read();
    for (int i = 0; i &lt;= 30; ++i)
        d[0][i][1] = 1, d[0][i][0] = 0;
    for (int i = 1; i &lt;= n; ++i) {
        int t = read(), p = read();
        for (int j = 0; j &lt;= 30; ++j) {
            d[i][j][0] = d[i - 1][j][0]; 
            d[i][j][1] = d[i - 1][j][1];
            if (t == 1)
                d[i][j][0] &amp;= ((p &gt;&gt; j) &amp; 1),
                d[i][j][1] &amp;= ((p &gt;&gt; j) &amp; 1);
            else if (t == 2)
                d[i][j][0] |= ((p &gt;&gt; j) &amp; 1),
                d[i][j][1] |= ((p &gt;&gt; j) &amp; 1);
            else if (t == 3)
                d[i][j][0] ^= ((p &gt;&gt; j) &amp; 1),
                d[i][j][1] ^= ((p &gt;&gt; j) &amp; 1);
        }
    }
    for (int i = 1; i &lt;= n; ++i) {
        int ans = 0;
        for (int j = 0; j &lt;= 30; ++j)
            ans += d[i][j][((x &gt;&gt; j) &amp; 1)] &lt;&lt; j;
        printf(&quot;%d\n&quot;, ans);
        x = ans;
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="d-flipping-and-bonus" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>D Flipping and Bonus</h2>
<p><tc><m>Medium *801</m><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è®¾ \(f(i,j)\) ä¸ºç¬¬ \(i\) è½®æ¸¸æˆåè®¡æ•°å™¨ä¸º \(j\) çš„æœ€å¤§æ”¶ç›Šã€‚</p>
<p>æ€ä¹ˆè½¬ç§»æï¼Ÿ\(f(i-1,j-1)\) è‚¯å®šæ˜¯å¯ä»¥è¿‡æ¥çš„ï¼Œè¿‡ç¨‹ä¸­åŠ ä¸Š \(x_i\) å’Œå¯¹åº”çš„ Bonusã€‚å¦å¤–å½“ \(j=0\) æ—¶ä» \(f(i-1,t)\) éƒ½å¯ä»¥è¿‡æ¥ï¼Œå…¶ä¸­ \(0 \le t &lt;i\)ï¼Œæ”¶ç›Šä¸º \(0\)ã€‚</p>
<p>ç„¶åæéº»éº»åœ°å‹æ‰ä¸€ç»´ï¼Œå°±è¿™</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>å‘ƒå‘ƒï¼Œå‹ç»´çš„è¿‡ç¨‹æ¯”æƒ³è±¡çš„è¦å¤æ‚ï¼Œæœ‰å¾ˆå¤šè¦è€ƒè™‘ï¼Œå»ºè®®ç›´æ¥å·æ‡’</p>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n, m;
int x[5001], y[5001];
int dp[2][5001];

signed main() {
    n = read(), m = read();
    for (int i = 1; i &lt;= n; i++) x[i] = read();
    for (int i = 1, t; i &lt;= m; i++) t = read(), y[t] = read();

    for (int i = 1; i &lt;= n; i++) {
        for (int k = 0; k &lt; i; k++)
            dp[i &amp; 1][0] = std::max(dp[i &amp; 1][0], dp[(i ^ 1) &amp; 1][k]);
        for (int k = i; k; k--)
            dp[i &amp; 1][k] = dp[(i ^ 1) &amp; 1][k - 1] + x[i] + y[k];
    }

    int ans = 0;
    for (int i = 0; i &lt;= n; ++i) {
        ans = std::max(ans, dp[n &amp; 1][i]);
    }
    printf(&quot;%lld\n&quot;, ans);
}
</code></pre>
<hr />
<h2><a id="f-sorting-color-balls" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>F Sorting Color Balls</h2>
<p><tc><m>Medium *1587</m><t>é€†åºå¯¹</t></tc></p>
<p>ç»™å®šä¸¤ä¸ªæ•°åˆ— \(X\) å’Œ \(C\)ï¼Œå¯ä»¥åŒæ—¶äº¤æ¢ç›¸é‚»çš„ä¸¤ä¸ªï¼Œè‹¥ \(C\) ä¸åŒåˆ™ä»£ä»·ä¸º \(1\)ï¼Œæ±‚ä½¿å¾— \(X\) å‡åºæœ€å°çš„ä»£ä»·ã€‚</p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å·®ä¸€ç‚¹ç‚¹å°±æ˜¯é€†åºå¯¹é—®é¢˜äº†ï¼Œçœ‹çœ‹æ€ä¹ˆè§£å†³ \(C\) ç›¸åŒæ—¶çš„é—®é¢˜ã€‚</p>
<p>ä½ æ±‚å‡ºæ¥çš„æ‰€æœ‰é€†åºå¯¹ï¼Œå…¶ä¸­å¤šä½™äº† \(C\) ç›¸åŒçš„é€†åºå¯¹ï¼Œé‚£ç›´æ¥æŠŠ \(C\) ç›¸åŒçš„é€†åºå¯¹æ‹å‡ºæ¥å‡æ‰ä¸å°±å¥½äº†ï¼Ÿ</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è¿˜çœŸä¸å¼€ ll è§ç¥–å®—æ˜¯å§</p>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n;
std::vector&lt;int&gt; _, x, c[1000001];

int cal(std::vector&lt;int&gt; &amp;v, int l, int r) {
    if (l &gt;= r) return 0;
    const int mid = (l + r) &gt;&gt; 1;
    int ans = cal(v, l, mid) + cal(v, mid + 1, r);
    int ql = l, qr = mid + 1;
    for (int i = l; i &lt;= r; ++i) {
        if ((v[ql] &lt;= v[qr] &amp;&amp; ql &lt;= mid) || qr == r + 1) _[i] = v[ql++];
        else _[i] = v[qr++], ans += mid - ql + 1;
    }
    for (int i = l; i &lt;= r; ++i) v[i] = _[i];
    return ans;
}

signed main() {
    n = read();
    _.resize(n);
    for (int i = 0; i &lt; n; ++i) _[i] = read();
    for (int i = 0; i &lt; n; ++i) x.push_back(read());
    for (int i = 0; i &lt; n; ++i) c[_[i]].push_back(x[i]);
    int ans = cal(x, 0, n - 1);
    for (int i = 1; i &lt;= n; ++i) ans -= cal(c[i], 0, c[i].size() - 1);
    printf(&quot;%lld\n&quot;, ans);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x16 Trie]]></title>
    <link href="oi.afobject.ml/0x16-.html"/>
    <updated>2022-07-19T23:03:21+08:00</updated>
    <id>oi.afobject.ml/0x16-.html</id>
    <content type="html"><![CDATA[
<h2><a id="%E5%89%8D%E7%BC%80%E7%BB%9F%E8%AE%A1" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å‰ç¼€ç»Ÿè®¡</h2>
<p><tc><c>0x1601</c><e>Easy</e><t>Trie</t></tc></p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>éƒ½ä»€ä¹ˆå¹´ä»£ï¼Œè¿˜åœ¨ç”¨ä¼ ç»ŸæŒ‡é’ˆå†™æ³•ï¼Ÿ</p>
<pre class="line-numbers"><code class="language-cpp">int n, m;
char s[5000001];

struct Node {
    int num;
    Node *sons[26];
} f;
void add(Node &amp;x, char *s, int t, int len) {
    if (t &gt;= len) {
        ++x.num;
        return;
    }
    const int T = s[t] - 'a';
    if (x.sons[T] == NULL)
        x.sons[T] = new Node();
    add(*x.sons[T], s, t + 1, len);
}
int find(Node &amp;x, char *s, int t, int len) {
    if (t &gt;= len) return x.num;
    const int T = s[t] - 'a';
    if (x.sons[T] == NULL)
        return x.num;
    return x.num + find(*x.sons[T], s, t + 1, len);
}
int main() {
    scanf(&quot;%d%d&quot;, &amp;n, &amp;m);
    while (n--) {
        scanf(&quot;%s&quot;, s);
        const int len = strlen(s);
        add(f, s, 0, len);
    }
    while (m--) {
        scanf(&quot;%s&quot;, s);
        const int len = strlen(s);
        printf(&quot;%d\n&quot;, find(f, s, 0, len));
    }
}
</code></pre>
<hr />
<h2><a id="the-xor-largest-pair" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>The XOR Largest Pair</h2>
<p><tc><c>0x1602</c><e>Easy+</e><t>Trie</t><t>ä½è¿ç®—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>é¦–å…ˆå…¨éƒ¨æ’ä¸€ä¸ª 0-1 Trie é‡Œé¢ï¼ˆä»é«˜ä½åˆ°ä½ä½ï¼‰ï¼Œç„¶ååç€æ¥æŸ¥æ‰¾å°±å¥½äº†ã€‚å¯ä»¥è¾¹æ’å…¥è¾¹æŸ¥è¯¢ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æ­£å¸¸å†™æ³•ã€‚</p>
<p><code>t</code> é‡Œé¢è®°çš„å…¨æ˜¯ç¼–å·ï¼Œç›¸å½“äºæŒ‡é’ˆï¼Œ<code>tot</code> å°±æ˜¯ä¸€ä¸ªå‘é…ç¼–å·çš„ä¸œè¥¿ã€‚è¿™ä¸ªé¢˜é‡Œé¢ä¸éœ€è¦é¢å¤–ç»´æŠ¤ä»€ä¹ˆä¸œè¥¿ï¼Œåªç”¨æ£€æŸ¥è¿™ä¸ªèŠ‚ç‚¹å­˜ä¸å­˜åœ¨ï¼Œä¸åƒä¸Šä¸€ä¸ªé¢˜è¿˜å¾—è®¡æ•°ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">int n;

int t[10000001][2], tot = 1;

void insert(int x) {
    for (int i = 30, p = 1; i &gt;= 0; --i) {
        const int g = (x &gt;&gt; i) &amp; 1;
        if (!t[p][g]) t[p][g] = ++tot;
        p = t[p][g];
    }
}

int search(int x) {
    int ans = 0;
    for (int i = 30, p = 1; i &gt;= 0; --i) {
        const int g = (x &gt;&gt; i) &amp; 1;
        if (t[p][!g]) p = t[p][!g], ans += 1 &lt;&lt; i;
        else p = t[p][g];
    }
    return ans;
}

int main() {
    n = read();
    int max = 0;
    while (n--) {
        int a = read();
        insert(a);
        max = std::max(max, search(a));
    }
    printf(&quot;%d\n&quot;, max);
}
</code></pre>
<hr />
<h2><a id="the-xor-longest-path" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>The XOR Longest Path</h2>
<p><tc><c>0x1603</c><e>Easy+</e><t>Trie</t><t>ä½è¿ç®—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä»¥ä¸‹ç”¨ã€Œå‰ã€ä»£è¡¨ XORã€‚</p>
<p>ä¸€ä¸ªæ•°å‰è‡ªå·±ç­‰äºé›¶ï¼Œä¸€ä¸ªæ•°å‰é›¶ç­‰äºè‡ªå·±ï¼Œæ‰€ä»¥ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»å°±ç­‰äºï¼ˆæ ¹åˆ°ä¸€ç«¯çš„å‰å’Œï¼‰å‰ï¼ˆæ ¹åˆ°å¦ä¸€ç«¯çš„å‰å’Œï¼‰ã€‚</p>
<p>æŠŠæ‰€æœ‰çš„æ ¹åˆ°ä¸€ç«¯çš„å‰å’Œå¡åˆ°ä¸Šä¸€é¢˜é‡Œé¢å°±å¥½äº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n;

// ä¸Šé¢˜ä»£ç 

int d[100001];
std::vector&lt;std::pair&lt;int, int&gt; &gt; e[100001];
void dfs(int x, int fa) {
    for (auto t : e[x]) {
        if (t.first == fa) continue;
        d[t.first] = d[x] ^ t.second;
        dfs(t.first, x);
    }
}

int main() {
    n = read();
    for (int i = 1; i &lt; n; ++i) {
        int u = read(), v = read(), w = read();
        e[u].push_back({v, w});
        e[v].push_back({u, w});
    }
    dfs(0, -1);
    int max = 0;
    for (int i = 0; i &lt; n; ++i) {
        insert(d[i]);
        max = std::max(max, search(d[i]));
    }
    printf(&quot;%d\n&quot;, max);
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ABC259]]></title>
    <link href="oi.afobject.ml/abc259.html"/>
    <updated>2022-07-09T22:15:54+08:00</updated>
    <id>oi.afobject.ml/abc259.html</id>
    <content type="html"><![CDATA[
<p>[6/8] Rated, 4/8, 987 \(\to\) 1031</p>
<p>A å’Œ B æ˜¥æ˜¥é—¹æ½­ã€‚</p>
<h2><a id="f-select-edges" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>F Select Edges</h2>
<p><tc><m>Medium *1961</m><t>DP</t><t>æ ‘</t><t>æœç´¢</t><t>è´ªå¿ƒ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä¸€çœ¼å°±æ˜¯ç±»ä¼¼æ ‘å½¢ dp çš„ä¸œè¥¿ã€‚</p>
<p>è®¡ç®—ä»¥ \(u\) ä¸ºå­æ ‘æ—¶çš„ç­”æ¡ˆçš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ï¼š</p>
<ol>
<li>\(u\) çš„çˆ¶äº²å’Œ \(u\) æ˜¯å¦å·²ç»ç›¸è¿ï¼Œå æ‰ \(u\) çš„ä¸€ä¸ªè¿æ¥åé¢ï¼Ÿæ‰€ä»¥åŠ ä¸€ä¸ªçŠ¶æ€ã€‚</li>
<li>å¯¹äºæ¯ä¸€ä¸ªå„¿å­ç»“ç‚¹ \(v\)ï¼Œæ˜¯å¦è¿æ¥ \(u\) å’Œ \(v\)ï¼Ÿå¦‚æœè¿æ¥ï¼Œåˆ™ \(v\) çš„è¿æ¥åé¢å°±è¦å‡å°‘ä¸€ä¸ªï¼ˆI å‹ï¼‰ï¼›å¦‚æœä¸è¿æ¥ï¼Œç›´æ¥è·³è¿‡è¿™æ¡è¾¹ï¼Œåœ¨ä»¥ \(v\) ä¸ºæ ¹çš„ä¸€æ£µå…¨æ–°çš„å­æ ‘ä¸Šç»§ç»­è®¡ç®—ï¼ˆII å‹ï¼‰ã€‚</li>
</ol>
<p>å¯¹äºä»¥ä¸Šç¬¬äºŒç‚¹ç»§ç»­è®¨è®ºï¼šè¿™æ ·çš„è¯èƒ½ç®—å‡ºå¦‚æœé€‰äº†ç»“ç‚¹ \(v\)ï¼Œä»¥è¿™ä¸ªç»“ç‚¹ \(v\) ä¸ºæ ¹çš„å­æ ‘èƒ½å¸¦æ¥çš„å¯¹ç­”æ¡ˆçš„è´¡çŒ®ã€‚ä½†æ˜¯ä¼šæœ‰ \(d\) çš„é™åˆ¶ï¼Œè¿™ä¸ªé™åˆ¶å¯¹ I å‹æ— æ•ˆï¼Œæ‰€ä»¥ä¸€å®šè¦è´ªå¿ƒåœ°é€‰æ‹©å‰ \(d\) ä¸ªæ”¶ç›Šæœ€é«˜çš„ II å‹ã€‚</p>
<p>ã€Œæ”¶ç›Šæœ€é«˜ã€æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿç»å¯¹å€¼æœ€é«˜å—ï¼Ÿä¸æ˜¯å§ã€‚æŒ‡çš„æ˜¯ II å‹ç›¸å¯¹äº I å‹å¸¦æ¥çš„æ›´å¤šçš„æ”¶ç›Šï¼Œä¹Ÿå°±æ˜¯å®ƒä»¬çš„å·®å€¼ã€‚</p>
<p>æ¯”å¦‚æœ‰ä¸¤ä¸ª I å‹åˆ†åˆ«ä¸º \(1\) å’Œ \(114514\)ï¼Œå®ƒä»¬å¯¹åº”çš„ II å‹åˆ†åˆ«ä¸º \(1919810\) å’Œ \(1919811\)ï¼Œ\(d=1\)ï¼Œç°åœ¨è¦é€‰æ‹©ä¸€ä¸ª II å‹ã€‚æ˜¾ç„¶æœ¬æ¥çš„ I å‹å°±æœ‰ \(114515\) äº†ï¼ŒæŠŠç¬¬ä¸€ä¸ªè¿˜æ˜¯ç¬¬äºŒä¸ªæ›¿æ¢æˆ II å‹ï¼Ÿæ˜¾ç„¶æ˜¯å‰è€…ï¼Œå› ä¸ºå·®å€¼æ›´å¤§ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>ç›´æ¥ç”¨ä¸€ä¸ª <code>std::vector</code> å­˜ä¸€ä¸‹æ‰€æœ‰ II - I çš„å·®å€¼ï¼Œç„¶å <code>std::sort</code> æ’åºå³å¯ã€‚</p>
<p>æˆ‘ç”¨çš„æ˜¯è®°å¿†åŒ–æœç´¢çš„å†™æ³•æ¥å†™çš„ï¼Œèµ›æ—¶æ”¹æ¥æ”¹å»æœ‰ç‚¹æ··ä¹±ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç”¨æ¥è¿‘æ™®é€š dp çš„å†™æ³•æ¥å†™ï¼ˆ\(f(x,t)\) ä»£è¡¨æ˜¯å¦è¿æ¥ \(f_x\to x\) çš„çŠ¶æ€ä¸º \(t\) æ—¶ï¼Œä»¥ \(x\) ä¸ºæ ¹çš„å­æ ‘å¸¦æ¥çš„æœ€å¤§ç­”æ¡ˆï¼‰ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">#define int long long

struct Edge {
    int v, w;
};

int n, d[300005];
std::vector&lt;Edge&gt; e[300005];

int dp[300005][2];

int f(int x, int lim, int fa) {
    if (lim &lt; 0) return -1e9;
    if (e[x].size() == 0) return 0;
    if (dp[x][lim != d[x]] != -1) return dp[x][lim != d[x]];
    
    std::vector&lt;int&gt; v;
    int ans = 0;
    for (Edge g : e[x]) {
        if (g.v == fa) continue;
        int l1 = f(g.v, d[g.v] - 1, x) + g.w;
        int l2 = f(g.v, d[g.v], x);
        ans += l2;
        v.push_back(l1 - l2);
    }
    std::sort(v.begin(), v.end(), std::greater&lt;int&gt;());
    for (int i = 0; i &lt; v.size(); ++i)
        if (v[i] &gt; 0 &amp;&amp; i &lt; lim) ans += v[i];

    dp[x][lim != d[x]] = ans;
    std::vector&lt;int&gt;().swap(v); // åŠ¨æ€æ¸…é›¶ğŸ˜†ï¼
    return ans;
}

int deg[3000001];
signed main() {
    memset(dp, -1, sizeof dp);
    n = read();
    for (int i = 1; i &lt;= n; ++i) d[i] = read();
    for (int i = 1; i &lt; n; ++i) {
        int u = read(), v = read(), w = read();
        ++deg[u]; ++deg[v];
        e[u].push_back({v, w});
        e[v].push_back({u, w});
    }
    int rt = 0;
    for (int i = n; i &gt;= 1; --i) if (deg[i] == 1) rt = i;
    printf(&quot;%lld\n&quot;, f(1, d[1], 0));
}
</code></pre>
<hr />
<h2><a id="e-lcm-on-whiteboard" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>E LCM on Whiteboard</h2>
<p><tc><m>Medium *1370</m><t>æ•°è®º</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å½“ä¸€ä¸ªéƒ½ä¸åˆ çš„æ—¶å€™ï¼Œç­”æ¡ˆåº”å½“æ˜¯ \(\displaystyle\prod p^{\max\{e(p)\}}\)ã€‚</p>
<p>å½“ä¸€ä¸ªæ•° \(a\) çš„æŸä¸€ä¸ªè´¨å› æ•° \(p\) çš„æŒ‡æ•°åœ¨æ‰€æœ‰ \(n\) ä¸ªæ•°ä¸­æœ€å¤§ï¼ˆä¸”æ²¡æœ‰å¹¶åˆ—ï¼‰æ—¶ï¼Œæˆ‘ä»¬ç§°ã€Œ\(a\) å æœ‰ \(p\)ã€ã€‚</p>
<p>å½“åˆ é™¤ä¸€ä¸ªæ•° \(a\) çš„æ—¶å€™ï¼Œå¯¹äºæ¯ä¸ªå‡ºç°è¿‡çš„è´¨æ•° \(p\)ï¼Œ\(\max\{e(p)\}\) å¯èƒ½ä¼šæœ‰å˜åŒ–ã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“å¯ä»¥å¾—åˆ°å»æ‰æŸä¸€ä¸ªæ•°æ—¶ï¼Œæ•´ä½“çš„å˜åŒ–æƒ…å†µï¼šæœ‰ä¸”ä»…æœ‰ \(a\) å æœ‰çš„è´¨æ•°ï¼Œåœ¨ LCM è¡¨è¾¾å¼ä¸­å…¶å³ä¸Šè§’çš„æŒ‡æ•°ä¼šå˜å°‘ã€‚ç°åœ¨çš„é—®é¢˜æ˜¯åœ¨äºå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°<strong>æœ‰å‡ ç§ä¸åŒçš„å˜åŒ–æƒ…å†µ</strong>ã€‚æ˜¾ç„¶ï¼Œçœ‹çœ‹ä¸€å…±æœ‰å¤šå°‘ä¸ªæ•°ã€Œå æœ‰ã€è‡³å°‘ä¸€ä¸ªè´¨å› æ•°å°±è¡Œäº†ï¼Œåˆ«å¿˜äº†ï¼Œå½“å­˜åœ¨ä¸€ä¸ªä¸å æœ‰ä»»ä½•è´¨å› å­çš„æ•°æ—¶ï¼Œç­”æ¡ˆè¦åŠ ä¸Šä¸€ï¼ˆå³åŸ LCMï¼‰ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n;
std::map&lt;int, int&gt; max, pos;
std::set&lt;int&gt; s;

signed main() {
    n = read();
    for (int i = 1, m, e, p; i &lt;= n; i++) {
        m = read();
        while (m--) {
            p = read(), e = read();
            if (e &gt; max[p]) max[p] = e, pos[p] = i;
            else if (e == max[p] &amp;&amp; pos.find(p) != pos.end()) pos.erase(pos.find(p)); // æ³¨æ„ï¼å½“å‡ºç°ç›¸ç­‰çš„æ—¶å€™ï¼ŒåŒæ–¹éƒ½ä¸å æœ‰è¿™ä¸ªè´¨å› æ•°ï¼Œè¦ä» map ä¸­å»æ‰ã€‚
        }
    }

    for (auto [x, y] : pos)
        s.insert(y);
    printf(&quot;%lu\n&quot;, s.size() + (s.size() != n));
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x15 å­—ç¬¦ä¸²]]></title>
    <link href="oi.afobject.ml/0x15-.html"/>
    <updated>2022-07-03T23:13:38+08:00</updated>
    <id>oi.afobject.ml/0x15-.html</id>
    <content type="html"><![CDATA[
<h2><a id="0x151-kmp%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>0x151 KMP æ¨¡å¼åŒ¹é…</h2>
<p>ç›®çš„ï¼šåŒ¹é…å­—ç¬¦ä¸² A åœ¨å­—ç¬¦ä¸² B ä¸­å„æ¬¡å‡ºç°çš„ä½ç½®ã€‚</p>
<h3><a id="%E4%B8%80%E4%BA%9B%E5%AE%9A%E4%B9%89" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸€äº›å®šä¹‰</h3>
<p>\(S_{l\dots r}\)ï¼šS å­—ç¬¦ä¸²ä¸­ \([l,r]\) èŒƒå›´å†…çš„å­ä¸²ã€‚</p>
<p>\(next(i)\)ï¼š<strong>æ»¡è¶³ \(A_{1 \ldots j}=A_{i-j+1\ldots i}\) çš„æœ€å¤§çš„ \(j\)ï¼ˆ\(0\le j&lt;i\)ï¼‰</strong>ã€‚</p>
<pre class="line-numbers"><code class="language-text">   1  j       i
   |  |       |
A: ABCD....ABCD....
</code></pre>
<p>ä¸ºäº†æ–¹ä¾¿è¡¨è¿°ï¼Œç§° \(A_{1 \ldots j}\) ä¸º \(next(i)\) çš„ã€Œå‰å­—ç¬¦ä¸²ã€ï¼Œ\(A_{i-j+1\ldots i}\) ä¸ºã€Œåå­—ç¬¦ä¸²ã€ã€‚</p>
<p>\(f(i)\)ï¼š<strong>æ»¡è¶³ \(A_{1 \ldots j}=B_{i-j+1\ldots i}\) çš„æœ€å¤§çš„ \(j\)ï¼ˆ\(0 \le j\le i\)ï¼‰</strong>ã€‚</p>
<pre class="line-numbers"><code class="language-text">   1  j      i
   |  |      |
A: ABCD...........
B: .......ABCD....
</code></pre>
<p>ä¸ºäº†æ–¹ä¾¿è¡¨è¿°ï¼Œç§° \(A_{1 \ldots j}\) ä¸º \(f(i)\) ã€Œå‰å­—ç¬¦ä¸²ã€ï¼Œ\(B_{i-j+1\ldots i}\) ä¸ºã€Œåå­—ç¬¦ä¸²ã€ã€‚</p>
<h3><a id="%E8%AE%A1%E7%AE%97next%E6%95%B0%E7%BB%84" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>è®¡ç®— next æ•°ç»„</h3>
<p>é¦–é€‰è€ƒè™‘æ‰¾ä¸€æ‰¾æœ‰æ²¡æœ‰é€’æ¨çš„æ–¹å¼ï¼Œæ•ˆç‡é«˜ä¸€äº›ã€‚åˆå§‹å€¼æ˜¯ \(next(1)=0\)ã€‚</p>
<p>åœ¨è®¡ç®— \(next(i)\) æ—¶ï¼Œå‡å®š \(next(1 \ldots i-1)\) éƒ½å·²ç»è®¡ç®—å®Œæ¯•ã€‚</p>
<p>\(next(i)\) å¯èƒ½æ˜¯å“ªäº›å€¼ï¼Ÿä»æœ€æç«¯æœ€å¤§çš„æ¥çœ‹ï¼Œå°±æ˜¯ \(i\)ï¼Œä½†æ˜¯æ˜¾ç„¶å®šä¹‰ä¸å…è®¸ã€‚é‚£å°±åªèƒ½ç¼©ä¸€ç‚¹äº†ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ° \(next(i-1)+1\) å¿…ç„¶æ˜¯ä¸€ä¸ªå¯èƒ½çš„ç»“æœã€‚æœ‰æ²¡æœ‰æ›´å¤§çš„å‘¢ï¼Ÿå¦‚æœæœ‰æ›´å¤§çš„ï¼Œé‚£ä¹ˆ \(next(i)\) çš„å‰ã€åå­—ç¬¦ä¸²å„ç æœ€åä¸€ä¸ªå­—ç¬¦å°±å˜æˆ \(next(i-1)\) çš„å‰ã€åå­—ç¬¦ä¸²äº†ï¼Œå¯¼è‡´ \(next(i-1)\) ä¸æ˜¯æœ€å¤§ï¼ŒçŸ›ç›¾ã€‚å› æ­¤ \(next(i)\) çš„æœ€å¤§å¯èƒ½å€¼å³ä¸º \(next(i-1)+1\)ã€‚ï¼ˆIï¼‰</p>
<p>ä½†æ˜¯å¦‚æœå®ƒä¸å¤ªè¡Œâ€”â€”å³æœ€åä¸€ä¸ªå­—ç¬¦æ— æ³•å¯¹åº”â€”â€”é‚£å°±è¦æ‰¾ä¸€æ‰¾æœ‰æ²¡æœ‰æ›¿ä»£æ–¹æ¡ˆäº†ã€‚ä¸ä¸Šé¢ç±»ä¼¼ï¼Œç»§ç»­ç¼©å°èŒƒå›´ï¼Œè€ƒè™‘åˆ°å‰ã€åå­—ç¬¦ä¸²å®Œå…¨ç›¸åŒï¼Œç›¸åŒé•¿åº¦çš„å‰åç¼€ä¹Ÿç›¸åŒï¼Œé‚£ä¹ˆè¿›ä¸€æ­¥ç¼©å°åˆ° \(next(next(i-1))+1\) å°±è¡Œäº†ã€‚åŒæ ·å¯ä»¥åè¯è¿™æ˜¯é™¤äº† \(next(i-1)+1\) ä»¥å¤–æœ€å¤§çš„ã€‚ï¼ˆIIï¼‰</p>
<p>è¿›ä¸€æ­¥æ•´ç†ï¼Œå¾—å‡ºå¦‚ä¸‹çš„ç®—æ³•æ¡†æ¶ï¼š</p>
<ol>
<li>\(next(1) \gets 0, j\gets 0\)</li>
<li>å¯¹äºæ¯ä¸ª \(i\)ï¼Œæ£€æŸ¥ \(A_{j+1}\) æ˜¯å¦ç­‰äº \(A_i\)ï¼š
<ol>
<li>å¦‚æœæ˜¯ï¼Œ\(j \gets j + 1\)ï¼Œä¸” \(next(i) \gets j\)ï¼ˆå¯¹åº”ä¸Šæ–‡æ­¥éª¤ Iï¼‰ï¼›</li>
<li>å¦‚æœä¸æ˜¯ï¼Œ\(j \gets next(j)\)ï¼Œé‡å¤ç›´åˆ° \(j=0\)ï¼Œåˆ™ \(next(i) \gets 0\)ï¼ˆå¯¹åº”ä¸Šæ–‡æ­¥éª¤ IIï¼‰ã€‚</li>
</ol>
</li>
</ol>
<p>ä¸Šé¢é…¸çš„éå¸¸é‡è¦çš„ç‚¹å°±æ˜¯ä¸€è½®å¾ªç¯å®Œä»¥åï¼Œ\(j\) çš„å€¼ç­‰äº \(next(i-1)\)ï¼Œè¿™æœ‰åŠ©äºä¸‹ä¸€è½®å¾ªç¯çš„è®¡ç®—ã€‚</p>
<h3><a id="%E8%AE%A1%E7%AE%97f%E6%95%B0%E7%BB%84" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>è®¡ç®— f æ•°ç»„</h3>
<p>å®Œå…¨ä¸€æ ·ï¼Œè®¡ç®— \(f(i)\) æ—¶æœ€å¤§çš„å¯èƒ½å°±æ˜¯ \(f(i-1)+1\)ï¼Œå¦åˆ™å°±ç¼©åˆ° \(next(f(i-1))+1\)ã€‚</p>
<p>æ³¨æ„ï¼Œ\(f\) æ•°ç»„å…è®¸ \(f(i)=i\) çš„æƒ…å†µå‘ç”Ÿï¼Œå› æ­¤ \(f(1)\gets 1\) å³å¯ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p><tc><c>LG3375</c></tc></p>
<pre class="line-numbers"><code class="language-cpp">char a[1000001], b[1000001];
int next[1000001];

int main() {
    scanf(&quot;%s\n%s&quot;, b + 1, a + 1);
    const int A = strlen(a + 1), B = strlen(b + 1);

    next[1] = 0;
    for (int i = 2, j = 0; i &lt;= A; ++i) {
        while (a[j + 1] != a[i] &amp;&amp; j &gt; 0)
            j = next[j];
        if (a[j + 1] == a[i]) ++j;
        next[i] = j;
    }
    for (int i = 2, j = 1; i &lt;= B; ++i) {
        while (a[j + 1] != b[i] &amp;&amp; j &gt; 0)
            j = next[j];
        if (a[j + 1] == b[i]) ++j;
        if (j == A)
            printf(&quot;%d\n&quot;, i - A + 1);
    }
    for (int i = 1; i &lt;= A; printf(&quot;%d&quot;, next[i]), putchar(&quot; \n&quot;[i == A]), ++i);
    return 0;
}
</code></pre>
<hr />
<h2><a id="period" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Period</h2>
<p><tc><c>0x1501</c><h>Hard</h><t>KMP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>é—®é¢˜ 1ï¼šå¯¹äºä¸€ä¸ªé•¿åº¦ä¸º \(len\) çš„å­—ç¬¦ä¸² \(a\)ï¼Œä»€ä¹ˆæ ·çš„ \(d\) å¯ä»¥æˆä¸ºå®ƒçš„æŸä¸ªå¾ªç¯å…ƒé•¿åº¦ï¼Ÿ</p>
<p>éœ€è¦æ»¡è¶³å¦‚ä¸‹è¦æ±‚ï¼š</p>
<ul>
<li>\(d \mid len\)ï¼ˆæ˜¾ç„¶ï¼‰ï¼›</li>
<li>\(a_{1 \ldots len - d} = a_{d + 1 \ldots i}\)ã€‚</li>
</ul>
<pre class="line-numbers"><code class="language-plain_text">     DBJDBJDBJ
s_1: ^^^^^^
     DBJDBJDBJ
s_2:    ^^^^^^

len = 9, d = 3
</code></pre>
<p>ä¸‹é¢è¯æ˜ç¬¬äºŒæ¡çš„å……åˆ†æ€§ã€‚ä»¤ \(s_1=a_{1 \ldots len - d},s_2= a_{d + 1 \ldots i}\)ã€‚</p>
<p>æ˜¾ç„¶ï¼Œå½“ \(s_1=s_2\) æ—¶ï¼Œ\(s_1\) çš„å‰ \(d\) ä½å’Œ \(s_2\) çš„å‰ \(d\) ä½æ˜¯ç›¸åŒçš„ã€‚ç”±äº \(s_1,s_2\) æ˜¯ä»åŒä¸€å­—ç¬¦ä¸²ä¸­æˆªå–å‡ºæ¥çš„ï¼Œè¿™ä¹Ÿå°±ä»£è¡¨ç€ \(s_1\) çš„ç¬¬äºŒä¸ª \(d\) ä½ï¼ˆ\(d+1 \ldots 2d\)ï¼‰ä¸ \(s_2\) çš„å‰ \(d\) ä½ç›¸åŒã€‚åˆå› ä¸º \(s_1=s_2\)ï¼Œæ‰€ä»¥ \(s_1\) çš„ç¬¬äºŒä¸ª \(d\) ä½å’Œ \(s_2\) çš„ç¬¬äºŒä¸ª \(d\) ä½ç›¸åŒâ€¦â€¦ä»¥æ­¤ç±»æ¨ï¼Œ\(s_1\)ã€\(s_2\) æ¯ \(d\) ä½éƒ½ç›¸åŒï¼Œç»“æŸã€‚</p>
<pre class="line-numbers"><code class="language-plain_text">     DBJDBJDBJ
s_1: ---Â±Â±Â±
     DBJDBJDBJ
s_2:    ---+++
</code></pre>
<p>è¿™ä»£è¡¨ç€å¯ä»¥åªç”¨ç®¡é¦–ã€å°¾ï¼Œå†åŠ ä¸Šä¸€ä¸ªæ•´é™¤å°±è¡Œã€‚è”æƒ³åˆ° KMP ç®—æ³•ä¸­ \(next\) æ•°ç»„ä¹Ÿæ˜¯åªç”¨ç®¡é¦–å°¾çš„ã€‚<strong>\(s_1, s_2\) å¯ä»¥åˆ†åˆ«å¯¹åº”åŸæœ¬çš„å­—ç¬¦ä¸²çš„ \(next\) å€¼çš„ä¸€ä¸ªå€™é€‰é¡¹çš„ã€Œå‰ã€åå­—ç¬¦ä¸²ã€</strong>ã€‚</p>
<p>å¦‚æœ \(g\) æ˜¯åŸå­—ç¬¦ä¸² \(next\) å€¼çš„æŸä¸ªå€™é€‰é¡¹ï¼Œå¹¶ä¸” \(len-g \mid len\)ï¼Œé‚£ä¹ˆ \(g\) å°±æ˜¯åŸå­—ç¬¦ä¸²çš„ä¸€ä¸ªå¾ªç¯å…ƒçš„é•¿åº¦ã€‚æœ€å¤§çš„ \(g\) å°±æ˜¯æœ€å¤§å¾ªç¯å…ƒçš„é•¿åº¦ã€‚</p>
<p>äº‹å®ä¸Šï¼Œè¦ä¹ˆæ²¡æœ‰è¿™æ ·çš„ \(g\)ï¼Œè¦ä¹ˆ \(g=next(len)\)ã€‚æˆ‘ä¸ä¼šä¸¥æ ¼è¯æ˜ï¼Œä½†ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers"><code class="language-plain_text">ABCDEABCDEABCDE
^^^^^^^^^^
-----------
ABCDEABCDEABCDE
     ^^^^^^^^^^
</code></pre>
<p>å¯¹äºä¸Šé¢è¿™ä¸ª \(len=15, g_{\max}=10\) çš„ä¾‹å­ï¼Œæˆ‘ä»¬å‡è®¾ \(g_{\max} \neq next(len)\)ï¼Œé‚£ä¹ˆä¸€å®šæ‰¾å¾—å‡ºå¤§äº \(10\) çš„ \(next\) å€™é€‰é¡¹å­˜åœ¨ã€‚æ˜¾ç„¶ä½ æ˜¯æ‰¾ä¸åˆ°çš„ï¼Œå› ä¸ºä¸‹é¢çš„ \(s_2\) çš„å¼€å¤´çš„é‚£ä¸ª <code>A</code> å°±æ˜¯ç¬¬äºŒä¸ª <code>A</code>ã€‚å‡è®¾å¾ªç¯èŠ‚ä¸­å‡ºç°äº† <code>A</code> ä¹Ÿæ²¡ç”¨ï¼Œå¦‚æœçœŸçš„èƒ½åšåˆ°å‰åå­—ç¬¦ä¸²ç›¸ç­‰çš„è¯é‚£ä¹ˆå®ƒæ—©å°±æ˜¯æœ€å¤§çš„ \(g\) äº†ã€‚ï¼ˆæ„Ÿæ€§ç†è§£ï¼‰</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int T, n;
char s[1000001];
int next[1000001];

int main() {
    scanf(&quot;%d&quot;, &amp;T);
    for (int i = 1; i &lt;= T; ++i) {
        printf(&quot;Test case #%d\n&quot;, i);
        scanf(&quot;%d\n%s&quot;, &amp;n, s + 1);
        next[1] = 0;
        for (int i = 2, j = 0; i &lt;= n; ++i) {
            while (j &amp;&amp; s[j + 1] != s[i]) j = next[j];
            if (s[i] == s[j + 1]) ++j;
            next[i] = j;
        }
        for (int i = 2; i &lt;= n; ++i)
            if (i % (i - next[i]) == 0 &amp;&amp; i / (i - next[i]) &gt; 1)
                printf(&quot;%d %d\n&quot;, i, i / (i - next[i]));
        putchar('\n');
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E6%9C%80%E5%B0%8F%E8%A1%A8%E7%A4%BA%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æœ€å°è¡¨ç¤ºæ³•</h2>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<pre class="line-numbers"><code class="language-plain">S = bacacabc, i = 2, j = 4, k = 3
  i     i+k 
  = = = &gt;
b[a c a c a b c b a]c a c a b c
      j     j+k
      = = = &lt;
b a c[a c a b c b a c a]c a b c
</code></pre>
<p>é¦–å…ˆå¤åˆ¶ä¸€éï¼Œç„¶åå¼€å§‹æ¯”è¾ƒ \(1\ldots n\) ä¸ \(2 \ldots n+1\)ã€‚å¦‚æœå…¶ä¸­çš„ä¸€ä¸ªæ¯”å¦ä¸€ä¸ªå¤§ï¼Œå°±ä»£è¡¨è¿™ä¸ª<br />
æ˜¾ç„¶ä¸æ˜¯æœ€å°è¡¨ç¤ºæ³•ï¼ŒåŒæ—¶æ„Ÿæ€§ç†è§£ï¼Œè¿˜æœ‰ä¸€é•¿ä¸²ä¼šè¢«å¦å®šï¼ˆå¦‚ä¸Šå›¾ä¸­ \(i\) åˆ° \(i+k\) å¼€å¤´çš„å­—ç¬¦ä¸²éƒ½ä¸å¯èƒ½æ˜¯æœ€å°è¡¨ç¤ºæ³•ï¼‰ã€‚ç„¶åå°±å¯ä»¥ \(i\) å’Œ \(j\) ä¸¤ä¸ªæŒ‡é’ˆæ¥å›è·³æ¥è·³å»ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p><tc><c>LG1368</c></tc></p>
<pre class="line-numbers"><code class="language-cpp">int main() {
    n = read();
    for (int i = 1; i &lt;= n; ++i) s[i] = read();
    for (int i = n + 1; i &lt;= n &lt;&lt; 1; i++)
        s[i] = s[i - n];
    int i = 1, j = 2, k;
    while (i &lt;= n &amp;&amp; j &lt;= n) {
        k = 0;
        while (s[i + k] == s[j + k] &amp;&amp; k &lt; n) ++k;
        if (k == n) break;
        if (s[i + k] &gt; s[j + k]) {
            i = i + k + 1;
            if (i == j) ++i;
        } else {
            j = j + k + 1;
            if (i == j) ++j;
        }
    }
    for (int d = std::min(i, j); d &lt; std::min(i, j) + n; ++d)
        printf(&quot;%d &quot;, s[d]);
    putchar('\n');
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RingtoneHY V2 é¡¹ç›®è¯¦è§£]]></title>
    <link href="oi.afobject.ml/16549586469772.html"/>
    <updated>2022-06-11T22:44:06+08:00</updated>
    <id>oi.afobject.ml/16549586469772.html</id>
    <content type="html"><![CDATA[
<h2><a id="1%E5%89%8D%E8%A8%80" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1 å‰è¨€</h2>
<p>RingtoneHY V2 é¡¹ç›®å¼€æºåœ¨ GitHub ä»“åº“ï¼š <a href="https://github.com/AFObject/RingtoneHY">AFObject/RingtoneHY</a>ï¼Œå‰èº«æ˜¯ 2020 å¹´ç–«æƒ…æœŸé—´çš„åˆç‰ˆï¼Œåœ¨ 2022 å¹´ç½‘è¯¾æœŸé—´è¿›è¡Œäº†å®Œå…¨é‡æ„ï¼Œæ˜¯ä¸€æ¬¾ macOS åŸç”Ÿ Appï¼Œç”¨äºåœ¨ç½‘è¯¾æœŸé—´æä¾›æ¨¡æ‹Ÿæ ¡å›­é“ƒå£°çš„åŠŸèƒ½ã€‚</p>
<p>å‰æœ‰ C+++ å¯¹æŠ— ClickIDEï¼Œåæœ‰ RingtoneHY å¯¹æŠ— HYRingï¼Œå¥½å•Šï¼!1</p>
<p>æœ¬é¡¹ç›®çš„å¼€å‘ç»å†äº†ä¸€ä¸ªå®Œæ•´çš„æµç¨‹ï¼Œåœ¨æœ¬æ–‡ä¸­è¿›è¡Œè¯¦ç»†çš„é˜è¿°ã€‚</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h34osrcyi4j21by0qqq79.jpg" alt="" /><br />
ï¼ˆå›¾ 1.1 ç¤¾å›¢è¯¾æ¼”ç¤ºæ–‡ç¨¿æˆªå›¾ï¼‰</p>
<p>å› ä¸ºæ˜¯å°ç¨‹åºï¼Œæ•´ä¸ªçš„å¼€å‘è·¯å­åŸºæœ¬éƒ½æ˜¯æŒ‰ç…§æˆ‘ä¹‹å‰æ€»ç»“çš„è¿™ä¸ªæ¥ï¼Œæ²¡æœ‰å¤§çš„æ”¹åŠ¨ã€‚</p>
<hr />
<h2><a id="2%E7%AB%8B%E9%A1%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2 ç«‹é¡¹</h2>
<p>ç©¶å…¶åŸå› æ˜¯ï¼š</p>
<ol>
<li>ç­ä¸»ä»»åŠå¤šåä»»è¯¾æ•™å¸ˆåœ¨æ™¨ä¼š / è¯¾ä¸Šæåˆ°ç›¸å…³å†…å®¹ï¼›</li>
<li>æ‡’å¾—åœ¨ iPad ä¸Šè®¾é—¹é’Ÿï¼›</li>
<li>ç§€ / é”»ç‚¼ä¸€ä¸‹è‡ªå·±çš„ç åŠ›ã€‚</li>
</ol>
<p>æœ‰äº† 20 å¹´ V1 ç‰ˆæœ¬çš„ç»éªŒï¼Œåœ¨å¼€å‘ä¹‹å‰å°†æœ¬æ¬¡å¼€å‘çš„ä¸»è¦å†…å®¹ç¡®å®šä¸ºï¼š</p>
<ul>
<li>å¢å¼º UI ç•Œé¢çš„ç¾è§‚æ€§ã€æ˜“ç”¨æ€§ï¼›</li>
<li>åŠ¨æ€ç¼–è¾‘é“ƒå£°çš„åŠŸèƒ½ï¼›</li>
<li>åœ¨å®ç°åŠŸèƒ½çš„åŒæ—¶è¯•è¯•çœ‹ç®€åŒ–ã€ä¼˜åŒ–ä»£ç ï¼Œè‡³å°‘è®©æˆ‘è‡ªå·±æ»¡æ„ã€‚</li>
</ul>
<hr />
<h2><a id="3%E6%A8%A1%E5%9E%8B%E6%90%AD%E5%BB%BA" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>3 æ¨¡å‹æ­å»º</h2>
<blockquote>
<p>Code: <a href="https://github.com/AFObject/RingtoneHY/blob/main/RingtoneHY/TaskStorage.swift">RingtoneHY/TaskStorage.swift</a></p>
<p>Reference:</p>
<ol>
<li><a href="https://stackoverflow.com/questions/24217586/structure-vs-class-in-swift-language">StackOverflow 24217586</a></li>
</ol>
</blockquote>
<h3><a id="3-1%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%B4%E6%8A%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.1 æ¨¡å‹çš„åŸºæœ¬ç»´æŠ¤</h3>
<p>å› ä¸ºæ—©å°±æƒ³å¥½äº†ï¼Œä¸Šæ¥å°±ç›´æ¥å†™æ•°æ®ç»“æ„ã€‚</p>
<p>æˆ‘ä»¬åœ¨è¿™ä¸ª App é‡Œéœ€è¦ç»´æŠ¤çš„æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆä¸€ä¸ª<strong>æ˜ŸæœŸ</strong>ä¸­ï¼‰ã€ï¼ˆæ¯ä¸€<strong>å¤©</strong>çš„ï¼‰ã€ï¼ˆæ¯ä¸€èŠ‚<strong>è¯¾ / ä»»åŠ¡</strong>çš„ï¼‰ã€ï¼ˆå¼€å§‹ã€ç»“æŸ<strong>æ—¶é—´</strong>çš„ï¼‰ã€æ—¶ã€åˆ†ã€ç§’å’Œé“ƒå£°ã€‘ã€‘ã€‘ã€‘ã€‚</p>
<p>ä¸Šé¢è¿™ä¸€å¥è¯çš„æ’ç‰ˆæœ‰ç‚¹ä¹±ï¼Œä½†å·²ç»å¾ˆæ˜ç¡®äº†â€”â€”å¯¹äºæ¯ä¸ªåŠ ç²—çš„éƒ¨åˆ†ï¼Œéƒ½å†™ä¸€ä¸ªç»“æ„ä½“æ¥ä¿å­˜æ•°æ®ã€‚</p>
<pre class="line-numbers"><code class="language-swift">struct Time { // ä¸€ä¸ªå“é“ƒæ—¶é—´ç‚¹
    var hour: Int
    var minute: Int
    var music: Int
}
struct Task { // ä¸€å¤©
    var start: Time
    var end: Time
    var name: String
}
struct TaskList { // ä¸€å¤©çš„ä»»åŠ¡åˆ—è¡¨
    var tasks: [Task]
}
struct TaskStorage { // ä¸€å‘¨ä¸ƒå¤©ï¼Œä¸ƒä¸ªä»»åŠ¡åˆ—è¡¨çš„é›†åˆ
    var lists: [TaskList]
}
</code></pre>
<p>è¿™æ˜¯æ•´ä¸ª <code>TaskStorage.swift</code> 150 è¡Œçš„ç²¾é«“ã€‚æ¥ä¸‹æ¥å°±è¦è€ƒè™‘çš„æ˜¯ç»†ææœ«èŠ‚çš„ä¸œè¥¿ï¼šå¦‚ä½•å°†æ•°æ®å˜æˆç³»ç»Ÿå¯è¯»çš„æ ¼å¼ä¿å­˜åœ¨æœ¬åœ°ï¼Ÿå¦‚ä½•å¿«é€Ÿåœ°æ–°å»ºä¸€ä¸ªç»“æ„ä½“ï¼Ÿå¦‚ä½•é…ç½®é»˜è®¤æ—¥ç¨‹è¡¨ï¼Ÿâ€¦â€¦</p>
<ul>
<li>Q1ï¼šå¦‚ä½•å°†æ•°æ®å˜æˆç³»ç»Ÿå¯è¯»çš„æ ¼å¼ä¿å­˜åœ¨æœ¬åœ°ï¼Ÿ</li>
<li>A1ï¼šå¯¹äºæ¯ä¸ªç»“æ„ä½“ï¼Œä½¿å…¶éµå®ˆ <code>Codable</code> åè®®ã€‚ä½¿ç”¨ <code>JSONEncoder</code> / <code>JSONDecoder</code> æ¥è§£ / ç¼–ç æ•°æ®ã€‚æœ€åå†™å‡ ä¸ªæ–¹ä¾¿æ“ä½œçš„ç»“æ„ä½“å†…å‡½æ•°ã€‚</li>
</ul>
<pre class="line-numbers"><code class="language-swift">var data: Data {
    return try! JSONEncoder().encode(self)
}
    
static func from(data: Data?) -&gt; TaskStorage {
    if let data = data {
        do {
            return try JSONDecoder().decode(TaskStorage.self, from: data)
        } catch {
            print(error)
        }
    }
    return .default
}
</code></pre>
<ul>
<li>Q2ï¼šå¦‚ä½•å¿«é€Ÿåœ°æ–°å»ºä¸€ä¸ªç»“æ„ä½“ï¼Ÿ</li>
<li>A2ï¼šåœ¨æ¯ä¸ªç»“æ„ä½“å†…å†™å¥½æ–¹ä¾¿çš„æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ä¸‹é¢è¿™æ®µï¼Œè¾“å…¥ä¸€ä¸ªäº”ä½æ•°å­—ä¸²ï¼Œè‡ªåŠ¨è½¬æ¢æˆä¸€ä¸ªæ—¶é—´ç‚¹çš„ç»“æ„ä½“ã€‚</li>
</ul>
<pre class="line-numbers"><code class="language-swift">init(_ string: String) {
    hour = Int(string.prefix(2)) ?? 0
    minute = Int((string as NSString).substring(with: NSMakeRange(2, 2))) ?? 0
    music = Int(string.suffix(1)) ?? 0
}
</code></pre>
<ul>
<li>Q3ï¼šå¦‚ä½•é…ç½®é»˜è®¤æ—¥ç¨‹è¡¨ï¼Ÿ</li>
<li>A3ï¼šåœ¨ <code>TaskStorage</code> å†…å†™ä¸€ä¸ªå¸¸é‡å³å¯ã€‚ä¾‹å¦‚ï¼š</li>
</ul>
<pre class="line-numbers"><code class="language-swift">static var `default`: TaskStorage {
    let ver1 = TaskList(tasks: [
        Task(&quot;07401&quot;, &quot;07450&quot;, &quot; ç‚¹å &quot;),
        Task(&quot;08001&quot;, &quot;08402&quot;, &quot; ç¬¬ 1 èŠ‚è¯¾ &quot;), // trimmed
        Task(&quot;16051&quot;, &quot;16452&quot;, &quot; ç¬¬ 9 èŠ‚è¯¾ &quot;)
    ])
    let ver2 = TaskList(tasks: [
        Task(&quot;07401&quot;, &quot;07450&quot;, &quot; ç‚¹å &quot;),
        Task(&quot;08001&quot;, &quot;08402&quot;, &quot; ç¬¬ 1 èŠ‚è¯¾ &quot;), // trimmed
        Task(&quot;15451&quot;, &quot;16252&quot;, &quot; ç¬¬ 9 èŠ‚è¯¾ &quot;)
    ])
    return TaskStorage(lists: [.empty, .empty, ver1, ver1, ver1, ver1, ver2, .empty])
}
</code></pre>
<h3><a id="3-2%E9%87%8D%E4%B8%AD%E4%B9%8B%E9%87%8D%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%94%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%9F" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2 é‡ä¸­ä¹‹é‡ï¼šä¸ºä»€ä¹ˆä¸ç”¨é¢å‘å¯¹è±¡ï¼Ÿ</h3>
<p>æ³¨æ„æˆ‘åœ¨ä¸Šæ–‡ä¸­è‡ªå§‹è‡³ç»ˆè´¯ç©¿äº†ã€Œç»“æ„ä½“ã€ä¸€è¯ã€‚ä¸ºä»€ä¹ˆæˆ‘ä¸æŠŠ <code>struct</code> æ¢æˆ <code>class</code>ï¼Ÿ</p>
<p>æ¸©ä¹ ä¸€éï¼š<code>struct</code> æ˜¯å€¼ï¼Œè€Œ <code>class</code> æ˜¯å¼•ç”¨ã€‚</p>
<blockquote>
<p>When you make a copy of a value type, it copies all the data from the thing you are copying into the new variable. They are 2 separate things and changing one does not affect the other. [1]</p>
</blockquote>
<p>æˆ‘è¦ç»´æŠ¤çš„ä¸œè¥¿ï¼Œå†ç®€å•ä¸è¿‡ï¼Œå°±æ˜¯å‡ ä¸ªæ—¶é—´ç‚¹ç½¢äº†ã€‚è¯·é—®è¿™äº›æ—¶é—´ç‚¹ä½•å¾·ä½•èƒ½é€¼ç€æˆ‘å»ç”¨å¼•ç”¨ç±»å‹æ¥ç»´æŠ¤å®ƒï¼Ÿæƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘è¦æŠŠå‘¨äºŒçš„è¯¾ç¨‹è¡¨æ‹·è´åˆ°å‘¨ä¸€çš„è¯¾ç¨‹è¡¨ä¸Šé¢å»ï¼Œæˆ‘æ‰€å¸Œæœ›çš„ï¼Œä»…æ˜¯å®ƒä»¬ä¸¤ä¸ªæ˜¯å€¼ç›¸åŒçš„ä¸åŒçš„ä¸¤ä¸ªç»“æ„ä½“ï¼Œè€Œä¸æ˜¯ä»€ä¹ˆåˆ«çš„ã€‚</p>
<p>ç”¨ä¸€ä¸ªå½¢è±¡çš„æ¯”å–»ï¼šClass æ˜¯æ´»ç‰©ï¼Œå®ƒå¯ä»¥çµæ´»å˜é€šï¼Œæœ‰ç”Ÿæœ‰æ­»ä¹Ÿæœ‰å˜åŒ–ï¼›Struct æ˜¯æ­»ç‰©ï¼Œå®ƒåªèƒ½é•¿é‚£æ ·ï¼Œæˆ‘è™½ç„¶å¯ä»¥æ”¹å˜å®ƒçš„å€¼ï¼Œä½†å®ƒæ°¸è¿œåªåŒ…å«è¿™äº›å€¼ï¼Œæ²¡æœ‰ç”Ÿå‘½ã€‚å¯ä¸å¸Œæœ›è¿™äº›è¯¾ç¨‹è¡¨äº¦æˆ–æ˜¯æ—¶é—´ç‚¹çš„ç»“æ„ä½“å˜æˆæ´»çš„ï¼Œç„¶ååœ¨è¿è¡Œçš„æ—¶å€™è·³å‡ºæ¥å¹²äº›é¢„æ–™ä¹‹å¤–çš„äº‹æƒ…ï¼</p>
<hr />
<h2><a id="4%E4%B8%BB%E7%95%8C%E9%9D%A2%E4%B8%8E%E9%93%83%E5%A3%B0%E6%8A%A5%E6%97%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>4 ä¸»ç•Œé¢ä¸é“ƒå£°æŠ¥æ—¶</h2>
<blockquote>
<p>Code: <a href="https://github.com/AFObject/RingtoneHY/blob/main/RingtoneHY/ViewController.swift">RingtoneHY/ViewController.swift</a></p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h34r8cr0bbj20g20buaam.jpg" alt="" /></p>
<p>è¿™æ˜¯æ•´ä¸ª App çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä¹Ÿæ˜¯æœ€ç®€å•æœ€æ˜“å®ç°çš„ï¼Œå› ä¸ºæœ‰å»å¹´çš„åŸºç¡€ã€‚</p>
<p>å½“ç„¶å¾—æœ‰ ViewControllerï¼ˆè¿™å›ç”¨äº†ç³»ç»Ÿçš„ Visual Effect æ¨¡ç³ŠèƒŒæ™¯ï¼‰ï¼Œè¿˜å¾—æœ‰ Storyboardã€‚</p>
<p>ç®—æ³•ï¼šæ¯å¤©å¼€å§‹è¿è¡Œæ—¶ï¼Œæˆ–æ˜¯æ›´æ”¹è®¾ç½®æ—¶ï¼Œä»ä¿å­˜çš„æ—¥ç¨‹è¡¨ä¸­æ‹‰å–æ•°æ®ï¼ŒæŠŠæ‰€æœ‰çš„æ—¶é—´èŠ‚ç‚¹æ’å¥½åºæ”¾è¿›ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼Œæ¯ 2 ç§’ï¼ˆ<code>Timer</code>ï¼‰è·å–ä¸€æ¬¡ç³»ç»Ÿæ—¶é—´ï¼ˆå¯ä»¥è‡ªå·±å†™ä¸€äº›ä¸œè¥¿æ–¹ä¾¿å®ç°ï¼‰ï¼Œåˆ°æ—¶é—´äº†å°±å“é“ƒï¼ˆ<code>AVFoundation</code> åº“ï¼‰ï¼Œå¹¶æŠŠé˜Ÿé¦–å¼¹å‡ºã€‚</p>
<pre class="line-numbers"><code class="language-swift">let timer = Timer(timeInterval: 2.0, target: self, selector: #selector(updateTime), userInfo: nil, repeats: true)
RunLoop.current.add(timer, forMode: .default)
</code></pre>
<pre class="line-numbers"><code class="language-swift">private var queue: [(Time, String, Bool)] = []
private func initializeQueue() {
    storedWeekday = DateManager.weekday
    let list = TaskStorage.shared.lists[DateManager.weekday]
    queue = []
    for i in list.tasks {
        if i.start.music &gt; 0 &amp;&amp; i.start &gt; .now {
            queue.append((i.start, i.name, true))
        }
        if i.end.music &gt; 0 &amp;&amp; i.end &gt; .now {
            queue.append((i.end, i.name, false))
        }
    }
    queue.sort(by: { lhs, rhs in
        lhs.0 &lt; rhs.0
    })
}
</code></pre>
<pre class="line-numbers"><code class="language-swift">@objc func updateTime() {
    dateLabel.stringValue = &quot;\(DateManager.month) æœˆ \(DateManager.day) æ—¥ / å‘¨ \(String.weekdayName(of: DateManager.weekday))&quot;
    timeLabel.stringValue = Time.now.timeString
    
    if DateManager.weekday != storedWeekday {
        initializeQueue()
    }
    
    while queue.count &gt; 0 &amp;&amp; queue.first!.0 &lt; .now {
        queue.removeFirst()
    }
    if let current = queue.first {
        if Time.timeEqual(current.0, .now) {
            AVAudioPlayer.ring(type: current.0.music)
            queue.removeFirst()
        }
    }
    if let current = queue.first {
        taskLabel.stringValue = &quot;ä¸‹ä¸€é¡¹ï¼š\(current.0.timeString) \(current.1)\(current.2 ? &quot;å¼€å§‹&quot; : &quot;ç»“æŸ&quot;)&quot;
    } else {
        taskLabel.stringValue = &quot;ä»Šæ—¥æ— å…¶ä»–æ—¥ç¨‹&quot;
    }
}
</code></pre>
<hr />
<h2><a id="5%E8%AE%BE%E7%BD%AE%E7%95%8C%E9%9D%A2%EF%BC%9A-swiftui%E7%9A%84%E6%AD%A3%E7%89%87%E5%BC%80%E5%A7%8B%EF%BC%81" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>5 è®¾ç½®ç•Œé¢ï¼šSwiftUI çš„æ­£ç‰‡å¼€å§‹ï¼</h2>
<p>è®¾ç½®ç•Œé¢ï¼Œç‹—éƒ½ä¸ç”¨ <code>AppKit</code> ä¸­çš„æ§ä»¶ï¼ä»ç°åœ¨å¼€å§‹ï¼Œä½¿ç”¨ SwiftUIã€‚</p>
<blockquote>
<p>Code:</p>
<ul>
<li><a href="https://github.com/AFObject/RingtoneHY/blob/main/RingtoneHY/ViewController.swift">RingtoneHY/ViewController.swift</a></li>
<li><a href="https://github.com/AFObject/RingtoneHY/blob/main/RingtoneHY/TaskListView.swift">RingtoneHY/TaskListView.swift</a></li>
<li><a href="https://github.com/AFObject/RingtoneHY/blob/main/RingtoneHY/SettingsView.swifts">RingtoneHY/SettingsView.swift</a></li>
</ul>
</blockquote>
<h3><a id="5-1-appkit%E4%B8%8E-swiftui%E7%9A%84%E8%A1%94%E6%8E%A5" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.1 AppKit ä¸ SwiftUI çš„è¡”æ¥</h3>
<p>è€æ ·å­ï¼Œç”¨ <code>NSHostingController</code>ã€‚ä¿å­˜è®¾ç½®åè®©è®¾ç½®ç•Œé¢æ¶ˆå¤±æ˜¯å½“æ—¶çš„ä¸€ä¸ªéš¾ç‚¹ï¼Œè¿™ç§é—®é¢˜ç›´æ¥åœ¨æ›´é«˜ä¸€å±‚çš„ <code>ViewController</code> ä¸­å®è§‚æ§åˆ¶å°±è¡Œäº†ï¼ˆå¦åˆ™ä¸ºå•¥å«å®ƒ <code>Controller</code>ï¼‰ã€‚</p>
<pre class="line-numbers"><code class="language-swift">@IBAction func showSettings(_ sender: Any?) {
    settingsController = NSHostingController(rootView: SettingsView(onCompletion: {
        self.settingsController?.dismiss(nil)
        self.initializeQueue()
    }))
    self.presentAsSheet(settingsController!)
}  
</code></pre>
<h3><a id="5-2-swiftui%E7%95%8C%E9%9D%A2%E7%BB%93%E6%9E%84%E7%9A%84%E6%90%AD%E5%BB%BA" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2 SwiftUI ç•Œé¢ç»“æ„çš„æ­å»º</h3>
<p>è€æ ·å­ï¼Œä½ ä¹‹å‰æ•°æ®ç»“æ„éƒ¨åˆ†æ€ä¹ˆå¥—å¨ƒï¼Œç°åœ¨ä¹Ÿæ€ä¹ˆå¥—ã€‚æ¥ä¸‹æ¥è´´å‡ºçš„ä»£ç éƒ½æ˜¯æ ¸å¿ƒçœç•¥ç‰ˆã€‚</p>
<pre class="line-numbers"><code class="language-swift">import SwiftUI

struct SettingsView: View {
    var onCompletion: () -&gt; () = {} // é…åˆ 5.1 ä¸­çš„è¡”æ¥éƒ¨åˆ†
    @State private var taskStorage: TaskStorage = .default
    
    var body: some View {
        VStack {
            ScrollView {
                Form {
                    ForEach(1...7, id: \.self) { i in
                        Section {
                            Text(verbatim: &quot;å‘¨&quot; + .weekdayName(of: i))
                                .font(.title)
                            TaskListView(taskList: $taskStorage.lists[i]) // å¥—å¨ƒï¼
                        }
                        Divider()
                    }
                }.padding()
            }.frame(width: 540, height: 360)
                .onAppear {
                    taskStorage = .shared
                }
                .onChange(of: taskStorage) { newValue in
                    UserDefaults.standard.set(taskStorage.data, forKey: .storageKey)
                } // é‡è¦ï¼ä¿å­˜æ•°æ®è‡³æœ¬åœ°ã€‚
        }
    }
}
</code></pre>
<pre class="line-numbers"><code class="language-swift">import SwiftUI

struct TaskView: View {
    @Binding var task: Task
    var body: some View {
        VStack(alignment: .leading) { // ... trimmed
        }.sheet(isPresented: $editing) { // å¥—å¨ƒï¼
                TaskEditView(task: $task)
            }
    }
}

struct TimeEditView: View { // åº•å±‚å¥—å¨ƒ
    var label: String
    @Binding var time: Time
    var body: some View {
        HStack {
            DatePicker(label, selection:
                Binding(get: {
                    Calendar.current.date(from: DateComponents(hour: time.hour, minute: time.minute))!
                }, set: { date in
                    let components = Calendar.current.dateComponents([.hour, .minute], from: date)
                    time.hour = components.hour!
                    time.minute = components.minute!
                }), displayedComponents: .hourAndMinute
            ) // DatePicker ç¼–è¾‘æ—¶é—´
            Picker(&quot;é“ƒå£°&quot;, selection: $time.music) {
                ForEach(0...3, id: \.self) { i in
                    Text(verbatim: .audioName(of: i)).tag(i)
                }
            } // æ™®é€š Picker ç¼–è¾‘é“ƒå£°
        }
    }
}

struct TaskEditView: View {
    @Binding var task: Task
    @Environment(\.presentationMode) var presentationMode
    var body: some View {
        VStack {
            TextField(&quot;ä»»åŠ¡åç§°&quot;, text: $task.name)
            TimeEditView(label: &quot;èµ·å§‹æ—¶é—´&quot;, time: $task.start) // å¥—å¨ƒï¼
            TimeEditView(label: &quot;ç»“æŸæ—¶é—´&quot;, time: $task.end) // å¥—å¨ƒï¼
            Spacer()
            HStack {
                Spacer()
                Button(&quot;å®Œæˆ&quot;) {
                    presentationMode.wrappedValue.dismiss()
                }
            }
        }.frame(width: 300, height: 120).padding()
    }
}

struct TaskListView: View, TaskViewManager {
    @Binding var taskList: TaskList
    @State private var newTask: Task = Task(&quot;08001&quot;, &quot;08402&quot;, &quot;æ–°ä»»åŠ¡&quot;)
    @State private var editing = false
    
    let rows = Array(repeating: GridItem(), count: 3)
    var body: some View {
        LazyVGrid(columns: rows) {
            ForEach($taskList.tasks) { i in
                TaskView(task: i, manager: self) // å¥—å¨ƒï¼
            }
            Button(action: addItem) // ... trimmed
        }.frame(width: 500, alignment: .leading)
            .sheet(isPresented: $editing, onDismiss: {
                taskList.tasks.append(newTask)
                newTask = Task(&quot;08001&quot;, &quot;08402&quot;, &quot; æ–°ä»»åŠ¡ &quot;)
            }) {
                TaskEditView(task: $newTask) // æ–°å»ºä»»åŠ¡æ—¶çš„å¥—å¨ƒï¼
            }
    }
    
    func addItem() {
        editing = true
    }
}
</code></pre>
<p>ä»¥ä¸Šçš„ä»£ç å³å¯å®Œæˆç¼–è¾‘ç•Œé¢çš„ UI åŸºæœ¬åŠŸèƒ½ã€‚å¯ä»¥çœ‹å‡ºï¼ŒSwiftUI çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯é€šè¿‡å¥—å¨ƒæ¥èŠ‚çœä»£ç é‡ï¼ˆåˆ«çš„åœ°æ–¹ä¹ŸæŒºå¸¸è§çš„ï¼‰ï¼Œä½ åªéœ€è¦è‰¯å¥½åœ°å®Œæˆå•ä¸€ç•Œé¢çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå¹¶è®¾ç½®ä¸€ä¸ªæ¥å£ï¼ˆä¾‹å¦‚æ”¯æŒåŒæ­¥ä¿®æ”¹çš„ <code>@Binding var ...</code>ï¼‰å°±å¯ä»¥åœ¨åˆ«çš„ä»»æ„åœ°æ–¹è°ƒç”¨å®ƒã€‚</p>
<p>è¢«çœç•¥çš„ä»£ç ä¸­è¿˜æœ‰ä¸€éƒ¨åˆ†å®ç°äº†ä»»åŠ¡çš„åˆ é™¤æ“ä½œã€‚ä¸æ·»åŠ æ“ä½œä¸åŒçš„æ˜¯ï¼Œä»»åŠ¡çš„åˆ é™¤æ“ä½œæ˜¯é’ˆå¯¹å•ä¸ªä»»åŠ¡çš„ï¼Œå®ƒçš„æŒ‰é’®ä¹Ÿæ”¾åœ¨å•ä¸ªä»»åŠ¡çš„æ˜¾ç¤ºæ§ä»¶å†…ã€‚æ‰€ä»¥æˆ‘å¦å¤–å†™äº†ä¸€ä¸ªåè®®ï¼ˆ<code>TaskManager</code>ï¼‰ï¼Œè®©å®ƒå¯ä»¥é€šçŸ¥å®ƒçš„ Superviewï¼ˆä¸çŸ¥è¡¨è¿°æ˜¯å¦å‡†ç¡®ï¼‰æ¥æ§åˆ¶å®ƒã€‚ä¸€æ ·çš„æ€è·¯ï¼Œè¿˜æ˜¯æƒ³æ–¹è®¾æ³•æŠŠæ§åˆ¶æƒäº¤ç»™ä¸Šä¸€çº§è¯•å›¾ã€‚</p>
<p>æ­¤å¤–ï¼ŒSwiftUI ä¸­çš„ <code>onChange(of:perform:)</code> ä¹Ÿæ˜¯ç›¸å½“é‡è¦çš„ä¸€ä¸ªåŠŸèƒ½ã€‚å› ä¸ºå‰æ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨äº†ç»“æ„ä½“ï¼Œæ‰€ä»¥å°±å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ä½¿ç”¨å®ƒäº†ï¼Œåªè¦å€¼æœ‰ä¿®æ”¹ï¼Œç«‹åˆ»å°±ä¼šè§¦å‘å®ƒï¼</p>
<hr />
<h2><a id="6%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%8F%91%E5%B8%83" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>6 æµ‹è¯•ä¸å‘å¸ƒ</h2>
<p>æœ¬é¡¹ç›®çš„åŠŸèƒ½ä¸»ä½“å¼€å‘ç”¨æ—¶ 3 å¤©å·¦å³ï¼Œæµ‹è¯•ä¸å‘å¸ƒå‰å‡†å¤‡ç”¨æ—¶ä¹Ÿæ˜¯ 3 å¤©å·¦å³ï¼Œä¹Ÿå¯è§å…¶é‡è¦æ€§ã€‚</p>
<p>é¦–å…ˆå°±æ˜¯è‡ªå·±ä¸ªäººçš„ä½¿ç”¨äº†ã€‚ç”¨äº†ä¸€å¤©ï¼Œä¸»è¦æ˜¯ä¸¤ä¸ªé—®é¢˜ï¼šä¸€ä¸ªæ˜¯ä¸æ–­éœ€è¦é¼ æ ‡å»ç‚¹æ‰èƒ½çœ‹åˆ°æ—¶é—´ï¼Œæ‰€ä»¥æˆ‘è¡¥äº†è‡ªåŠ¨ç½®é¡¶çš„åŠŸèƒ½ï¼›è¿˜æœ‰ä¸€ä¸ªæ˜¯é•¿çš„éŸ³é¢‘ä¸èƒ½è‡ªåŠ¨åœæ­¢ï¼Œæ‰€ä»¥æˆ‘è¡¥äº†ç‚¹å‡»çª—å£åœæ­¢é“ƒå£°çš„åŠŸèƒ½ã€‚</p>
<p>åœ¨å®Œæˆå…¨éƒ¨åŠŸèƒ½å¹¶åœ¨æœ¬æœºï¼ˆmacOS 12 Montereyï¼‰ä¸Šæµ‹è¯•å®Œè¿è¡Œè‰¯å¥½åï¼Œæˆ‘ä¿®æ”¹äº†éƒ¨åˆ†ä»£ç ä½¿å…¶æ”¯æŒ macOS 11 Big Surï¼ˆè¿™æ—¶è¿˜è·³äº†å‘ï¼Œæœ‰äº› SwiftUI çš„ä¸œè¥¿åœ¨ä¸¤ä¸ªå¹³å°ä¸Šå®ç°å¾—å®Œå…¨ä¸ä¸€æ ·ï¼‰ï¼Œå¹¶åœ¨å®¶é‡Œçš„æ—§ç”µè„‘ä¸Šæµ‹è¯•æˆåŠŸã€‚è¿™ä¸ªæ—¶å€™æ‰èƒ½ä¸åŠ¨ä»£ç ï¼Œå¼€å§‹å‘å¸ƒå‰æœŸçš„å‡†å¤‡å·¥ä½œã€‚</p>
<p>å‘å¸ƒå‰çš„å‡†å¤‡å·¥ä½œä¸»è¦æœ‰ä¸¤é¡¹ï¼šä¸€æ˜¯ App Icon çš„è®¾è®¡ï¼›äºŒæ˜¯ç”¨æˆ·æ‰‹å†Œçš„ç¼–å†™ä¸æ‰“åŒ…ã€‚</p>
<p>å‰è€…ï¼Œåœ¨ Apple Developer å®˜ç½‘ä¸Šå°±å¯ä»¥å¾—åˆ°è®¾è®¡èµ„æºä¸è®¾è®¡å»ºè®®ã€‚å»å¹´çš„å›¾æ ‡æˆ‘æ˜¯ç½‘ä¸Šå«–çš„ï¼Œè¿™æ¬¡æˆ‘ç…§ç€å»å¹´çš„æ ·å­ï¼Œè‡ªå·±ç”¨ PS é‡æ–°ç”»äº†ä¸€éï¼Œæ·»åŠ äº†é˜´å½±ç­‰ç»†èŠ‚ï¼Œç®—æ˜¯åŠä¸ªåŸåˆ›å§ï¼ˆç¬‘ï¼‰ã€‚è‡³äºç”¨æˆ·æ‰‹å†Œçš„ç¼–å†™ï¼Œç”¨å°½é‡ä¹¦é¢åŒ–çš„è¯­è¨€ã€å°½é‡å®Œå¤‡åœ°è®²å…¨è½¯ä»¶çš„ä½¿ç”¨æ–¹å¼å’Œ FAQ å³å¯ï¼Œæˆ‘é€‰æ‹©äº†ç”¨ LaTeX ç¼–è¾‘ã€‚</p>
<p>è€—æ—¶ä¸€å…±ä¸€ä¸ªç¤¼æ‹œä¸åˆ°ï¼Œæ˜¾ç„¶ç®—æ˜¯æå°çš„é¡¹ç›®ï¼›ä½†ç§¯ç´¯çš„ç»éªŒåº”è¯¥æ˜¯ä¸å°‘çš„ã€‚æœ€ç»ˆå‘å¸ƒä¹Ÿæ²¡æœ‰å¼•èµ·ä»€ä¹ˆæ³¢æ¾œï¼Œæ–¹ä¾¿äº†è‡ªå·±å’Œä¸€å°éƒ¨åˆ†äººã€‚</p>
<hr />
<h2><a id="7%E6%80%BB%E7%BB%93" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>7 æ€»ç»“</h2>
<p>æœ¬æ–‡å†™äº 6 æœˆ 11 æ—¥è‡³ 12 æ—¥å‡Œæ™¨ï¼Œæ„Ÿè°¢ macOS 13 çš„å°å‰è°ƒåº¦èƒ½è®©æˆ‘ä¸“æ³¨åœ°èµ¶åœ¨ nth ä¹‹å‰å†™å®Œè¿™ä¸ªä¸œè¥¿ï¼ˆä¸æ˜¯ï¼‰ã€‚</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h34r26jx6ij21c00u0ahl.jpg" alt="" /></p>
<p>ç”¨ä¸Šæˆ‘ä¹‹å‰å¤æ´»çºªå¿µçš„é‚£ç¯‡æ–‡ç« çš„è¯ï¼Œè¿™å¯èƒ½æ˜¯æˆ‘ç¬¬ä¸€ä¸ªä»å¤´åˆ°å°¾è‡ªå·±åšçš„ã€è‰¯å¥½è¿è¡Œçš„ Appï¼Œå³ä½¿ç®€å•ä½†å¾ˆæœ‰æ„ä¹‰ã€‚ä¸è¿‡è¿™å¤§æ¦‚ä¹Ÿæ˜¯åˆä¸­èƒ½å†™çš„æœ€åä¸€ä¸ªå°é¡¹ç›®äº†ï¼Œä¹‹åä¹Ÿæ²¡ä»€ä¹ˆæ—¶é—´ï¼Œå¸Œæœ›èƒ½è®°ä½è¿™æ¬¡å¼€å‘å¸¦æ¥çš„å®è´µç»éªŒå§ã€‚</p>
<p>å¦‚æœå…¨æ–‡å«æœ‰è¡¨è¿°ä¸å‡†ç¡®æˆ–è€…æ˜æ˜¾é”™è¯¯çš„å†…å®¹ï¼Œè¯·åŠ¡å¿…æŒ‡å‡ºï¼</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x14 Hash]]></title>
    <link href="oi.afobject.ml/0x14-.html"/>
    <updated>2022-06-10T22:13:57+08:00</updated>
    <id>oi.afobject.ml/0x14-.html</id>
    <content type="html"><![CDATA[
<h2><a id="snowflake-snow-snowflakes" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Snowflake Snow Snowflakes</h2>
<p><tc><c>0x1401</c><e>Easy+</e><t>Hash</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æˆ‘ä»¬ç›®æ ‡çš„ Hash å‡½æ•°è¦æ»¡è¶³ï¼š</p>
<ul>
<li>å¯¹äºæ¯ä¸ªæ•°æ˜¯å¹³ç­‰çš„ï¼›</li>
<li>èƒ½å°½é‡åŒºåˆ†å‡ºä¸åŒçš„é›ªèŠ±ã€‚</li>
</ul>
<p>å› æ­¤å¯ä»¥æ„é€ å‡º Hash å‡½æ•° \(H(a_{i,1},a_{i,2},\ldots,a_{i,6})=(\sum_{j=1}^6a_{i,j}+\prod_{j=1}^6a_{i,j}) \bmod P\)ã€‚</p>
<p>å¯¹äºæ¯ä¸€ä¸ª Hash å€¼ï¼ŒæœŸæœ›çš„é¡¹ç›®æ•°æ˜¯ \(\dfrac N P\)ã€‚æ¯ä¸ªå—å†…æ¯”ä¸€æ¯”ï¼Œæœ€ç»ˆçš„æ—¶é—´å¤æ‚åº¦æ˜¯ \(P \cdot \left(\dfrac N P\right)^2= \dfrac{N^2}P\)ï¼‰ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>Hash çš„å®ç°æ³¨æ„ï¼š</p>
<ul>
<li>å½“ Hash å€¼è®¡ç®—è¿‡ç¨‹ä¸­å¯èƒ½è¶…è¿‡ <code>int</code> èŒƒå›´ï¼ˆå¦‚ä¹˜ç§¯ç­‰ï¼‰æ—¶ï¼Œå…ˆè½¬ä¸€ä¸‹ <code>long long</code>ï¼›</li>
<li>èƒ½ä¸å¼€æ–°ç©ºé—´å°±ä¸å¼€æ–°ç©ºé—´ï¼Œå°‘ç”¨æŒ‡é’ˆï¼ˆé€‚ç”¨æ‰€æœ‰é¢˜ç›®ï¼‰ã€‚</li>
</ul>
<pre class="line-numbers"><code class="language-cpp">#define P 99991

int n;

struct Snowflake {
    int a[6];
    int hashValue() {
        int sum = 0, prod = 1;
        for (int i = 0; i &lt; 6; ++i) 
            sum = (sum + a[i]) % P, prod = ((long long)prod * a[i]) % P;
        return (sum + prod) % P;
    }
    bool operator == (const Snowflake&amp; other) const {
        for (int s = 0; s &lt; 6; ++s) {
            bool flag = true;
            for (int i = 0; i &lt; 6; ++i)
                if (a[(s + i) % 6] != other.a[i])
                    flag = false;
            if (flag) return true;
            flag = true;
            for (int i = 0; i &lt; 6; ++i)
                if (a[(s + i) % 6] != other.a[5 - i])
                    flag = false;
            if (flag) return true;
        }
        return false;
    }
};

std::vector&lt;Snowflake&gt; v[100001];

int main() {
    n = read();
    while (n--) {
        Snowflake t;
        for (int i = 0; i &lt; 6; ++i)
            t.a[i] = read() % P;
        const int val = t.hashValue();
        for (auto x : v[val])
            if (x == t)
                return puts(&quot;Twin snowflakes found.&quot;), 0;
        v[val].push_back(t);
    }
    return puts(&quot;No two snowflakes are alike.&quot;), 0;
}
</code></pre>
<hr />
<h2><a id="%E5%85%94%E5%AD%90%E4%B8%8E%E5%85%94%E5%AD%90" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å…”å­ä¸å…”å­</h2>
<p><tc><c>0x1402</c><e>Easy</e><t>Hash</t><t>å­—ç¬¦ä¸²</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä¹¦ä¸Šè®²çš„éå¸¸è¯¦ç»†ã€‚ä¾‹å¦‚ä¸² <code>abcxyz</code>ï¼Œåœ¨ 27 è¿›åˆ¶ä¸‹å°†å®ƒè¡¨ç¤ºä¸º <code>1 2 3 24 25 26</code>ã€‚æƒ³è¦å–å‡º <code>bcx</code> çš„å“ˆå¸Œå€¼ï¼Œåˆ™ç”¨ <code>abcx</code> çš„å“ˆå¸Œå€¼å‡å» <code>a000</code> çš„å“ˆå¸Œå€¼ã€‚å…¶ä¸­ <code>a000</code> ä»£è¡¨ <code>a</code> çš„å“ˆå¸Œå€¼åœ¨ 27 è¿›åˆ¶ä¸‹å·¦ç§» 3 ä½ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">char s[1000001];
unsigned long long x[1000001], p[1000001];

#define B 131

int main() {
    scanf(&quot;%s&quot;, s + 1);
    const int len = strlen(s + 1);
    p[0] = 1;
    for (int i = 1; i &lt;= len; ++i) {
        x[i] = x[i - 1] * B + s[i];
        p[i] = p[i - 1] * B;
    }
    int q = read();
    while (q--) {
        int l1 = read(), r1 = read(), l2 = read(), r2 = read();
        const auto h1 = x[r1] - x[l1 - 1] * p[r1 - l1 + 1];
        const auto h2 = x[r2] - x[l2 - 1] * p[r2 - l2 + 1];
        puts(h1 == h2 ? &quot;Yes&quot; : &quot;No&quot;);
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="palindrome" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Palindrome</h2>
<p><tc><c>0x1403</c><m>Medium-</m><t>Hash</t><t>å­—ç¬¦ä¸²</t><t>äºŒåˆ†</t></tc></p>
<p>Manacher æ¨¡ç‰ˆï¼Œä½†æ˜¯æ•°æ®èŒƒå›´ \(10^6\)ã€‚</p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä¸€çœ¼äºŒåˆ† + æ­£ / åå‘å“ˆå¸Œã€‚</p>
<p>ä½†è¿™åªæ˜¯å®è§‚æè¿°ï¼Œè¿˜æ˜¯æœ‰æ¯”è¾ƒå¤šçš„ç»†èŠ‚ã€‚</p>
<ol>
<li>
<p>äºŒåˆ†ä»€ä¹ˆï¼Ÿä»å“ªé‡Œå¼€å§‹äºŒåˆ†ï¼Ÿ</p>
<p>åº”è¯¥å¯¹äºæ¯ä¸€ä¸ªå›æ–‡ä¸²å¯èƒ½çš„ä¸­ç‚¹ï¼Œåœ¨ä¸¤è¾¹äºŒåˆ†å‡ºæœ€è¿œçš„å›æ–‡ä¸²çš„å·¦å³ç«¯ç‚¹ã€‚æ³¨æ„ï¼Œè¿™ä¸ªä¸­ç‚¹å¯èƒ½æ˜¯å¤¹åœ¨å­—ç¬¦ä¸­é—´çš„ã€‚</p>
</li>
<li>
<p>äºŒåˆ†çš„è¾¹ç•ŒèŒƒå›´</p>
<p>åº”å½“ä¸º \([0,\text{maxLength}]\)ã€‚æ³¨æ„ä¸€å®šè¦å– 0ï¼Œè¿™æ ·æ–¹ä¾¿åˆ¤æ–­ä¸å­˜åœ¨å›æ–‡ä¸²çš„æƒ…å†µã€‚</p>
</li>
<li>
<p>åå‘å“ˆå¸Œ</p>
<p>è‹¥è¦æ±‚ \([l,r]\) çš„åå‘å“ˆå¸Œå€¼ï¼Œåˆ™ç­”æ¡ˆä¸º \(b(l)-b(r+1)\cdot B^{r-l+1}\)ï¼Œä¸æ­£å‘çš„æ°å¥½ç›¸åã€‚</p>
</li>
</ol>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æˆ‘åœ¨å®ç°ä¸­ç”¨äº† <code>std::string</code>ï¼Œä¸‹æ¬¡ä¸è¦è¿™æ ·æï¼å°½é‡ä¸‹æ ‡ä» 1 å¼€å§‹æ–¹ä¾¿è‡ªå·±ï¼Œå¦åˆ™åœ¨é¢„å¤„ç†å“ˆå¸Œå€¼çš„æ—¶å€™ç¢°åˆ°æ•°ç»„è¶Šç•Œå¾ˆéº»çƒ¦ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">
std::string s;
unsigned long long f[1000003], b[1000003], p[1000003];

#define B 31

unsigned long long getFront(int l, int r) {
    if (l) return f[r] - f[l - 1] * p[r - l + 1];
    else return f[r];
}

unsigned long long getBack(int l, int r) {
    return b[l] - b[r + 1] * p[r - l + 1];
}

int main() {
    int t = 0;
    while (true) {
        std::cin &gt;&gt; s;
        if (s == &quot;END&quot;) break;
        ++t; std::cout &lt;&lt; &quot;Case &quot; &lt;&lt; t &lt;&lt; &quot;: &quot;;
        const int len = s.length();
        for (int i = 0; i &lt; len; i++)
            f[i] = (s[i] - 'a') + (i ? f[i - 1] * B : 0),
            b[len - i - 1] = (s[len - i - 1] - 'a') + b[len - i] * B,
            p[i] = i ? p[i - 1] * B : 1;
        int ans = 0;
        
        for (int i = 0; i &lt; len; ++i) {
            int l = 0, r = std::min(i, len - i - 1);
            while (l &lt; r) {
                const int mid = (l + r + 1) &gt;&gt; 1;
                if (getFront(i - mid, i) == getBack(i, i + mid))
                    l = mid;
                else
                    r = mid - 1;
            }
            ans = std::max(ans, (l &lt;&lt; 1) + 1);
        }
        for (int i = 1; i &lt; len; ++i) {
            int l = 0, r = std::min(i, len - i);
            while (l &lt; r) {
                const int mid = (l + r + 1) &gt;&gt; 1;
                if (getFront(i - mid, i - 1) == getBack(i, i + mid - 1))
                    l = mid;
                else
                    r = mid - 1;
            }
            ans = std::max(ans, l &lt;&lt; 1);
        }
        std::cout &lt;&lt; ans &lt;&lt; std::endl;
    }
}
</code></pre>
<hr />
<h2><a id="%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84%EF%BC%88%E5%BC%B1%E5%8C%96%E7%89%88%EF%BC%89" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åç¼€æ•°ç»„ï¼ˆå¼±åŒ–ç‰ˆï¼‰</h2>
<p><tc><c>0x1404</c><m>Medium-</m><t>Hash</t><t>å­—ç¬¦ä¸²</t><t>äºŒåˆ†</t></tc></p>
<p>åç¼€æ’åºæ¨¡ç‰ˆï¼Œä½†æ˜¯ \(n \le 3\times10^5\)ã€‚</p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å…¶å®æ˜¯å­—ç¬¦ä¸² Hash çš„ç»¼åˆã€‚çœ‹çœ‹æˆ‘ä»¬ç°æœ‰çš„çŸ¥è¯†å¯¹æ‰€æ±‚çš„ä¸¤é—®åˆ†åˆ«æœ‰ä»€ä¹ˆå¸®åŠ©ã€‚</p>
<ol>
<li>å¯¹äº Height æ•°ç»„ï¼Œä¼¼ä¹å¯ä»¥æ‹¿ä¸ä¸Šä¸€é¢˜ç±»ä¼¼çš„äºŒåˆ†æ¥åšï¼Œä¹Ÿæ¯”è¾ƒå¥½å†™ã€‚</li>
<li>å¯¹äº SA çš„æ’åºï¼Œæ— éå°±æ˜¯ç”¨å¸¸è§„çš„ <code>std::sort</code> / æ‰‹å†™å¿«æ’ï¼Œå½’å¹¶æ’åºï¼Œæˆ–è€…æ˜¯ç”¨ä¸€äº›åˆ«çš„å¥‡å¦™æ–¹æ³•ã€‚å½“æˆ‘ä»¬æ¯”è¾ƒä¸¤ä¸ªå‰ç¼€çš„æ—¶å€™ï¼Œå¸¸è§„åšæ³•åº”è¯¥æ˜¯é€ä¸ªå­—ç¬¦æ¯”è¾ƒï¼›ä½†å·²ç»å¯ä»¥å®ç° Height äº†ï¼Œè¦ä»€ä¹ˆæš´åŠ›ï¼ç›´æ¥æ‹¿ Height æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸åŒçš„ä½ç½®å³å¯ã€‚æŠŠè¿™äº›ä¸œè¥¿å¥—åœ¨ä¸€ä¸ª <code>comp</code> é‡Œï¼Œç”¨ <code>std::sort</code>  æ’åºã€‚</li>
</ol>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>ä¸Šé¢å‡ é¢˜è¸©è¿‡å‘ï¼Œè¿™æ¬¡å¿«å¾ˆå¤šã€‚</p>
<pre class="line-numbers"><code class="language-cpp">char s[3000003];
int n;
unsigned long long x[3000003], p[3000003];

#define B 31

int getHash(int l, int r) {
    return x[r] - x[l - 1] * p[r - l + 1];
}

int height(int a, int b) {
    int l = 0, r = std::min(n - b + 1, n - a + 1);
    while (l &lt; r) {
        const int mid = (l + r + 1) &gt;&gt; 1;
        if (getHash(a, a + mid - 1) == getHash(b, b + mid - 1))
            l = mid;
        else
            r = mid - 1;
    }
    return l;
}

bool comp(int a, int b) {
    const int h = height(a, b);
    return s[a + h] &lt; s[b + h];
}

int sa[3000003];

int main() {
    scanf(&quot;%s&quot;, s + 1);
    n = strlen(s + 1);
    p[0] = 1;
    for (int i = 1; i &lt;= n; ++i) {
        x[i] = x[i - 1] * B + s[i] - 'a';
        p[i] = p[i - 1] * B;
        sa[i] = i;
    }
    std::sort(sa + 1, sa + n + 1, comp);
    for (int i = 1; i &lt;= n; ++i)
        printf(&quot;%d &quot;, sa[i] - 1);
    printf(&quot;\n0 &quot;);
    for (int i = 2; i &lt;= n; ++i)
        printf(&quot;%d &quot;, height(sa[i - 1], sa[i]));
    putchar('\n');
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ABC254]]></title>
    <link href="oi.afobject.ml/abc254.html"/>
    <updated>2022-06-04T23:26:05+08:00</updated>
    <id>oi.afobject.ml/abc254.html</id>
    <content type="html"><![CDATA[
<p>[6/8] VP</p>
<span id="more"></span><!-- more -->
<h2><a id="d-together-square" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>D Together Square</h2>
<p><tc><m>Medium *1191</m><t>æ•°è®º</t><t>ç»„åˆ</t><t>ç­›æ³•</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä¸¤ä¸ªæ•°éƒ½æ˜¯å¹³æ–¹æ•°çš„è¯å…¶å®æ˜¯å¾ˆç®€å•çš„ï¼Œä½†å¦‚æœä¸¤ä¸ªéƒ½ä¸æ˜¯å¹³æ–¹æ•°å°±æœ‰ç‚¹éš¾æã€‚ä¸€ä¸ªéå¹³æ–¹æ•°æ‰€å¯¹åº”çš„å¯ä»¥è®©å®ƒä»¬çš„ç§¯ä¸ºå®Œå…¨å¹³æ–¹æ•°çš„å¦ä¸€ä¸ªæ•°æ˜¯ä¸å”¯ä¸€çš„ï¼Œæ€ä¹ˆå¿«é€Ÿæ‰¾åˆ°å®ƒå‘¢ï¼Ÿ</p>
<p>è€ƒè™‘å°†æ‰€æœ‰çš„æ•° \(i\) éƒ½é™¤å»å®ƒä»¬æœ€å¤§çš„å®Œå…¨å¹³æ–¹æ•°å› æ•°ï¼ˆ\(p_i\)ï¼‰ï¼Œç„¶åå‰©ä¸‹çš„éƒ¨åˆ†ï¼ˆè®¾ä¸º \(f_i\)ï¼‰ç›¸ç­‰çš„ï¼ŒåŸæ•°æ‹¼åœ¨ä¸€èµ·å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚ä¸‹é¢è€ƒè™‘çš„æ˜¯å¦‚ä½•å¿«é€Ÿçš„å¾—åˆ° \(f_i\)ã€‚ç”±äºæ•°æ®èŒƒå›´ä¸å¤§ï¼Œå¯ä»¥ç›´æ¥æšä¸¾å®ƒçš„å› æ•°æ‰¾åˆ° \(p_i\)ã€‚æšä¸¾å› æ•°ç”¨ç±»ä¼¼åŸƒç­›çš„æ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦åæ­£ä¸å¤§ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n, sum[200001];
bool g[200001];
std::vector&lt;int&gt; v[200001];

signed main() {
    scanf(&quot;%lld&quot;, &amp;n);
    int ans = 0;
    for (int i = 1; i * i &lt;= n; ++i) g[i * i] = true;
    for (int i = 1; i &lt;= n; ++i)
        for (int j = i; j &lt;= n; j += i)
            v[j].push_back(i);
    for (int i = 1; i &lt;= n; ++i) {
        int f = 1;
        for (int p : v[i])
            if (i % p == 0 &amp;&amp; g[p]) f = std::max(f, p);
        sum[i / f]++;
    }
    for (int i = 1; i &lt;= n; ++i) ans += sum[i] * sum[i];
    printf(&quot;%lld\n&quot;, ans);
}
</code></pre>
<hr />
<h2><a id="e-small-d-and-k" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>E Small d and k</h2>
<p><tc><e>Easy+ *1202</e><t>æœç´¢</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ç­”æ¡ˆæ˜¯æš´åŠ›ã€‚</p>
<p>è¿™ç§æœ€çŸ­è·¯é—®é¢˜ç†åº”ç”¨ BFS è§£å†³ï¼Œä½†å®é™…ä¸Š DFS ä¹±ææä¹Ÿå¯ä»¥è¿‡ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int x, k;
int dis[200001];
std::vector&lt;int&gt; nodes;
void dfs(int x, int t) {
    if (t &gt;= dis[x]) return;
    if (dis[x] &gt; k) nodes.push_back(x);
    dis[x] = t;
    if (t == k) return;
    for (int v : e[x])
        dfs(v, t + 1);
}

int main() {
    n = read(), m = read();
    for (int i = 1; i &lt;= n; ++i) dis[i] = 1e9;
    while (m--) {
        int u = read(), v = read();
        e[u].push_back(v);
        e[v].push_back(u);
    }
    q = read();
    while (q--) {
        x = read(), k = read();
        nodes = std::vector&lt;int&gt;();
        dfs(x, 0);
        long long ans = 0;
        for (int u : nodes) {
            dis[u] = 1e9;
            ans += u;
        }
        printf(&quot;%lld\n&quot;, ans);
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="f-rectangle-gcd" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>F Rectangle GCD</h2>
<p><tc><m>Medium *1764</m><t>æ•°è®º</t><t>GCD</t><t>çº¿æ®µæ ‘</t><t>DS</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æå…¶æ˜¾ç„¶åœ°ï¼Œç­”æ¡ˆæ˜¯</p>
\[\gcd\{A_{h_1}+B_{w_1},\underset{i\in(h_1,h_2]}{\left|A_i-A_{i-1}\right|},\underset{i\in(w_1,w_2]}{\left|B_i-B_{i-1}\right|}\}
\]
<p>ç„¶åå°±æ˜¯æŸ¥è¯¢åŒºé—´ \(\gcd\)ï¼Œç”¨çº¿æ®µæ ‘æˆ–è€… ST è¡¨ã€‚</p>
<p>ä¸ºä»€ä¹ˆæ„Ÿè§‰ E &lt; F &lt; Dâ€¦â€¦</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>ä¸å¸¦ä¿®çš„çº¿æ®µæ ‘çœŸå¥½å†™ã€‚æ³¨æ„å››å€ç©ºé—´ï¼</p>
<pre class="line-numbers"><code class="language-cpp">#define lt(x) ((x) &lt;&lt; 1)
#define rt(x) (((x) &lt;&lt; 1) + 1)
#define abs(x) ((x) &gt; 0 ? (x) : -(x))

int n, q;
int a[200001], b[200001];
int ca[200001], cb[200001];

int gcd(int a, int b) {
    return b ? gcd(b, a % b) : a;
}

int segA[800001], segB[800001];
void build(int *s1, int *s2, int x, int l, int r) {
    if (l == r) {
        s1[x] = s2[l];
        return;
    }
    const int mid = (l + r) &gt;&gt; 1;
    build(s1, s2, lt(x), l, mid);
    build(s1, s2, rt(x), mid + 1, r);
    s1[x] = gcd(s1[lt(x)], s1[rt(x)]);
}

int query(int *s, int x, int l, int r, int ql, int qr) {
    if (l &gt; r) return 1;
    if (ql &lt;= l &amp;&amp; r &lt;= qr) return s[x];
    const int mid = (l + r) &gt;&gt; 1;
    int res = 0;
    if (ql &lt;= mid) res = gcd(res, query(s, lt(x), l, mid, ql, qr));
    if (qr &gt; mid) res = gcd(res, query(s, rt(x), mid + 1, r, ql, qr));
    return res;
}

int main() {
    n = read(), q = read();
    for (int i = 1; i &lt;= n; ++i) a[i] = read();
    for (int i = 1; i &lt;= n; ++i) b[i] = read();
    for (int i = 1; i &lt;= n; ++i)
        ca[i] = abs(a[i] - a[i - 1]), cb[i] = abs(b[i] - b[i - 1]);
    build(segA, ca, 1, 1, n);
    build(segB, cb, 1, 1, n);
    while (q--) {
        int h1 = read(), h2 = read(), w1 = read(), w2 = read();
        printf(&quot;%d\n&quot;, gcd( gcd(query(segA, 1, 1, n, h1 + 1, h2),
                                query(segB, 1, 1, n, w1 + 1, w2)),
                            a[h1] + b[w1]));
    }
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x13 é“¾è¡¨ä¸é‚»æ¥è¡¨]]></title>
    <link href="oi.afobject.ml/0x13-.html"/>
    <updated>2022-06-01T20:12:11+08:00</updated>
    <id>oi.afobject.ml/0x13-.html</id>
    <content type="html"><![CDATA[
<h2><a id="%E5%B0%8F%E7%86%8A%E7%9A%84%E6%9E%9C%E7%AF%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å°ç†Šçš„æœç¯®</h2>
<p><tc><c>CSP-J 2021</c><e>Easy+</e><t>æ¨¡æ‹Ÿ</t><t>é“¾è¡¨</t></tc></p>
<p>æ™®åŠæ‘†çƒ‚æ²¡ AK çš„ç—›</p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å°†å—ä½œä¸ºé“¾è¡¨çš„ä¸€ä¸ªé¡¹ç›®ï¼Œæ¯ä¸€è½®è¿›è¡Œåˆå¹¶ï¼Œç”±äºæ¯ä¸ªæ°´æœè‡³å¤šè¢«åˆ ä¸€æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å°±æ˜¯ \(O(n)\) çš„ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æœ‰ç‚¹éš¾æ•´ã€‚ã€‚ã€‚</p>
<p>é¦–å…ˆæ˜ç¡®ä¸€ä¸ªå—å†…çš„ç¼–å·å¹¶ä¸æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥é™¤äº†ç»´æŠ¤å—ä¹‹é—´çš„é¡ºåºå¤–è¿˜è¦å†å¼€ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥ç»´æŠ¤ç¼–å·é—´çš„å‰åå…³ç³»ï¼ˆä½†è¿™ä¸ªå®ç°èµ·æ¥ç”¨æ•°ç»„å³å¯ï¼Œæ¯”è¾ƒç®€å•ï¼‰ã€‚è€ƒåœºä¸Šå†™é”™å°±æ˜¯å› ä¸ºè¿™ä¸ªç‚¹ã€‚</p>
<p>å¦å¤–è¿™é‡Œçš„å†™æ³•ä¸­ä¸¤è¾¹çš„ <code>head</code> å’Œ <code>tail</code> æ˜¯ç©ºçš„ï¼Œè¦åˆ¤ä¸€ä¸‹ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">namespace List {
    struct Node {
        int val, type, start;
        Node *prev, *next;
    } v[200001], *head, *tail;
    void init() {
        head = new Node();
        tail = new Node();
        head-&gt;next = tail;
        tail-&gt;prev = head;
    }
    void insert(int val, int type, int start, Node *p) {
        auto r = new Node();
        r-&gt;val = val; r-&gt;type = type; r-&gt;start = start;
        r-&gt;prev = p; r-&gt;next = p-&gt;next;
        p-&gt;next-&gt;prev = r; p-&gt;next = r;
    }
    void remove(Node *p) {
        p-&gt;prev-&gt;next = p-&gt;next;
        p-&gt;next-&gt;prev = p-&gt;prev;
        delete p;
    }
};

int prevN[200001], nextN[200001];

int n;

int main() {
    n = read();
    List::init();
    int prev = 0, count = 0;
    for (int i = 1; i &lt;= n; ++i) {
        if (i != n) nextN[i] = i + 1; prevN[i] = i - 1;
        int a = read();
        if (a != prev) {
            if (i != 1)
                List::insert(count, prev, i - count, List::tail-&gt;prev);
            prev = a;
            count = 0;
        }
        ++count;
    }
    List::insert(count, prev, n + 1 - count, List::tail-&gt;prev);
    while (List::head-&gt;next != List::tail) {
        for (auto x = List::head-&gt;next; x-&gt;next != NULL; x = x-&gt;next)
            printf(&quot;%d &quot;, x-&gt;start);
        putchar('\n');
        for (auto x = List::head-&gt;next; x-&gt;next != NULL; x = x-&gt;next) {
            x-&gt;val--;

            nextN[prevN[x-&gt;start]] = nextN[x-&gt;start];
            prevN[nextN[x-&gt;start]] = prevN[x-&gt;start];
            x-&gt;start = nextN[x-&gt;start];

            if (x-&gt;val == 0)
                List::remove(x);
            else if (x-&gt;prev-&gt;type == x-&gt;type &amp;&amp; x-&gt;prev != List::head)
                x-&gt;prev-&gt;val += x-&gt;val, List::remove(x);
        }
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E9%82%BB%E5%80%BC%E6%9F%A5%E6%89%BE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é‚»å€¼æŸ¥æ‰¾</h2>
<p><tc><c>0x1301</c><m>Medium-</m><t>æ¨¡æ‹Ÿ</t><t>é“¾è¡¨</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æ˜¾ç„¶æœ‰ä¸€æ­¥æ˜¯è¦ä»å°åˆ°å¤§æ’åºå¹¶ä¸”æ‰¾å‡ºæŸä¸ªæ•°çš„å‰é©± / åç»§ã€‚</p>
<p>ä¸€ç§æ–¹æ³•æ˜¯ä¾æ¬¡å°†æ•°æœ‰åºåœ°æ’å…¥ä¸€ä¸ª <code>std::set</code>ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæ•°çš„å‰é©±æˆ–åç¼€ã€‚</p>
<p>å¦ä¸€ç§æ–¹æ³•åˆ™æ˜¯<strong>å€’åº</strong>å¤„ç†ï¼Œç”¨å®Œä¸€ä¸ªåˆ ä¸€ä¸ªï¼Œç”¨é“¾è¡¨ç»´æŠ¤æ•°æ®ã€‚</p>
<p>æœ¬èŠ‚ä¾‹é¢˜ä¸­ã€ŒRunning Medianã€ï¼ˆ0x0503ï¼‰ä¹Ÿå¯ä»¥ç”¨è¿™ç§å€’åºçš„æ€æƒ³å¤„ç†æ•°æ®ï¼ˆç”¨å®Œä¸€ä¸ªåˆ ä¸€ä¸ªï¼‰ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è¿˜æ˜¯æ³¨æ„åˆ¤æ–­é˜Ÿåˆ—é¦–ã€å°¾é¢„ç•™çš„ç©ºé¡¹çš„é—®é¢˜ï¼Œèµ‹ä¸€ä¸ªæå¤§çš„åˆå€¼å³å¯ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">namespace List {
    struct Node {
        std::pair&lt;int, int&gt; val;
        Node *prev, *next;
    } v[200001], *head, *tail;
    void init() {
        head = new Node();
        tail = new Node();
        head-&gt;val.first = -2e9;
        tail-&gt;val.first = 2e9;
        head-&gt;next = tail;
        tail-&gt;prev = head;
    }
    void insert(std::pair&lt;int, int&gt; val, Node *p) {
        auto r = new Node();
        r-&gt;val = val; r-&gt;prev = p; r-&gt;next = p-&gt;next;
        p-&gt;next-&gt;prev = r; p-&gt;next = r;
    }
    void remove(Node *p) {
        p-&gt;prev-&gt;next = p-&gt;next;
        p-&gt;next-&gt;prev = p-&gt;prev;
        delete p;
    }
};

std::pair&lt;int, int&gt; a[200001];
List::Node *b[200001];

int n;
int ansVal[200001], ansIdx[200001];

int main() {
    n = read();
    List::init();
    for (int i = 1; i &lt;= n; ++i) a[i] = {read(), i};
    std::sort(a + 1, a + n + 1);
    for (int i = 1; i &lt;= n; ++i) {
        List::insert(a[i], List::tail-&gt;prev);
        b[a[i].second] = List::tail-&gt;prev;
    }
    for (int i = n; i &gt; 1; --i) {
        int lhs = b[i]-&gt;val.first - b[i]-&gt;prev-&gt;val.first,
            rhs = b[i]-&gt;next-&gt;val.first - b[i]-&gt;val.first;
        ansVal[i] = std::min(lhs, rhs);
        if (lhs &lt;= rhs) ansIdx[i] = b[i]-&gt;prev-&gt;val.second;
        else ansIdx[i] = b[i]-&gt;next-&gt;val.second;
        List::remove(b[i]);
    }
    for (int i = 2; i &lt;= n; ++i)
        printf(&quot;%d %d\n&quot;, ansVal[i], ansIdx[i]);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x12 é˜Ÿåˆ—]]></title>
    <link href="oi.afobject.ml/0x12-.html"/>
    <updated>2022-05-20T22:37:19+08:00</updated>
    <id>oi.afobject.ml/0x12-.html</id>
    <content type="html"><![CDATA[
<h2><a id="team-queue" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Team Queue</h2>
<p><tc><c>0x1201</c><e>Easy</e><t>æ¨¡æ‹Ÿ</t><t>é˜Ÿåˆ—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å¼€ä¸ªé˜Ÿåˆ—è®°å½•ä¸‹é˜Ÿä¼ä¹‹é—´çš„é¡ºåºï¼›å†å¯¹äºæ¯ä¸ªé˜Ÿä¼å¼€ä¸ªé˜Ÿåˆ—è®°å½•ä¸‹å†…éƒ¨çš„é¡ºåºã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n;
std::map&lt;int, int&gt; m;
std::queue&lt;int&gt; d, q[1001];

int main() {
    int T = 0;
    while (std::cin &gt;&gt; n &amp;&amp; n) {
        ++T;
        std::cout &lt;&lt; &quot;Scenario #&quot; &lt;&lt; T &lt;&lt; '\n';

        m.clear(); d = std::queue&lt;int&gt;();
        for (int i = 1; i &lt;= n; ++i) {
            q[i] = std::queue&lt;int&gt;();
            int t; std::cin &gt;&gt; t;
            while (t--) {
                int g; std::cin &gt;&gt; g;
                m[g] = i;
            }
        }

        std::string s; int op;
        while (std::cin &gt;&gt; s &amp;&amp; s != &quot;STOP&quot;) {
            if (s == &quot;DEQUEUE&quot;) {
                std::cout &lt;&lt; q[d.front()].front() &lt;&lt; '\n';
                q[d.front()].pop();
                if (q[d.front()].empty()) d.pop();
            } else if (s == &quot;ENQUEUE&quot;) {
                std::cin &gt;&gt; op;
                if (q[m[op]].empty()) d.push(m[op]);
                q[m[op]].push(op);
            }
        }
        std::cout &lt;&lt; '\n';
    }
}
</code></pre>
<hr />
<h2><a id="%E8%9A%AF%E8%9A%93" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>èš¯èš“</h2>
<p><tc><c>NOIP2016 D2T2</c><c>0x1202</c><m>Medium+</m><t>æ•°å­¦</t><t>é˜Ÿåˆ—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>æ—¶é—´å¤æ‚åº¦çš„ç“¶é¢ˆåƒæ˜¯ \(O(m)\) çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯è¦æ±‚æˆ‘ä»¬ \(O(1)\) å®ç°æŸ¥è¯¢æœ€å¤§å€¼ã€åˆ†è£‚ã€å¢é•¿é•¿åº¦è¿™ä¸‰ä¸ªæ“ä½œã€‚</p>
<p>æœ€ç›´æ¥åœ°ï¼Œå¯ä»¥æƒ³åˆ°é€šè¿‡å¤§æ ¹å †æ‰¾å‡ºæœ€å¤§å€¼ï¼Œä½†æ˜¯é¡ºåºä¸ä¿è¯ï¼Œè€Œä¸”å¤ªæ…¢äº†ï¼Œæƒ³è¦ \(O(1)\) çš„è¯æœ€å¥½ä½¿åºåˆ—æœ‰åºã€‚æ¥ä¸‹æ¥å°±æ˜¯è¯•å›¾æ‰¾å‡ºå•è°ƒæ€§ã€‚</p>
<p>ä¸€æ¬¡æ“ä½œï¼Œç­‰æ•ˆäºæŠŠä¸€ä¸ªæ•° \(x\) åˆ†ä¸º \(\lfloor px \rfloor - q\) å’Œ \(x - \lfloor px \rfloor - q\) è¿™ä¸¤ä¸ªæ•°ï¼ˆå®é™…å€¼æ˜¯å…¨éƒ¨æ•°åŠ ä¸Š \(\Delta=q\cdot T\)ï¼Œ\(T\) ä¸ºå½“å‰æ“ä½œæ¬¡æ•°ï¼‰ã€‚ä»»ä½•æ“ä½œéƒ½åªä¼šè®©æ•°åˆ—ä¸­çš„æ•°å˜å°ï¼Œæ‰€ä»¥æ•°åˆ—çš„æœ€å¤§å€¼å•è°ƒé€’å‡ï¼Œè¢«ç çš„æ•°å•è°ƒé€’å‡ã€‚</p>
<p>å¯ä¸æƒ³è®©è¢«ç å‡ºæ¥çš„æ•°å†æ”¾å›åŸé˜Ÿåˆ—ç ´åå•è°ƒæ€§ï¼Œæ‰€ä»¥ç»§ç»­æ¢ç©¶è¢«ç å‡ºæ¥çš„æ•°æ˜¯å¦å­˜åœ¨å•è°ƒæ€§ã€‚æ³¨æ„æˆ‘ä»¬é›†ä½“å‡äº† \(\Delta\)ï¼Œè®¡ç®—çš„æ—¶å€™è¦è¿˜åŸ \(\Delta\)ï¼ˆ\(\Delta\) ä¸ºæœ¬è½®æ“ä½œå‰çš„ \(\Delta\)ï¼‰ã€‚ä¸€ä¸ªæ•°è¢«åˆ†ä¸ºäº† \(x_1=\lfloor p(x+\Delta) \rfloor - q - \Delta\) å’Œ \(x_2=x - \lfloor p(x+\Delta) \rfloor - q\)ã€‚å‡è®¾åœ¨è¿™ä¸ªæ•°åé¢è¢«åˆ†è£‚çš„é‚£ä¸ªæ•°æ˜¯ \(y\)ï¼ˆ\(y \le x\)ï¼‰ï¼Œé‚£ä¹ˆåˆ†å‡ºæ¥çš„å°±æ˜¯ \(y_1=\lfloor p(y+\Delta+q) \rfloor - q - \Delta-q\) å’Œ \(y_2=y - \lfloor p(y+\Delta+q) \rfloor - q\)ã€‚</p>
<p>ä½œå·®ï¼š</p>
\[\begin{aligned}
x_1-y_1
&amp;=\lfloor p(x+\Delta) \rfloor-\lfloor p(y+\Delta+q) \rfloor+q\\
&amp;=\lfloor p(x+xq) \rfloor-\lfloor p(y+q) \rfloor&gt;0\\

x_2-y_2
&amp;=x - \lfloor p(x+\Delta) \rfloor - y + \lfloor p(y+\Delta+q) \rfloor\\
&amp;=\lfloor x-p(x)\rfloor-\lfloor y-p(y+q) \rfloor&gt;0
\end{aligned}
\]
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ç å‡ºæ¥çš„é‚£ä¸¤æˆªèš¯èš“çš„é•¿åº¦ä¹Ÿéšç€æ—¶é—´çš„æ¨ç§»è€Œå•è°ƒé€’å‡</strong>ã€‚åœ¨æ‰€æœ‰æ“ä½œä¹‹å‰å…ˆæŠŠæ•´ä¸ªåºåˆ—æ’åºå­˜è¿›ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå½“è¿›è¡Œåˆ†è£‚æ“ä½œæ—¶ï¼ŒæŠŠå¤§çš„å–å‡ºæ¥æ”¾è¿›ä¸€ä¸ªé˜Ÿåˆ—ï¼ŒæŠŠå°çš„å–å‡ºæ¥æ”¾è¿›å¦ä¸€ä¸ªé˜Ÿåˆ—ã€‚å¯ä»¥ä¿è¯è¿™ä¸‰ä¸ªé˜Ÿåˆ—éƒ½æ˜¯é˜Ÿé¦–å¤§ï¼Œé˜Ÿå°¾å°ï¼Œè¿™æ ·å°±å®Œæˆäº† \(O(1)\) åœ°æ±‚æœ€å¤§å€¼ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int long long
#define top(x) ((x.empty()) ? -1e16 : x.front())

int n, m, q, u, v, t;
int d[100001];
std::queue&lt;int&gt; a, b, c;

signed main() {
    n = read(), m = read(), q = read(), u = read(), v = read(), t = read();
    for (int i = 1; i &lt;= n; ++i) d[i] = read();
    std::sort(d + 1, d + n + 1);
    for (int i = n; i; --i) a.push(d[i]);

    int delta = 0;
    for (int i = 1; i &lt;= m; ++i, delta += q) {
        int a0 = top(a), b0 = top(b), c0 = top(c), max = 0;
        if (a0 &gt;= b0 &amp;&amp; a0 &gt;= c0) max = a0, a.pop();
        else if (b0 &gt;= c0) max = b0, b.pop();
        else max = c0, c.pop();
        if (i % t == 0) printf(&quot;%lld &quot;, max + delta);
        b.push(floor((double)u / v * (max + delta)) - q - delta);
        c.push(max - floor((double)u / v * (max + delta)) - q);
    }
    putchar('\n');
    for (int i = 1; i &lt;= n + m; ++i) {
        int a0 = top(a), b0 = top(b), c0 = top(c), max = 0;
        if (a0 &gt;= b0 &amp;&amp; a0 &gt;= c0) max = a0, a.pop();
        else if (b0 &gt;= c0) max = b0, b.pop();
        else max = c0, c.pop();
        if (i % t == 0) printf(&quot;%lld &quot;, max + delta);
    }

    return 0;
}
</code></pre>
<hr />
<h2><a id="%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åŒç«¯é˜Ÿåˆ—</h2>
<p><tc><c>BJOI 2011</c><c>0x1203</c><m>Medium+</m><t>è´ªå¿ƒ</t><t>é˜Ÿåˆ—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä»¥è¾“å…¥ä¸ºå‡ºå‘ç‚¹è€ƒè™‘é—®é¢˜ï¼šæˆ‘ä¸å¤ªè¡Œï¼Œå› ä¸ºä»–è¦æ±‚æ˜¯æ•´ä½“æœ‰åºï¼Œå¾ˆéš¾å…‰é€šè¿‡åŸå§‹çš„æ— åºåºåˆ—æ‰¾åˆ°ç­”æ¡ˆã€‚</p>
<p><strong>ä»¥è¾“å‡ºä¸ºå‡ºå‘ç‚¹è€ƒè™‘é—®é¢˜</strong>ï¼šæœ€ç»ˆè¦æ±‚æ’å¥½åºï¼Œé‚£æˆ‘å°±æ’å¥½åºï¼ŒæŠŠæ’å¥½åºçš„æ•°ç»„åˆ†å‰²ï¼Œæ¯ä¸€æ®µå¯¹åº”ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ã€‚æ¯ä¸€æ®µä¸­è¦æ±‚æ•°çš„ä¸‹æ ‡å…·æœ‰<strong>å•è°·æ€§è´¨</strong>ã€‚æ³¨æ„åˆ¤æ–­é‡å¤çš„æ•°ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æ¥ä¸‹æ¥æ˜¯å•è°·æ€ä¹ˆæ‰¾çš„é—®é¢˜ï¼Œä¸€å¼€å§‹æ˜¯ä¸‹é™çš„çŠ¶æ€ï¼Œé™ä¸åŠ¨çš„æ—¶å€™åªèƒ½å‡ï¼Œå‡ä¸åŠ¨çš„æ—¶å€™å°±æˆäº†ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ï¼ˆåŒä¸€ä¸ªæ•°çš„ä¸‹æ ‡è¦ä¹ˆå…¨å‡è¦ä¹ˆå…¨é™ï¼Œå¦åˆ™å¤æ‚åŒ–äº†ï¼‰ã€‚å¼€ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªæ˜¯ä¸Šå‡ä¸‹é™çš„æ ‡å¿—ï¼Œä¸€ä¸ªæ˜¯ä¸Šå‡ / ä¸‹é™æœŸçš„æœ€å° / æœ€å¤§ä¸‹æ ‡ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">int n, a[200001];
std::pair&lt;int, int&gt; p[200001];
std::vector&lt;int&gt; v[200001];

int main() {
    n = read();
    for (int i = 1; i &lt;= n; ++i) {
        p[i].first = read();
        p[i].second = i;
    }
    std::sort(p + 1, p + n + 1);
    int t = 1;
    v[t].push_back(p[1].second);
    for (int i = 2; i &lt;= n; ++i) {
        if (p[i].first != p[i - 1].first)
            v[++t].push_back(p[i].second);
        else v[t].push_back(p[i].second);
    }
    int flag = 0, num = 0, ans = 0;
    for (int i = 1; i &lt;= t; ++i) {
        const int first = v[i][0], last = v[i][v[i].size() - 1];
        if (flag) {
            if (first &lt; num) { ++ans; flag = 0; num = first; }
            else num = last;
        } else {
            if (last &gt; num) { flag = 1; num = last; }
            else num = first;
        }
    }
    printf(&quot;%d\n&quot;, ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%92%8C" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æœ€å¤§å­åºå’Œ</h2>
<p><tc><c>0x1204</c><e>Easy</e><t>å‰ç¼€å’Œ</t><t>å•è°ƒé˜Ÿåˆ—</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘æ²¡æœ‰é™åˆ¶çš„åšæ³•ï¼šä¸€ä¸ªæ˜¯é€’æ¨ä¸€ä¸‹ï¼Œä¸€ä¸ªæ˜¯å‰ç¼€å’Œä¸€ä¸‹ã€‚æœ‰é™åˆ¶çš„è¯æ„Ÿè§‰å‰ç¼€å’Œæ›´é è°±ï¼Œé‚£å°±è¯•ä¸€è¯•ã€‚æ±‚å‡ºå‰ç¼€å’Œ \(p\) åï¼Œé—®é¢˜è½¬åŒ–ä¸ºæ‰¾å‡º \(\max\limits_{i-j &lt; m}\{p_i-p_j\}\)ã€‚</p>
<p>è€ƒè™‘ç”¨å•è°ƒé˜Ÿåˆ—æ±‚è§£ã€‚ç”¨æ»‘åŠ¨çª—å£æ±‚å‡ºå½“å‰ç‚¹ä¹‹å‰çš„ \(m\) ä¸ªå‰ç¼€å’Œçš„æœ€å°å€¼ï¼Œç”¨ç°åœ¨çš„å‰ç¼€å’Œå»å‡ï¼Œå°±åšå®Œäº†ã€‚</p>
<p>å¤ä¹ ä¸€ä¸‹æ»‘åŠ¨çª—å£çš„åšæ³•ï¼šè¿›é˜Ÿå°¾æŠŠå¤§æ•°é¡¶æ‰ï¼Œç»´æŒå•è°ƒé€’å¢ï¼ŒæŠŠè¶…è¿‡çª—å£èŒƒå›´çš„ä¹Ÿæ¨æ‰ã€‚æœ€å°å€¼åœ¨æ¯æ¬¡çš„é˜Ÿå¤´ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, m, p[300001];
std::deque&lt;std::pair&lt;int, int&gt;&gt; q;

int main() {
    n = read(), m = read();
    for (int i = 1; i &lt;= n; ++i)
        p[i] = p[i - 1] + read();
    int ans = -2e8;
    q.push_back({0, 0});
    for (int i = 1; i &lt;= n; ++i) {
        while (q.size() &amp;&amp; q.back().second &gt; p[i]) q.pop_back();
        q.push_back({i, p[i]});
        if (i - q.front().first &gt; m) q.pop_front();
        ans = std::max(ans, p[i] - q.front().second);
    }
    printf(&quot;%d\n&quot;, ans);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Educational Codeforces Round #128 (Div.2)]]></title>
    <link href="oi.afobject.ml/cf1680.html"/>
    <updated>2022-05-14T22:28:03+08:00</updated>
    <id>oi.afobject.ml/cf1680.html</id>
    <content type="html"><![CDATA[
<p>[5/6] Alt (Rated), 3/6, 1071 \(\to\) 1278</p>
<span id="more"></span><!-- more -->
<h2><a id="1680c-binary-string" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1680C Binary String</h2>
<p><tc><m>Medium- *1600</m><t>äºŒåˆ†</t><t>å‰ç¼€å’Œ</t></tc></p>
<p>åœºåˆ‡äº†ï¼Œæƒ³å‡ºäºŒåˆ†æ²¡è§‰å¾—ç‰¹éš¾ï¼Œåˆ°æ—¶å€™çœ‹çœ‹ \(O(n)\) åšæ³•æ˜¯ä»€ä¹ˆã€‚</p>
<hr />
<h2><a id="1680d-dog-walking" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1680D Dog Walking</h2>
<p><tc><m>Medium+ *2400</m><t>æ•°å­¦</t><t>è´ªå¿ƒ</t><t>å‰ç¼€å’Œ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>é¢˜é¢å¤ªé•¿ä¸çœ‹ã€‚ç¨å¾®ç®€åŒ–ä¸€ä¸‹é¢˜é¢ï¼šå°†æ•°åˆ—ä¸­çš„ \(0\) éƒ½æ›¿æ¢æˆ \([-k,k]\) ä¸­çš„ä¸€ä¸ªæ•°åï¼Œä»¤å‰ç¼€å’Œæ•°ç»„ä¸º \(s\)ï¼Œæœ€å¤§åŒ– \(\max\{s\}-\min\{s\}\) ä¸” \(s_n=0\)ï¼ˆå¾ˆå®¹æ˜“åˆ¤æ–­ï¼Œå½“ \(\mid s_n\mid\) å¤§äº 0 çš„ä¸ªæ•°ä¹˜ä»¥ \(k\) çš„æ—¶å€™ï¼Œå¿…ç„¶æ— è§£ï¼‰ã€‚</p>
<p>ç”±è¿™ä¸ªå¼å­ä¸éš¾æƒ³åˆ°æœ€å¤§å­æ®µå’Œçš„å‰ç¼€å’Œè§£æ³•ï¼Œå¯ä»¥å·®ä¸å¤šåœ°ç†è§£ä¸€ä¸‹ï¼Œè¿™ä¸ª \(\max\{s\}-\min\{s\}\) ä»£è¡¨çš„æ˜¯åŸæ•°åˆ—ä¸­çš„<strong>ä¸€æ®µåŒºé—´å’Œï¼ˆçš„ç»å¯¹å€¼ï¼‰</strong>ã€‚ç„¶åæ³¨æ„åˆ° \(1 \le n \le 3000\) çš„è‰¯å¿ƒèŒƒå›´ï¼Œè€ƒè™‘ç›´æ¥æšä¸¾è¿™ä¸ªåŒºé—´çš„å·¦ã€å³ç«¯ç‚¹ã€‚æœ€ä¼˜åŒ–çš„æ–¹æ¡ˆå¿…ç„¶æ˜¯è¦ä¹ˆ 0 å…¨æ›¿æ¢ä¸º \(k\)ï¼Œè¦ä¹ˆå…¨æ›¿æ¢ä¸º \(-k\)ã€‚</p>
<p>ä½†è¦æ±‚ \(s_n=0\)ï¼Œæ€ä¹ˆå¤„ç†è¿™ä¸ªæ¡ä»¶ä¹Ÿæ˜¯éš¾ç‚¹ä¹‹ä¸€ã€‚å…³é”®ç‚¹åœ¨äºçœ‹è¢«é€‰æ‹©çš„åŒºé—´å†…ã€å¤–çš„å’Œèƒ½å¦è¾¾åˆ°å¹³è¡¡ï¼Œå³ã€Œå½’é›¶ã€ï¼š</p>
<ul>
<li>å½“åŒºé—´å†…çš„å’Œä¸ºä¸€ä¸ªæ­£æ•° \(p\)ï¼ŒåŒºé—´å¤–çš„å’Œçš„æœ€å°å€¼ä¸º \(p'_{\min}\)ï¼Œæˆ‘ä»¬æƒ³è¦ä½¿ \(p+p'_{\min}=0\)ï¼Œå› æ­¤ç­”æ¡ˆå– \(\min\{p, \mid p'_{\min} \mid\}\)ï¼›</li>
<li>åŒç†ï¼Œå½“åŒºé—´å†…çš„å’Œä¸ºä¸€ä¸ªè´Ÿæ•° \(-p\)ï¼ŒåŒºé—´å¤–çš„å’Œçš„æœ€å¤§å€¼ä¸º \(p'_{\max}\)ï¼Œç­”æ¡ˆå– \(\min\{\mid p \mid, p'_{\max}\}\)ã€‚</li>
</ul>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, k, a[3001];
int p[3001], d[3001];

signed main() {
    n = read(), k = read();
    for (int i = 1; i &lt;= n; i++) {
        a[i] = read();
        d[i] = d[i - 1] + (a[i] == 0);
        p[i] = p[i - 1] + a[i];
    }
    if (abs(p[n]) &gt; k * d[n]) return puts(&quot;-1&quot;), 0;
    int max = -1;
    for (int l = 1; l &lt;= n; l++) {
        for (int r = l; r &lt;= n; r++) {
            int sum = p[r] - p[l - 1], cnt = d[r] - d[l - 1];
            int lSum = p[n] - sum, lCnt = d[n] - cnt;
            max = std::max(max, std::min(abs(sum + cnt * k), abs(lSum - lCnt * k)));
            max = std::max(max, std::min(abs(sum - cnt * k), abs(lSum + lCnt * k)));
        }
    }
    printf(&quot;%lld\n&quot;, max + 1);
    return 0;
}
</code></pre>
<hr />
<h2><a id="1680e-moving-chips" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1680E Moving Chips</h2>
<p><tc><m>Medium+ *2000</m><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è¿™é¢˜é‡Œåƒçš„è·¯å¾„å…¶å®æ˜¯å¯é€†çš„ï¼Œæ¯”å¦‚è¯´ A åƒäº† Bï¼ŒC å†åƒäº† B å’Œ A åƒäº† B ç„¶åç»§ç»­åƒäº† C æ˜¯ä¸€æ ·çš„ã€‚æ‰€ä»¥æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾å‡ºä»£ä»·æœ€å°‘çš„ä¸€æ¡åƒäººè·¯å¾„ï¼Œå¹¶ä¸”å¯ä»¥é’¦å®šä»»æ„ä¸€ä¸ªæ˜Ÿå·ä½œä¸ºæœ€ç»ˆçŠ¶æ€ã€‚å‡å¦‚è®¾æœ€åç•™ä¸‹æ¥çš„æ˜¯æœ€å³è¾¹çš„æŸä¸ªæ˜Ÿå·ï¼Œé‚£å°±æ˜¯ã€Œä»å·¦åƒåˆ°å³ã€çš„è¿‡ç¨‹ï¼Œå¯ä»¥å°è¯•ç”¨ DP æ¥æœ€ä¼˜åŒ–æ–¹æ¡ˆã€‚</p>
<p>è®¾ \(f(i,0/1)\) ä¸ºæŠŠç¬¬ \(1\) åˆ°ç¬¬ \(i-1\) åˆ—å…¨éƒ¨åƒæ‰ï¼Œä¸”æ˜Ÿå·ä»…åœ¨ \((i,0/1)\) æ—¶çš„æœ€å°æ­¥æ•°ã€‚åœ¨å¯¹è¿™ä¸€åˆ—è¿›è¡Œ DP çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¦è€ƒè™‘çš„é—®é¢˜æ˜¯<strong>æ€ä¹ˆæŠŠä¸Šä¸€åˆ—çš„æ˜Ÿå·å…¨éƒ¨è½¬ç§»åˆ°è¿™ä¸€åˆ—çš„ç›®æ ‡ä½ç½®ä¸­å»</strong>ã€‚å‡å¦‚æœ¬åˆ—æœ‰ä¸¤ä¸ªæ˜Ÿå·ï¼Œ<strong>åˆå¹¶ä¸€å®šæ›´ä¼˜</strong>ï¼ˆå¦åˆ™åŒæ—¶ç§»ä¸¤ä¸ªå°±æ˜¯æµªè´¹ï¼‰ï¼Œæ‰€ä»¥ä¹Ÿè¦è€ƒè™‘åˆå¹¶ã€‚</p>
<ul>
<li>è‹¥å…¨éƒ¨è½¬ç§»åˆ° \((i,0)\)ï¼š
<ul>
<li>ä» \((i-1,0)\) è½¬ç§»ï¼šä»£ä»·ä¸º \(1\)ï¼Œä½†å¦‚æœ \((i,1)\) æœ‰æ˜Ÿå·ï¼Œè¿˜éœ€è¦å†åŠ ä¸€ã€‚</li>
<li>ä» \((i-1,1)\) è½¬ç§»ï¼šå¯ä»¥é¡ºä¾¿åƒäº† \((i,1)\)ï¼Œæ— è®ºå¦‚ä½•ä»£ä»·å§‹ç»ˆä¸º \(2\)ã€‚</li>
</ul>
</li>
<li>è‹¥å…¨éƒ¨è½¬ç§»åˆ° \((i,1)\)ï¼š
<ul>
<li>ä» \((i-1,1)\) è½¬ç§»ï¼šä»£ä»·ä¸º \(1\)ï¼Œä½†å¦‚æœ \((i,0)\) æœ‰æ˜Ÿå·ï¼Œè¿˜éœ€è¦å†åŠ ä¸€ã€‚</li>
<li>ä» \((i-1,0)\) è½¬ç§»ï¼šä»£ä»·å§‹ç»ˆä¸º \(2\)ã€‚</li>
</ul>
</li>
</ul>
<p>å¯ä»¥è½»æ¾å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int T, n;
int g[200001][2], f[200001][2];

int main() {
    std::cin &gt;&gt; T;
    while (T--) {
        std::cin &gt;&gt; n;
        for (int i = 1; i &lt;= n; ++i)
            f[i][0] = f[i][1] = 0;
        for (int i = 0; i &lt; 2; ++i) {
            for (int j = 1; j &lt;= n; ++j) {
                char c; std::cin &gt;&gt; c;
                g[j][i] = (c == '*');
            }
        }
        int l = 1, r = n;
        while (!g[l][0] &amp;&amp; !g[l][1]) ++l;
        while (!g[r][0] &amp;&amp; !g[r][1]) --r;
        for (int i = l; i &lt;= r; ++i) {
            f[i][0] = std::min(f[i - 1][0] + g[i][1] + 1, f[i - 1][1] + 2);
            f[i][1] = std::min(f[i - 1][1] + g[i][0] + 1, f[i - 1][0] + 2);
        }
        std::cout &lt;&lt; std::min(f[r][0], f[r][1]) - 1 &lt;&lt; std::endl;
        // ä¹‹å‰æ²¡æœ‰ç‰¹åœ°ç®— f[l][0/1] çš„åˆå§‹å€¼ï¼Œå¾ªç¯ç›´æ¥ä» l å¼€å§‹ï¼Œä½†æ˜¯ l-1 -&gt; l ç®—äº† 1 æ­¥ï¼Œæ‰€ä»¥è¿™é‡Œå‡å»ä¸€ã€‚
    }
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Codeforces Round #786 (Div.3)]]></title>
    <link href="oi.afobject.ml/cf1674.html"/>
    <updated>2022-05-03T23:02:19+08:00</updated>
    <id>oi.afobject.ml/cf1674.html</id>
    <content type="html"><![CDATA[
<p>[å·²é€šå…³] Rated, 4/7, 1364 \(\to\) 1438</p>
<span id="more"></span><!-- more -->
<p>E å¤§å®¶éƒ½ fst ä¹Ÿå°±ç®—äº†ï¼ŒF å°±å·®é€ ä¸ªæç«¯æ•°æ®æ‹ä¸€æ‹å°±è¿‡äº† /fn</p>
<h2><a id="1674f-desktop-rearrangement" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1674F Desktop Rearrangement</h2>
<p><tc><e>Easy+ *1800</e><t>æ¨¡æ‹Ÿ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ä½  CF ä¸ºå•¥è¦å‡ºè¿™ç§çƒ‚æ¨¡æ‹Ÿã€‚</p>
<p>é—®é¢˜ç›¸å½“äºè¯¢é—®æœ‰å‡ ä¸ªå›¾æ ‡éœ€è¦ç§»åŠ¨ã€‚é¦–å…ˆæ±‚å‡ºåŸå›¾çŠ¶æ€ä¸‹æœ‰å‡ ä¸ªéœ€è¦ç§»çš„ï¼Œæ¥ä¸‹æ¥è€ƒè™‘å˜åŒ–ã€‚</p>
<ul>
<li>
<p>å¦‚æœæ˜¯ä»æ²¡æœ‰å˜æˆæœ‰çš„ï¼š</p>
<ul>
<li>åœ¨æ“ä½œ<strong>å</strong>çš„è¾¹ç•Œä¸Šçš„é‚£ä¸ªç‚¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ä¸ç”¨ç§»äº†ï¼Œç­”æ¡ˆå‡ä¸€ï¼ˆå¦‚æœæ“ä½œçš„å°±æ˜¯è¿™ä¸ªç‚¹ï¼Œ<strong>å¿½ç•¥</strong>è¿™ä¸€æ¡ï¼Œå¯¹ç­”æ¡ˆæ²¡æœ‰å½±å“ï¼‰ã€‚</li>
<li>å¦å¤–å¦‚æœæ”¹å˜çš„è¿™ä¸ªç‚¹è¶…è¿‡äº†æ“ä½œ<strong>å</strong>çš„è¾¹ç•Œï¼Œé‚£ä¹ˆå°±éœ€è¦è´¹åŠ›æ°”ç§»å®ƒï¼Œç­”æ¡ˆåŠ ä¸€ã€‚</li>
</ul>
</li>
<li>
<p>å¦‚æœæ˜¯ä»æœ‰å˜æˆæ²¡æœ‰çš„ï¼š</p>
<ul>
<li>æ“ä½œ<strong>å‰</strong>çš„å®ˆé—¨å‘˜ï¼ˆå¦‚æœå­˜åœ¨ï¼‰è¢«è¸¢äº†ï¼Œéœ€è¦ç§»çš„åŠ ä¸€ï¼ˆå¦‚æœæ“ä½œçš„å°±æ˜¯è¿™ä¸ªç‚¹ï¼Œ<strong>å¿½ç•¥</strong>è¿™ä¸€æ¡ï¼Œå¯¹ç­”æ¡ˆæ²¡æœ‰å½±å“ï¼‰ã€‚</li>
<li>å¦‚æœæœ¬æ¥å°±è¶…å‡ºäº†æ“ä½œ<strong>å‰</strong>çš„èŒƒå›´ï¼Œéœ€è¦ç§»çš„å‡ä¸€ï¼Œå¦åˆ™ä¸å˜ã€‚</li>
</ul>
</li>
</ul>
<p>ç”±ä¸Šåˆ†ç±»è®¨è®ºå¯è§ï¼Œ<code>.</code> å˜ <code>*</code> å’Œ <code>*</code> å˜ <code>.</code> å¯¹ç­”æ¡ˆçš„å½±å“æ˜¯ä¸åŒçš„ï¼Œå°¤å…¶ä½“ç°åœ¨æ“ä½œå‰è¾¹ç•Œæˆ–æ˜¯æ“ä½œåè¾¹ç•Œçš„åŒºåˆ«ã€‚</p>
<p>æ›´ç›´æ¥çš„åšæ³•æ˜¯æ ‘çŠ¶æ•°ç»„ç›´æ¥æš´åŠ›ç»´æŠ¤èŒƒå›´å†…æœ‰å‡ ä¸ªï¼ˆå‰ç¼€å’Œï¼‰ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è€ƒè™‘å°†çŸ©é˜µè½¬ä¸ºåºåˆ—ï¼Œåœ¨åºåˆ—ä¸Šæ“ä½œæ–¹ä¾¿å¾—å¤šã€‚</p>
<pre class="line-numbers"><code class="language-cpp">#define trans(i, j) (((j) - 1) * n + (i))
int n, m, q;
char map[1000001];

int main() {
    std::cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;
    int cnt = 0;
    for (int i = 1, k = 0; i &lt;= n; ++i) {
        for (int j = 1; j &lt;= m; ++j) {
            std::cin &gt;&gt; map[trans(i, j)];
            if (map[trans(i, j)] == '*') ++cnt;
        }
    }
    int ans = cnt;
    for (int i = 1; i &lt;= cnt; ++i)
        if (map[i] == '*')
            --ans;

    while (q--) {
        int x, y;
        std::cin &gt;&gt; x &gt;&gt; y;
        int idx = trans(x, y);
        if (map[idx] == '.') {
            ++cnt;
            if (map[cnt] == '*') --ans;
            if (idx &gt; cnt) ++ans;
            map[idx] = '*';
        } else {
            map[idx] = '.';
            if (idx &gt; cnt) --ans;
            if (map[cnt] == '*') ++ans;
            --cnt;
        }
        std::cout &lt;&lt; ans &lt;&lt; '\n';
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="1674e-breaking-the-wall" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1674E Breaking the Wall</h2>
<p><tc><m>Medium- *2000</m><t>æ•°å­¦</t><t>è´ªå¿ƒ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>å½¢è±¡ä¸€ç‚¹ï¼Œæˆ‘ä»¬çš„ç­”æ¡ˆçš„æ¥æºåªæœ‰å¯èƒ½æ˜¯è¿™å‡ ç§æƒ…å†µï¼š</p>
<ul>
<li>ç«åŠ›å…¨å¼€ã€‚å³å¯¹æ•°åˆ—ä¸­æœ€å°çš„ä¸¤ä¸ªæ¯æ¬¡æ€æ‰ 2ã€‚é€‚ç”¨äºæ•°åˆ—ä¸­æœ€å°çš„ä¸¤ä¸ªæ•°åˆ†éš”è¾ƒè¿œçš„æƒ…å†µã€‚</li>
<li>æŠ•æœºå–å·§ã€‚ç›¸éš”ä¸€ä¸ªæ•°çš„ä¸¤ä¸ªå¥‡æ•°ï¼Œå…ˆé€šè¿‡æ€ä¸­é—´çš„é‚£ä¸ªæ•°ä¸€æ¬¡è½¬ä¸ºå¶æ•°ï¼Œç„¶åè½¬ä¸ºã€Œç«åŠ›å…¨å¼€ã€å‹ã€‚</li>
<li>äº’å¸®äº’åŠ©ã€‚æ€æ‰ç›¸é‚»ä¸¤ä¸ªæ•°ï¼Œäº’ç›¸å‡‘ä¸€å‡‘ï¼Œç­”æ¡ˆå°±æ˜¯ä¸¤ä¸ªæ•°å’Œé™¤ä»¥ 3 å‘ä¸Šå–æ•´ã€‚ä½†å½“ä¸€ä¸ªæ•° \(a\) å¤§äºå¦ä¸€ä¸ªæ•° \(b\) çš„ä¸¤å€æ—¶ï¼Œæ­¤æ–¹æ³•åªèƒ½å¦¥åï¼Œç­”æ¡ˆä¸º \(\lceil \dfrac a 2 \rceil\)ã€‚</li>
</ul>
<p>å½“è¢«æ€çš„ä¸¤ä¸ªæ•°è·ç¦»å¤§äºç­‰äº 2 çš„æ—¶å€™ï¼Œå¯ä»¥åšåˆ°å„æ€å„çš„äº’ä¸å¹²æ¶‰ï¼Œå½’äºã€Œç«åŠ›å…¨å¼€ã€å‹ã€‚</p>
<p>å½“è¢«æ€çš„ä¸¤ä¸ªæ•°è·ç¦»ç­‰äº 1 çš„æ—¶å€™ï¼Œé€‚ç”¨ã€Œç«åŠ›å…¨å¼€ã€å‹æˆ–ã€ŒæŠ•æœºå–å·§ã€å‹ï¼ˆæ€»ç»“èµ·æ¥å°±æ˜¯ä¸¤ä¸ªæ•°åŠ èµ·æ¥é™¤ä»¥äºŒå‘ä¸Šå–æ•´ï¼‰ã€‚</p>
<p>å½“è¢«æ€çš„ä¸¤ä¸ªæ•°ç›¸é‚»ï¼Œé‚£å¿…ç„¶å±äºã€Œäº’å¸®äº’åŠ©ã€å‹ã€‚</p>
<p>å› æ­¤ï¼Œä»¥ä¸Šä¸‰ç§å¾—åˆ°ç­”æ¡ˆçš„ç±»å‹è¦†ç›–æ‰€æœ‰çš„æƒ…å†µï¼Œè§£æ³•æ˜¯æ­£ç¡®çš„ã€‚</p>
<p>è¿™ä¸ªé¢˜å‰éº»äº†ï¼Œ300 å¤šæµ‹è¯•ç‚¹ï¼Œä¹æ­»äº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, a[200001];

int upper(int a, int b) {
    if (a % b) return a / b + 1;
    else return a / b;
}

int main() {
    n = read();
    for (int i = 1; i &lt;= n; ++i) {
        a[i] = read();
    }

    int t3 = 1000000;
    for (int i = 1; i &lt;= n - 1; ++i) {
        int res = 0;
        if (a[i] &gt; a[i + 1] * 2) res = (a[i] + 1) / 2;
        else if (a[i + 1] &gt; a[i] * 2) res = (a[i + 1] + 1) / 2;
        else res = upper(a[i] + a[i + 1], 3);
        t3 = std::min(t3, res);
    }

    int t2 = 1000000;
    for (int i = 1; i &lt;= n - 2; ++i)
        if ((a[i] &amp; 1) &amp;&amp; (a[i + 2] &amp; 1))
            t2 = std::min(t2, 1 + a[i] / 2 + a[i + 2] / 2);

    std::sort(a + 1, a + n + 1);
    int t1 = (a[1] + 1) / 2 + (a[2] + 1) / 2;

    printf(&quot;%d\n&quot;, std::min({t1, t2, t3}));
    return 0;
}
</code></pre>
<hr />
<h2><a id="1674g-remove-directed-edges" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1674G Remove Directed Edges</h2>
<p><tc><m>Medium+ *2000</m><t>å›¾è®º</t><t>æ‹“æ‰‘</t><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>é¦–å…ˆå›é¡¾ä¸€ä¸‹ã€ŒCute Setã€çš„å®šä¹‰ï¼š</p>
<blockquote>
<p>ä¸€ä¸ªé¡¶ç‚¹çš„é›†åˆ \(S\) è¢«ç§°ä½œå¯çˆ±çš„å½“ä¸”ä»…å½“ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ \(v\) å’Œ \(u\)ï¼ˆ\(v \neq u,v \in S,u \in S\)ï¼‰ï¼Œå¯ä»¥ç»è¿‡ç”±æœªåˆ é™¤çš„è¾¹ç»„æˆçš„è·¯å¾„ç”± \(u\) è¾¾åˆ° \(v\)ï¼Œæˆ–æ˜¯ä» \(v\) è¾¾åˆ° \(u\)ã€‚</p>
</blockquote>
<p>ç”±äºåŸå›¾æ˜¯ä¸€ä¸ª DAGï¼Œé›†åˆä¸­ç‚¹å’Œæœªåˆ é™¤çš„è¾¹æ„æˆçš„ä¹Ÿæ˜¯ä¸€ä¸ª DAGã€‚ç”± DAG è”æƒ³åˆ°å¯ä»¥è¿›è¡Œæ‹“æ‰‘æ’åºã€‚æ‹“æ‰‘åºä¸­ï¼Œä»»ä½•ä¸€å¯¹ç›¸é‚»çš„é¡¶ç‚¹ \((i, i+1)\)ï¼Œéƒ½æ»¡è¶³ï¼šç”± \(i\) å¯ä»¥é€šè¿‡ä¸€æ¡è·¯å¾„åˆ°è¾¾ \(i+1\)ï¼Œæˆ–æ˜¯ç”± \(i+1\) å¯ä»¥é€šè¿‡æ¡è·¯å¾„åˆ°è¾¾ \(i\)ã€‚è‹¥æ˜¯åè€…ï¼Œåˆ™ \(i+1\) åœ¨æ‹“æ‰‘åºä¸­ï¼Œå¿…ä½äº \(i\) ä¹‹å‰ï¼ŒçŸ›ç›¾ã€‚å› æ­¤æ‹“æ‰‘åºä¸­ï¼Œæ€»å¯ä»¥ç”±é å‰çš„é¡¶ç‚¹ç»è¿‡ä¸€äº›è¾¹åˆ°è¾¾é åçš„é¡¶ç‚¹ã€‚ç”±æ­¤æ¨å‡ºä¸€ä¸ªé‡è¦çš„ç»“è®ºï¼š<strong>å­˜åœ¨ä¸€æ¡ç»è¿‡ä¸€ä¸ª Cute Set ä¸­æ‰€æœ‰é¡¶ç‚¹çš„è·¯å¾„ï¼Œä¸€æ¡è·¯å¾„ç»è¿‡çš„é¡¶ç‚¹çš„é›†åˆä¹Ÿæ˜¯ä¸€ä¸ª Cute Set</strong>ã€‚</p>
<p>é—®é¢˜è½¬åŒ–ä¸ºï¼šåœ¨ DAG ä¸­æ‰¾ä¸€æ¡æœ€é•¿è·¯ï¼Œä¸”ç»è¿‡çš„è¾¹å‡æœªåˆ é™¤ã€‚</p>
<p>è½¬åŒ–ä¸ºä¸€ä¸ªæ›´ç®€å•ç›´ç™½é—®é¢˜åï¼Œå†æ¥çœ‹åˆ è¾¹çš„æ¡ä»¶ã€‚æ¯ä¸ªé¡¶ç‚¹è¦ä¹ˆæ²¡æœ‰å…¥è¾¹ï¼Œè¦ä¹ˆè¢«åˆ ä¸€æ¡å…¥è¾¹ï¼Œå‡ºè¾¹åŒç†ã€‚ä¸‹é¢æ€è€ƒçš„é—®é¢˜æ˜¯ï¼Œåœ¨é€‰æ‹©è·¯å¾„çš„æ—¶å€™ï¼Œå“ªäº›é¡¶ç‚¹å¯ä»¥è¢«åŠ å…¥é›†åˆä¸­ï¼Ÿè·¯å¾„å¯¹äºä¸€ä¸ªé¡¶ç‚¹è€Œè¨€ï¼Œå°±æ˜¯ä¸€æ¡å…¥è¾¹å’Œä¸€æ¡å‡ºè¾¹ã€‚åœ¨ä¿ç•™è¿™æ¡è·¯å¾„ä¸èƒ½åˆ çš„åŒæ—¶ï¼Œå®ƒè¿˜è¦é¢„ç•™å¯ä»¥åˆ é™¤çš„å…¥è¾¹ã€å‡ºè¾¹å„ä¸€æ¡ï¼Œä»¥æ»¡è¶³é¢˜æ„ã€‚å› æ­¤ï¼Œç¬¬äºŒä¸ªé‡è¦çš„ç»“è®ºæ˜¯ï¼šé™¤äº†è·¯å¾„çš„èµ·ç‚¹æ²¡æœ‰å…¥åº¦è¦æ±‚ã€è·¯å¾„çš„ç»ˆç‚¹æ²¡æœ‰å‡ºåº¦è¦æ±‚ä»¥å¤–ï¼Œå¯¹äºè·¯å¾„ä¸Šæ¯ä¸€ä¸ªç‚¹çš„è¦æ±‚æ˜¯è‡³å°‘åˆ†åˆ«æœ‰ä¸¤æ¡å…¥è¾¹å’Œä¸¤æ¡å‡ºè¾¹ï¼Œå³<strong>å¯¹äºè·¯å¾„ä¸Šçš„æ¯ä¸€æ¡è¾¹ \(u \to v\)ï¼Œéƒ½è¦æ»¡è¶³ \(out_u&gt;1\) ä¸” \(in_v&gt;1\)</strong>ã€‚</p>
<p>å¯¹äº DAG ä¸Šæœ€é•¿è·¯é—®é¢˜ï¼Œç›´æ¥åœ¨æ‹“æ‰‘åºä¸Š DP å³å¯ï¼Œå…·ä½“æ–¹æ³•ä¸å†èµ˜è¿°ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, m;
int ind[200001], oud[200001], del[200001];
std::vector&lt;int&gt; e[200001];
std::queue&lt;int&gt; q;
int f[200001];

int main() {
    n = read(), m = read();
    while (m--) {
        int u = read(), v = read();
        ++ind[v], ++del[v], ++oud[u];
        e[u].push_back(v);
    }
    for (int i = 1; i &lt;= n; ++i) {
        f[i] = 1;
        if (!del[i]) q.push(i);
    }
    int ans = 1;
    while (!q.empty()) {
        int u = q.front();
        q.pop();
        ans = std::max(ans, f[u]);
        for (int v : e[u]) {
            if (ind[v] &gt; 1 &amp;&amp; oud[u] &gt; 1)
                f[v] = std::max(f[v], f[u] + 1);
            if (!--del[v])
                q.push(v);
        }
    }
    printf(&quot;%d\n&quot;, ans);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[LGR108]]></title>
    <link href="oi.afobject.ml/LGR108.html"/>
    <updated>2022-05-01T23:13:15+08:00</updated>
    <id>oi.afobject.ml/LGR108.html</id>
    <content type="html"><![CDATA[
<h2><a id="c-sunset-p8320" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>C Sunset - P8320</h2>
<p><tc><e>Easy</e><t>äº¤äº’</t><t>äºŒåˆ†</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è§‚å¯Ÿ \(a\) æ•°åˆ—çš„å˜åŒ–è¶‹åŠ¿ï¼Œé‚£å¿…ç„¶æ˜¯å…ˆä¸Šå‡åä¸å˜ï¼Œä¸å˜çš„é‚£ä¸ªç‚¹ä¸ºå½“å‰æ•°åˆ—çš„æœ€å¤§å€¼ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int main() {
    cin &gt;&gt; T;
    while (T--) {
        cin &gt;&gt; n;
        for (int i = n; i; --i) {
            int last = query(n);
            int l = 1, r = n;
            while (l &lt; r) {
                const int mid = (l + r) / 2;
                if (query(mid) &lt; last) l = mid + 1;
                else r = mid;
            }
            ans[l] = i;
            cout &lt;&lt; &quot;? 2 &quot; &lt;&lt; l &lt;&lt; endl;
        }
        cout &lt;&lt; &quot;! &quot;;
        for (int i = 1; i &lt;= n; ++i)
            cout &lt;&lt; ans[i] &lt;&lt; &quot; &quot;;
        cout &lt;&lt; endl;
    }
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Codeforces Round #785 (Div.2)]]></title>
    <link href="oi.afobject.ml/cf1673.html"/>
    <updated>2022-05-01T00:58:35+08:00</updated>
    <id>oi.afobject.ml/cf1673.html</id>
    <content type="html"><![CDATA[
<p>[3/6] Rated, 1/6, \(1448 \to 1364\)ï¼Œæˆ‘æ˜¯å¤©ä¸‹ç¬¬ä¸€ğŸ¤ï¼Œå“ˆå“ˆå“ˆå“ˆï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼B éƒ½ä¸ä¼šï¼ï¼ï¼</p>
<span id="more"></span><!-- more -->
<h2><a id="1673b-a-perfectly-balanced-string" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1673B A Perfectly Balanced String?</h2>
<p><tc><m>Medium- *1100</m><t>ç»“è®º</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>äº”èŠ±å…«é—¨ã€‚</p>
<p>ä½ æ‰¾ä¸€ä¸ªé•¿åº¦æœ€çŸ­ä¸”é¦–å°¾å­—ç¬¦ç›¸åŒçš„ï¼Œæ­¤æ—¶é¦–å°¾å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ä¸º \(2\)ï¼Œé‚£ä¹ˆä¸­é—´çš„æ¬¡æ•°åªèƒ½æ˜¯ \(1\) å’¯ï¼Œå¿…é¡»æ¯ä¸ªéƒ½è½®ä¸€éã€‚è½®ä¸åˆ°çš„å¯„ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è¿™ä¸ª <code>last</code> çš„ç”¨æ³•è¿˜æŒºå¦™çš„ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">int T;
char s[200003];
bool e[27];
int last[27];

int main() {
    scanf(&quot;%d&quot;, &amp;T);
    while (T--) {
        scanf(&quot;%s&quot;, s);
        const int len = strlen(s);
        for (int i = 0; i &lt; 27; i++)
            e[i] = false;
        for (int i = 0; i &lt; len; i++)
            e[s[i] - 'a'] = true;
        int kind = 0;
        for (int i = 0; i &lt; 26; i++)
            kind += e[i], last[i] = -1;
        for (int i = 0; i &lt; len; i++) {
            if (last[s[i] - 'a'] != -1) {
                if (i - last[s[i] - 'a'] != kind) {
                    puts(&quot;NO&quot;);
                    goto end;
                }
            }
            last[s[i] - 'a'] = i;
        }
        puts(&quot;YES&quot;);
        end: continue;
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="1673c-palindrome-basis" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1673C Palindrome Basis</h2>
<p><tc><m>Medium- *1500</m><t>èƒŒåŒ…</t><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘è®¾ \(f(i,j)\) ä¸ºåœ¨å‰ \(i\) ä¸ªå›æ–‡æ•°ä¸­ï¼ˆç¬¬ \(i\) ä¸ªä¸º \(p_i\)ï¼‰ï¼Œå‡‘å‡ºæ¥æ•° \(n\) çš„æ–¹æ¡ˆæ•°ã€‚åˆ™æœ‰ï¼š</p>
\[f(i,j)=f(i-1,j)+f(i,j-p_i)
\]
<p>è€ƒè™‘çœå»ä¸€ç»´ã€‚</p>
\[f(j)\gets f(j)+f(j-p_i)
\]
<p>\(f(0)=1\)ã€‚</p>
<p>å…³äºå¾ªç¯é¡ºåºï¼šä¸¤ç»´çš„æ—¶å€™ä½ çˆ±å’‹åœ°å’‹åœ°ï¼Œä½†ä¸€ç»´çš„æ—¶å€™çœå»äº† \(i\) è¿™ç»´ï¼Œæ‰€ä»¥å¤§å‰æå°±æ˜¯åœ¨è™šæ‹Ÿéå† \(i\) åªä¸è¿‡æ²¡åœ¨è½¬ç§»æ–¹ç¨‹é‡Œä½“ç°å‡ºæ¥ï¼Œ\(i\) å¿…é¡»æ”¾åœ¨å¤–å±‚ï¼Œå¦åˆ™å°±ä¼šå¯¹ \(f(j)\) çš„å€¼äº§ç”Ÿå½±å“ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">signed main() {
    T = read(); f[0] = 1;
    for (int k = 0; k &lt; P; ++k)
        for (int i = p[k]; i &lt;= 50000; ++i)
            f[i] = (f[i] + f[i - p[k]]) % MOD;
    while (T--)
        printf(&quot;%lld\n&quot;, f[read()]);
}
</code></pre>
<hr />
<h2><a id="1673d-lost-arithmetic-progression" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1673D Lost Arithmetic Progression</h2>
<p><tc><m>Medium+ *1900</m><t>æ•°å­¦</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ç”±é¢˜æ„ç›´æ¥å¾—å‡ºï¼šç”±å…¬å·®ä¸º \(d_0,d_1\) çš„ä¸¤ä¸ªç­‰å·®æ•°åˆ—åˆæˆçš„æ–°ç­‰å·®æ•°åˆ—çš„å…¬å·®å¿…å®šä¸º \(d'=\operatorname{lcm}(d_0,d_1)\)ï¼Œä¹Ÿå°±æ˜¯è¯´ \(d_0 \mid d'\)ï¼Œ\(d_1 \mid d'\)ã€‚è®¾è¿™ä¸‰ä¸ªç­‰å·®æ•°åˆ—çš„æ•°çš„é›†åˆåˆ†åˆ«ä¸º \(A,B,C\)ï¼Œåˆ™ \(A \in C\)ï¼Œ\(B \in C\)ã€‚</p>
<p>æ— è§£çš„æƒ…å†µå¾ˆæ–¹ä¾¿åˆ¤æ–­ï¼Œå³ \(\exists x \in C\) æ»¡è¶³ \(x\notin B\)ï¼Œå³æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼š</p>
<ul>
<li>\(d_B \not\mid d_C\)</li>
<li>\(C_1 \notin B\) æˆ– \(C_n \notin B\)</li>
</ul>
<p>æ¥ä¸‹æ¥çœ‹æœ‰å‡ ä¸ªè§£ã€‚ä¹ä¸€çœ‹å¥½åƒéƒ½æ˜¯æ— æ•°ä¸ªè§£ï¼Œä½†ç”±äº \(A \cap B\) ä¸­ä¸èƒ½æœ‰ \(C\) ä»¥å¤–çš„å…ƒç´ ï¼Œæ‰€ä»¥ \(A\) åªèƒ½åœ¨ \(C\) é™å®šçš„èŒƒå›´å†…è •åŠ¨ï¼Œ<strong>ä¸å¾—åœ¨ \(C\) ä¹‹å¤–ä¸ \(B\) æœ‰äº¤ç‚¹</strong>ã€‚è€Œ \(A\) ä¸ \(B\) åœ¨ \(C\) å·¦ä¾§ç¬¬ä¸€ä¸ªäº¤ç‚¹æ˜¾ç„¶æ˜¯ \(C_0\) å³ \(C_1-d_C\)ï¼ˆå¦‚æœ \(B\) çš„å·¦ç«¯ç‚¹å¤§äºè¿™ä¸ªé‚£ä¹ˆ \(A\) å¯ä»¥å‘å·¦æ— é™å»¶é•¿ï¼Œæ— æ•°ä¸ªè§£ï¼‰ï¼Œä¸­é—´ï¼ˆä» \(C_0+1\) åˆ° \(C_1\)ï¼‰æ”¾å¾—ä¸‹çš„ \(A\) çš„ä¸ªæ•°æ˜¾ç„¶æ˜¯ \(\dfrac {d_C} {d_A}\)ï¼Œ\(C\) å³ä¾§åŒç†ã€‚å› æ­¤ï¼Œå¯¹äºæ¯ä¸€ä¸ª \(d_A\) ä½¿å¾— \(\operatorname{lcm}(d_A,d_B)=d_C\)ï¼Œç­”æ¡ˆä¸º \(\left(\dfrac {d_C} {d_A}\right)^2\)ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">#define int __int128
#define MOD 1000000007

int T;
struct AP {
    int s, d, n;
    int get(int i) { return (i - 1) * d + s; }
    int last() { return get(n); }
    bool in(int x) {
        if (s &lt;= x &amp;&amp; x &lt;= last() &amp;&amp; (x - s) % d == 0) return true;
        else return false;
    }
} b, c;

int gcd(int a, int b) {
    return a % b ? gcd(b, a % b) : b;
}
int lcm(int a, int b) {
    return a / gcd(a, b) * b;
}

signed main() {
    T = read();
    while (T--) {
        b.s = read(), b.d = read(), b.n = read();
        c.s = read(), c.d = read(), c.n = read();
        if (c.d % b.d || !b.in(c.s) || !b.in(c.last()))
            puts(&quot;0&quot;);
        else if (b.s &gt; c.get(0) || b.last() &lt; c.get(c.n + 1))
            puts(&quot;-1&quot;);
        else {
            int ans = 0;
            for (int x = 1; x * x &lt;= c.d; ++x) {
                if (lcm(x, b.d) == c.d)
                    ans = (ans + (c.d / x) * (c.d / x)) % MOD;
                if (x * x != c.d &amp;&amp; lcm(c.d / x, b.d) == c.d)
                    ans = (ans + x * x) % MOD;
            }
            printf(&quot;%lld\n&quot;, (long long)ans);
        }
    }
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x113 å•è°ƒæ ˆ]]></title>
    <link href="oi.afobject.ml/0x113.html"/>
    <updated>2022-04-27T21:35:55+08:00</updated>
    <id>oi.afobject.ml/0x113.html</id>
    <content type="html"><![CDATA[
<h2><a id="largest-rectangle-in-a-histogram" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Largest Rectangle in a Histogram</h2>
<p><tc><c>0x1104</c><e>Easy+</e><t>å•è°ƒæ ˆ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘å¯¹äºæ¯ä¸€ä¸ª \(x\) åæ ‡ï¼Œéƒ½å°è¯•æ‰¾å‡ºä»¥å®ƒä¸ºå³è¾¹ç•Œçš„æœ€å¤§çš„çŸ©å½¢çš„é¢ç§¯ã€‚é‚£ä¹ˆå¯èƒ½æˆä¸ºç­”æ¡ˆçš„çŸ©å½¢åœ¨å·¦ä¾§ä¸€å®šç»ˆæ­¢äºåœ¨å®ƒå·¦ä¾§ï¼Œä¸”æ¯”å®ƒçŸ®çš„ä¸€ä¸ªä½ç½®ã€‚æ‰€ä»¥åœ¨å®ƒå·¦ä¾§ï¼Œä¸”æ¯”å®ƒé«˜çš„ä¸œè¥¿æ²¡æœ‰ç”¨ï¼Œç›´æ¥ç”¨å•è°ƒæ ˆæ‰”æ‰å°±è¡Œã€‚</p>
<p>åœ¨åŸä½ç½®åœ¨ \(i\) çš„ä¸€ä¸ªæ•° \(k\) åœ¨ä½ç½® \(j\) æ—¶è¢«æ¨å‡ºæ ˆçš„æ—¶å€™ç»Ÿè®¡ç­”æ¡ˆï¼Œç­”æ¡ˆä¸º \((j-i+d(k))\times k\)ï¼Œå…¶ä¸­ \(d(k)\) ä»£è¡¨è¿™ä¸ªæ•° \(k\) é¡¶æ‰çš„æ•°çš„ä¸ªæ•°ï¼ˆå³ä¸åœ¨æ ˆä¸­ï¼Œä½†å¯ä»¥ç®—è¿›çŸ©å½¢çš„å®½çš„æ•°ï¼ŒåŒ…æ‹¬ç›´æ¥é¡¶æ‰å’Œé—´æ¥é¡¶æ‰ï¼‰ã€‚åœ¨æ•´ä¸ªæ•°åˆ—æœ«å°¾è¿½åŠ ä¸€ä¸ª 0ï¼Œé¡¶æ‰æ‰€æœ‰æ•°ã€‚</p>
<p>æŒ‰ç…§ä¹¦ä¸Šåšæ³•ï¼Œå…¶å®ä¹Ÿå¯ä»¥æŠŠè¢«é¡¶æ‰çš„å‹ä¸€å‹é«˜åº¦ï¼Œæ ˆå†…å®½åº¦ä¸å˜ï¼Œè¿™æ ·å°±ä¸ç”¨åˆ†ã€Œç›´æ¥é¡¶æ‰ã€å’Œã€Œé—´æ¥é¡¶æ‰ã€äº†ï¼Œä¸è¿‡å·®ä¸å¤šã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, a;
std::stack&lt;std::pair&lt;int, int&gt;&gt; s;
int d[1000001];

int main() {
    while (true) {
        n = read();
        if (!n) break;
        for (int i = 1; i &lt;= n; ++i) d[i] = 0;
        while (s.size()) s.pop();
        long long ans = 0;
        for (int i = 1; i &lt;= n + 1; i++) {
            a = (i &lt;= n) ? read() : 0;
            while (s.size() &amp;&amp; s.top().second &gt; a) {
                const int u = s.top().first, h = s.top().second;
                ans = std::max(ans, (long long)(i - u + d[u]) * h), d[i] += d[u] + 1;
                s.pop();
            }
            s.push({i, a});
        }
        printf(&quot;%lld\n&quot;, ans);
    }
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x112 è¡¨è¾¾å¼æ±‚å€¼]]></title>
    <link href="oi.afobject.ml/0x112.html"/>
    <updated>2022-04-27T08:36:45+08:00</updated>
    <id>oi.afobject.ml/0x112.html</id>
    <content type="html"><![CDATA[
<h2><a id="%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BD%AC%E4%B8%BA%E5%90%8E%E7%BC%80%E6%B1%82%E5%80%BC" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸­ç¼€è¡¨è¾¾å¼è½¬ä¸ºåç¼€æ±‚å€¼</h2>
<p>é¦–å…ˆä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>ä¸­ç¼€ï¼š<code>3 * (1 - 2)</code><br />
åç¼€ï¼š<code>3 1 2 - *</code></p>
<p>æ‰€æœ‰æ•°çš„é¡ºåºè‚¯å®šæ˜¯ä¸€æ ·çš„ï¼Œç„¶åå°±æ˜¯è¿ç®—ç¬¦çš„é—®é¢˜ï¼ˆä¸ç®¡æ‹¬å·ï¼‰ï¼ŒåŒä¸€ä¼˜å…ˆçº§çš„æƒ…å†µä¸‹ï¼ˆå¦‚ <code>1 + 1 - 4</code> \(\to\) <code>1 1 4 - +</code>ï¼‰å°±å¯ä»¥æŠŠè¿ç®—ç¬¦å€’åºè¾“å‡ºï¼Œå¦‚æœéåŒä¸€ä¼˜å…ˆçº§ï¼ˆå¦‚ <code>5 * 1 + 4</code> \(\to\) <code>5 1 * 4 +</code>ï¼‰ï¼Œé‚£å°±åœ¨ä¸€ä¸ªè¿ç®—ç¬¦å…¥æ ˆçš„åŒæ—¶ï¼Œçœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰æ¯”å®ƒä¼˜å…ˆçº§é«˜çš„åœ¨æ ˆé‡Œï¼Œå¦‚æœæœ‰ï¼Œé¡¶æ‰è¾“å‡ºã€‚</p>
<p>ç°åœ¨è€ƒè™‘æ‹¬å·é—®é¢˜ï¼Œæ‹¬å·å†…å½“ä¸€ä¸ªå­é—®é¢˜æ±‚è§£å°±è¡Œäº†ï¼ˆç¢°åˆ°ä¸€ä¸ªå³æ‹¬å·å°±æŠŠå·¦æ‹¬å·åŠä¹‹åçš„æ‰€æœ‰å†…å®¹è¾“å‡ºï¼Œæœ‰ç‚¹åƒé€’å½’çš„æ ˆçš„å†™æ³•ï¼‰ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">std::string s;
std::stack&lt;char&gt; st;
int priority[151];

int type[100001], n = 0;
double m[100001]; char o[100001];
std::stack&lt;double&gt; h;

int main() {
    std::cin &gt;&gt; s;
    s = '(' + s + ')';

    priority['*'] = priority['/'] = 2;
    priority['+'] = priority['-'] = 1;
    priority[')'] = 3; priority['('] = 0;

    double num = 0.0; bool flag = false;
    for (char x : s) {
        if (x &gt;= '0' &amp;&amp; x &lt;= '9') {
            flag = true;
            num *= 10, num += x - '0';
        } else {
            if (flag)
                type[++n] = 1, m[n] = num,
                num = 0, flag = false;
            if (x == ')')  {
                while (st.top() != '(')
                    type[++n] = 2, o[n] = st.top(), st.pop();
                st.pop();
                continue;
            } else if (x != '(') {
                while (st.size() &amp;&amp; priority[st.top()] &gt;= priority[x])
                    type[++n] = 2, o[n] = st.top(), st.pop();
            }
            st.push(x);
        }
    }

    for (int i = 1; i &lt;= n; ++i) {
        if (type[i] == 1) {
            h.push(m[i]);
        } else {
            double rhs = h.top(); h.pop();
            double lhs = h.top(); h.pop();
            if (o[i] == '+') h.push(lhs + rhs);
            if (o[i] == '-') h.push(lhs - rhs);
            if (o[i] == '*') h.push(lhs * rhs);
            if (o[i] == '/') h.push(lhs / rhs);
        }
    }

    std::cout &lt;&lt; h.top() &lt;&lt; std::endl;
    return 0;
}
</code></pre>
<h2><a id="%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E9%80%92%E5%BD%92%E6%B3%95%E6%B1%82%E5%80%BC" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸­ç¼€è¡¨è¾¾å¼çš„é€’å½’æ³•æ±‚å€¼</h2>
<p>è¿™ä¸ªæ¯”è¾ƒç®€å•å¥½å†™ï¼Œä½†æ—¶é—´å¤æ‚åº¦æ˜¯å¹³æ–¹çš„ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">std::string s;

double solve(int l, int r) {
    int add = -1, mul = -1, t = 0;
    for (int i = r; i &gt;= l; --i) {
        if (s[i] == ')') ++t;
        else if (s[i] == '(') --t;
        if (t == 0 &amp;&amp; add == -1 &amp;&amp; (s[i] == '+' || s[i] == '-'))
            add = i;
        if (t == 0 &amp;&amp; mul == -1 &amp;&amp; (s[i] == '*' || s[i] == '/'))
            mul = i;
    }
    if (add != -1) {
        if (s[add] == '+') return solve(l, add - 1) + solve(add + 1, r);
        else return solve(l, add - 1) - solve(add + 1, r);
    } else if (mul != -1) {
        if (s[mul] == '*') return solve(l, mul - 1) * solve(mul + 1, r);
        else return solve(l, mul - 1) / solve(mul + 1, r);
    } else if (s[l] == '(' &amp;&amp; s[r] == ')') {
        return solve(l + 1, r - 1);
    } else {
        double ans = 0;
        for (int i = l; i &lt;= r; i++) {
            ans *= 10;
            ans += s[i] - '0';
        }
        return ans;
    }
}

int main() {
    std::cin &gt;&gt; s;
    std::cout &lt;&lt; solve(0, s.size() - 1) &lt;&lt; std::endl;
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x111 æ ˆåŸºç¡€]]></title>
    <link href="oi.afobject.ml/0x111.html"/>
    <updated>2022-04-25T08:20:03+08:00</updated>
    <id>oi.afobject.ml/0x111.html</id>
    <content type="html"><![CDATA[
<h2><a id="push-pop-getmin" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Push, Pop, GetMin</h2>
<p><tc><c>0x1101</c><e>Easy-</e><t>æ ˆ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>ç»´æŠ¤ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªæ˜¯é¢˜ç›®ä¸­ç»™å‡ºçš„æ ˆï¼Œä¸€ä¸ªä¿å­˜æ¯ä¸ªæ—¶åˆ»æœ€å°å€¼ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">class MinStack {
public:
    std::stack&lt;int&gt; o, m;
    MinStack() {}
    void push(int x) {
        o.push(x);
        if (m.size())
            m.push(std::min(m.top(), x));
        else
            m.push(x);
    }
    void pop() {
        o.pop();
        m.pop();
    }
    int top() {
        return o.top();
    }
    int getMin() {
        return m.top();
    }
};
</code></pre>
<hr />
<h2><a id="editor" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editor</h2>
<p><tc><c>0x1102</c><e>Easy</e><t>æ ˆ</t><t>æ¨¡æ‹Ÿ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘å»ºç«‹å¯¹é¡¶æ ˆï¼Œè¿™æ ·å‰å››ç§æ“ä½œéƒ½å¯ä»¥å®ç°ã€‚</p>
<p>å¯¹äºç¬¬äº”ç§æ“ä½œï¼Œå¯ä»¥å†å»ºç«‹ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªä¿å­˜æ‰€æœ‰æ—¶åˆ»çš„å‰ç¼€å’Œï¼Œå¦ä¸€ä¸ªç”¨ 0x1101 çš„æ–¹å¼ç»´æŠ¤æœ€å°å€¼ï¼Œåªä¸è¿‡è¿™é‡Œè¦ç”¨æ•°ç»„æ¨¡æ‹Ÿæ ˆï¼ˆéœ€è¦ç›´æ¥è®¿é—®ï¼‰ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>æ³¨æ„ç¬¬ä¸€ä¸ªæ•°ä¸ºè´Ÿæ•°æ—¶çš„å¤„ç†ã€‚</p>
<pre class="line-numbers"><code class="language-cpp">int n;
std::stack&lt;int&gt; a, b;
int s[1000001], f[1000001], top;

void pushA(int t) {
    a.push(t);
    s[top + 1] = s[top] + t;
    if (top) f[top + 1] = std::max(f[top], s[top + 1]);
    else f[top + 1] = s[top + 1];
    ++top;
}

void popA() {
    a.pop();
    --top;
}

int main() {
    std::cin &gt;&gt; n;
    while (n--) {
        char c; int t;
        std::cin &gt;&gt; c;
        switch (c) {
            case 'I':
                std::cin &gt;&gt; t; pushA(t);
                break;
            case 'D':
                if (a.size()) popA();
                break;
            case 'L':
                if (a.size()) b.push(a.top()), popA();
                break;
            case 'R':
                if (b.size()) pushA(b.top()), b.pop();
                break;
            case 'Q':
                std::cin &gt;&gt; t;
                std::cout &lt;&lt; f[t] &lt;&lt; std::endl;
                break;
        }
    }
    return 0;
}
</code></pre>
<hr />
<h2><a id="%E8%BF%9B%E5%87%BA%E6%A0%88%E5%BA%8F%E5%88%97%E9%97%AE%E9%A2%98" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>è¿›å‡ºæ ˆåºåˆ—é—®é¢˜</h2>
<p><tc><c>0x1103</c><m>Medium</m><t>æ ˆ</t><t>æ•°å­¦</t><t>DP</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%951" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 1</h3>
<p>\(O(n^2)\)ã€‚</p>
<p>è®¾ \(f(k)\) ä¸º \(n=k\) æ—¶çš„ç­”æ¡ˆã€‚æ˜¾ç„¶ï¼Œ\(f(0)=f(1)=1,f(2)=2\)ã€‚</p>
<p>å‡è®¾æœ€åä¸€ä¸ªå‡ºæ ˆçš„é€‰æ‰‹æ˜¯ \(k\)ã€‚ä¸€ä¸ªæ•°å…¥æ ˆæ—¶ï¼Œæ ˆé‡Œä¸å¯èƒ½æœ‰æ¯”å®ƒè¿˜å¤§çš„æ•°ï¼Œå¦‚æœæƒ³è¦å‹ç€ \(k\) ç•™åˆ°æœ€åä¸€ä¸ªå‡ºæ ˆï¼Œé‚£å¿…é¡»æŠŠæ¯”å®ƒå°çš„å…ˆè¸¢æ‰ï¼Œè®©å®ƒåˆ°æ ˆåº•ã€‚å› æ­¤åœ¨å®ƒä¹‹å‰å…¥æ ˆçš„å…±æœ‰ \(f(k-1)\) ç§æ’åˆ—æ–¹å¼ï¼Œè·³è¿‡å®ƒï¼Œæ¯”å®ƒå¤§çš„å…±æœ‰ \(f(n-k)\) ç§æ–¹å¼ã€‚æ€»æ–¹æ¡ˆæ•°æ˜¯</p>
\[\sum_{k=1}^nf(k-1) \cdot f(n-k)
\]
<p>è¿™æ ·çš„æ‹†åˆ†æ˜¯å¯è¡Œçš„ã€‚åŒæ ·ï¼Œä¹Ÿå¯ä»¥åˆ†æ \(1\) æ¥å¾—åˆ°è¿™ä¸ªç»“è®ºã€‚</p>
<h3><a id="%E7%AE%97%E6%B3%952" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 2</h3>
<p>\(O(n^2)\)ã€‚</p>
<p>è®¾ \(f(i,j)\) ä¸ºå…¶ä¸­å‡ºäº† \(i\) ä¸ªï¼Œè¿˜æœ‰ \(j\) ä¸ªæ²¡å‡ºçš„æ–¹æ¡ˆæ•°ã€‚ç›®æ ‡çŠ¶æ€ä¸º \(f(n,0)\)ã€‚</p>
<p>æ¯ä¸€æ­¥è¦ä¹ˆå¼¹å…¥ä¸€ä¸ªï¼Œè¦ä¹ˆå¼¹å‡ºæ ˆé¡¶ã€‚</p>
\[f(i,j)=f(i-1,j+1)+f(i,j-1)
\]
<h3><a id="%E7%AE%97%E6%B3%953" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 3</h3>
<p>è¿™ç©æ„å°±æ˜¯å¡ç‰¹å…°æ•°ã€‚</p>
\[Cat_n=\dfrac{2n \choose n}{n+1}
\]
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>è´ºå°±å®Œäº†ã€‚</p>
<pre class="line-numbers"><code class="language-python">from math import factorial
n = int(input())
a = factorial(2 * n)
b = factorial(n)
print(a // b // b // (n + 1))
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ABC249]]></title>
    <link href="oi.afobject.ml/abc249.html"/>
    <updated>2022-04-23T20:54:17+08:00</updated>
    <id>oi.afobject.ml/abc249.html</id>
    <content type="html"><![CDATA[
<p>[6/8] ä¸ºä»€ä¹ˆæ¯æ¬¡æ‰“ ABC éƒ½ç¢°ä¸Šè“è‰²çš„ Eï¼ˆæ¼ï¼‰</p>
<p>Rated, 4/8, 977 \(\to\) 987</p>
<span id="more"></span><!-- more -->
<h2><a id="d-index-trio" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>D Index Trio</h2>
<p><tc><m>Medium- *983</m><t>æ•°è®º</t><t>ç»„åˆ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%951" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 1</h3>
<p>ä»ä¹˜ç§¯å‡ºå‘ã€‚</p>
<p>è€ƒè™‘å¯¹äºæ¯ä¸€ä¸ªæ•°ï¼Œæ ¹å·å¤æ‚åº¦åˆ†è§£è´¨å› æ•°ã€‚å¦‚æœåˆ†åˆ°çš„æ°å¥½éƒ½æ˜¯æ•°åˆ—é‡Œçš„æ•°ï¼Œåˆ™ç­”æ¡ˆåŠ ä¸Šä¸¤è¾¹å‡ºç°æ¬¡æ•°çš„ä¹˜ç§¯å†ä¹˜ä»¥äºŒã€‚æœ‰ä¸€äº›å°ç»†èŠ‚ã€‚</p>
<h3><a id="%E7%AE%97%E6%B3%952" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³• 2</h3>
<p>ä»ä¹˜æ•°å‡ºå‘ã€‚</p>
<p>åœ¨è®°å½•æ¯ä¸ªæ•°çš„å‡ºç°æ¬¡æ•°åï¼Œå¯¹äºæ¯å¯¹ \((i,j)\)ï¼Œç­”æ¡ˆç›´æ¥åŠ ä¸Š \(c_i \cdot c_j \cdot c_{i \times j}\)ã€‚æ—¶é—´å¤æ‚åº¦èƒ½è¿‡ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<p>ï¼ˆç®—æ³• 1ï¼‰</p>
<pre class="line-numbers"><code class="language-cpp">#define int long long

int n;
int b[1000001];

signed main() {
    n = read();
    for (int i = 1; i &lt;= n; i++)
        ++b[read()];
    int ans = 0;
    for (int i = 1; i &lt;= 200000; i++) {
        if (!b[i]) continue;
        for (int x = 1; x * x &lt;= i; ++x)
            if (i % x == 0)
                if (b[x] &amp;&amp; b[i / x]) {
                    if (x * x == i) ans += b[i] * b[x] * b[x];
                    else ans += b[i] * b[x] * b[i / x] * 2;
                }
    }
    printf(&quot;%lld\n&quot;, ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="f-ignore-operations" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>F Ignore Operations</h2>
<p><tc><m>Medium *1786</m><t>å †</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è€ƒè™‘ä¸€ä¸‹å¦‚æœä¸€å®šè¦åˆ ä¸€ä¸ªæ“ä½œï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯çœ‹ä¸€ä¸‹åˆ å“ªä¸ªå¯¹æœ€ç»ˆçš„ç»“æœæœ€å¥½ã€‚å¦‚æœè¯¥æ“ä½œåé¢æœ‰æ›¿æ¢æ“ä½œï¼Œé‚£ä¹ˆå±ç”¨æ²¡æœ‰ï¼›å¦åˆ™å¯¹æœ€ç»ˆç­”æ¡ˆçš„è´¡çŒ®å°±æ˜¯è¿›è¡Œåˆ°é‚£ä¸€æ­¥å’Œå‰ä¸€æ­¥æ“ä½œåçš„ç»“æœå·®ã€‚</p>
<p>é‚£å¦‚æœä¸€å®šè¦åˆ ä¸¤ä¸ªå‘¢ï¼Ÿ</p>
<p>åœ¨æ›¿æ¢æ“ä½œå‰é¢åˆ å±ç”¨æ²¡æœ‰ã€‚æ‰€ä»¥è¦ä¹ˆåœ¨è¿™ä¹‹åé€‰ \(y\) æœ€å°çš„ä¸¤ä¸ªä¿®æ”¹æ“ä½œï¼Œè¦ä¹ˆå°±å¹²è„†ç›´æ¥æŠŠè¿™ä¸ªæ›¿æ¢æ“ä½œåˆ äº†ã€‚æ‰€ä»¥æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li>åœ¨æœ€åä¸€ä¸ªæ›¿æ¢æ“ä½œåé¢é€‰ä¸¤ä¸ª \(y\) æœ€å°çš„åˆ ï¼›</li>
<li>åˆ äº†æœ€åä¸€ä¸ªæ›¿æ¢æ“ä½œï¼Œç„¶ååœ¨å€’æ•°ç¬¬äºŒä¸ªåé¢é€‰ä¸€ä¸ªæœ€å°çš„åˆ ï¼›</li>
<li>ç›´æ¥åˆ æ‰æœ€åä¸¤ä¸ªæ›¿æ¢æ“ä½œã€‚</li>
</ul>
<p>æ‰©å±•åˆ°é€‰ \(k\) ä¸ªåˆ ï¼Œä¸”æ²¡å¿…è¦åˆ å®Œï¼š</p>
<ul>
<li>åœ¨æœ€åä¸€ä¸ªæ›¿æ¢æ“ä½œåé¢é€‰è‡³å¤š \(k\) ä¸ª \(y\) æœ€å°ä¸”ä¸ºè´Ÿçš„åˆ ï¼›</li>
<li>åˆ äº†æœ€åä¸€ä¸ªæ›¿æ¢æ“ä½œï¼Œç„¶ååœ¨å€’æ•°ç¬¬äºŒä¸ªåé¢é€‰è‡³å¤š \(k-1\) ä¸ªæœ€å°ä¸”ä¸ºè´Ÿçš„åˆ ï¼›</li>
<li>â€¦â€¦</li>
<li>æŠŠæœ€å \(k\) ä¸ªæ›¿æ¢æ“ä½œå…¨åˆ äº†ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚</li>
</ul>
<p>åœ¨ä»¥ä¸Š \(k+1\) ç§ç­”æ¡ˆä¸­é€‰ä¸€ä¸ªæœ€å°çš„å³å¯ã€‚åˆ°è¿™é‡Œæ—¶é—´å¤æ‚åº¦ä¸º \(O(n \log n + k^2)\)ï¼Œä¸å¤ªè¡Œã€‚</p>
<p>æ¥ä¸‹æ¥è€ƒè™‘æ€ä¹ˆæ›´é«˜æ•ˆåœ°ç»´æŠ¤ä¿¡æ¯ã€‚å¯ä»¥ä»åå¾€å‰ï¼ŒåŠ¨æ€ç»´æŠ¤æ‰€æœ‰ä¿®æ”¹æ“ä½œ \(y\) çš„å‰ \(k\) å°ï¼Œå¹¶ç»´æŠ¤è¿™ä¸ªé¡ºåºï¼Œç¢°åˆ°ä¸€ä¸ªæ›¿æ¢æ“ä½œçš„æ—¶å€™å°±å¯ä»¥è®¡ç®—å‡ºä¸€ç§å¯èƒ½çš„ç­”æ¡ˆäº†ã€‚</p>
<p>è®¾ä¸¤ä¸ªç›¸é‚»çš„æ›¿æ¢æ“ä½œåœ¨ \(i,j\) è¿™ä¸¤ä¸ªä½ç½®ï¼Œå¹¶ä¸”æˆ‘å·²ç»åœ¨ \((j,n]\) èŒƒå›´å†…çš„ä¿®æ”¹æ“ä½œä¸­æ‰¾åˆ°äº†åˆ å»æœ€ä¼˜çš„ \(k\) ä¸ªçš„å’Œã€‚æˆ‘ç°åœ¨è¦æ‰¾ \((i,n]\) èŒƒå›´å†…æœ€ä¼˜ \(k-1\) ä¸ªçš„å’Œã€‚è¿™ä¸ªç›¸å¯¹æ¯”è¾ƒå®¹æ˜“ï¼Œé¦–å…ˆå…ˆè¸¢å‡ºå»ä¸€ä¸ªï¼Œç„¶åä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå¤§æ ¹å †ï¼‰ç»´æŠ¤å°±è¡Œäº†ï¼ˆåŒæ—¶å¦å¤–ç»´æŠ¤ä¸€ä¸ªæ€»å’Œï¼‰ï¼Œåœ¨ \((i,j)\) çš„ä¿®æ”¹æ“ä½œä¸­ç¢°åˆ°æœ‰æ¯”ä¼˜å…ˆé˜Ÿåˆ—ä¸­ç›¸å¯¹æœ€ä¸ä¼˜çš„é‚£ä¸ªæ›´ä¼˜çš„ï¼ŒæŠŠå®ƒé¡¶æ‰å°±è¡Œäº†ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">int n, k;
std::stack&lt;int&gt; rep;
std::priority_queue&lt;long long&gt; q;
long long t[200005], y[200005];
long long suf[200005];

int main() {
    n = read(), k = read();
    rep.push(0);
    for (int i = 1; i &lt;= n; i++) {
        t[i] = read(), y[i] = read();
        if (t[i] == 1)
            rep.push(i);
    }

    for (int i = n; i; --i)
        if (t[i] == 2)
            suf[i] = suf[i + 1] + y[i];
        else
            suf[i] = suf[i + 1];

    int now, last = n;
    long long sum = 0, ans = -1e18;
    do {
        now = rep.top() + 1;
        rep.pop();
        for (int i = now; i &lt;= last; ++i)
            if (t[i] == 2 &amp;&amp; y[i] &lt; 0) {
                if (q.size() &lt; k) {
                    sum += y[i];
                    q.push(y[i]);
                } else if (k &amp;&amp; q.top() &gt; y[i]) {
                    sum += y[i] - q.top();
                    q.pop();
                    q.push(y[i]);
                }
            }
        ans = std::max(ans, y[now - 1] + suf[now] - sum);
        last = now - 2;
        if (k &amp;&amp; q.size() == k) sum -= q.top(), q.pop();
        --k;
    } while (k &gt;= 0 &amp;&amp; rep.size());

    printf(&quot;%lld\n&quot;, ans);
    return 0;
}
</code></pre>
<hr />
<h2><a id="e-rle" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>E RLE</h2>
<p><tc><m>Medium+ *1970</m><t>DP</t><t>å‰ç¼€å’Œ</t></tc></p>
<h3><a id="%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç®—æ³•</h3>
<p>è®¾ \(f(i,j)\) ä¸ºåŸé•¿ä¸º \(i\)ï¼Œå‹ç¼©åé•¿ä¸º \(j\) çš„ä¸ªæ•°ã€‚</p>
<p>æ¥ä¸‹æ¥è€ƒè™‘è½¬ç§»ã€‚é¦–å…ˆå‡å¦‚è¿ç»­æ®µé•¿åº¦éƒ½åªæœ‰ä¸ªä½æ•°ï¼Œåˆ™</p>
\[f(i,j)=\sum_{k=1}^9 f(i-k,j-2)
\]
<p>æ‰©å±•ï¼š</p>
\[\begin{aligned}
f(i,j)&amp;=\sum_{k=1}^i f(i-k,j-\lfloor\log_{10}(k)\rfloor-1)
\end{aligned}
\]
<p>\(k\) ä» \(1\) åˆ° \(i\) çš„éå†ç›¸å½“äºé€ä¸ªå°è¯•è¿™ä¸ªå­—ç¬¦ä¸²æœ€åè¿ç»­ç›¸åŒå­—ç¬¦çš„ä¸ªæ•°ã€‚</p>
<p>ä½†ä¸Šé¢è¿™ä¸ªæ–¹ç¨‹ä¸å®Œå…¨å¯¹ï¼Œè¿˜è¦è€ƒè™‘åˆ°æ¯ä¸ªå­—ç¬¦éƒ½ä¸ä¸€æ ·ï¼Œè½¬ç§»æ—¶éƒ½è¦ä¹˜ä¸Šç³»æ•° \(25\)ã€‚</p>
<p>ä½†æ˜¯è¿™æ ·çš„æ•ˆç‡è¿˜æ˜¯ä¸å¤Ÿé«˜ï¼Œæˆ‘ä»¬è€ƒè™‘å¯¹äº \(f\) çš„æ¯ä¸€è¡Œè¿›è¡Œä¸€ä¸ªå‰ç¼€å’Œï¼Œç”±äº \(i,j\) æ˜¾ç„¶æœ€å¤šåªæ˜¯å››ä½æ•°ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹å˜ä¸ºï¼š</p>
\[\begin{aligned}
f(i,j)&amp;=25 \cdot [ s(i-1,j-2)-s(i-10,j-2)\\
&amp;+s(i-10,j-3)-s(i-100,j-3)\\
&amp;+s(i-100,j-4)-s(i-1000,j-4)\\
&amp;+s(i-1000,j-5)-s(i-10000,j-5) ]
\end{aligned}
\]
<p>è®¡æ•°çš„æ—¶å€™ä»å°åˆ°å¤§å¯¹äºæ¯ä¸ª \(i\) åˆ†åˆ«è®¨è®ºï¼Œæ³¨æ„åˆ°å½“åŸé•¿ä¸º \(i\) æ—¶ï¼Œ\(j\) è‡³å°‘ä¸º \(\lfloor \log_{10}(i)  \rfloor+1\)ï¼Œå› æ­¤åˆå§‹å€¼ \(f(i,\lfloor \log_{10}(i)\rfloor+1)=26\)ï¼Œå…¶ä½™çš„ç›´æ¥ \(0\)ï¼Œæ‡’å¾—è€ƒè™‘è¾¹ç•Œé—®é¢˜ã€‚</p>
<h3><a id="%E5%AE%9E%E7%8E%B0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®ç°</h3>
<pre class="line-numbers"><code class="language-cpp">long long n, p; // npk48
long long f[3005][3005], s[3005][3005];

int len(int x) {
    if (x &lt; 10) return 2;
    if (x &lt; 100) return 3;
    if (x &lt; 1000) return 4;
    return 5;
}

int main() {
    n = read(), p = read();
    for (int i = 1; i &lt;= n; ++i) {
        f[i][len(i)] = 26ll;
        for (int j = 1; j &lt; n; ++j) {
            f[i][j] = M(f[i][j] + 25ll * (s[T(i - 1)][T(j - 2)]     - s[T(i - 10)][T(j - 2)]));
            f[i][j] = M(f[i][j] + 25ll * (s[T(i - 10)][T(j - 3)]    - s[T(i - 100)][T(j - 3)]));
            f[i][j] = M(f[i][j] + 25ll * (s[T(i - 100)][T(j - 4)]   - s[T(i - 1000)][T(j - 4)]));
            f[i][j] = M(f[i][j] + 25ll * (s[T(i - 1000)][T(j - 5)]  - s[T(i - 3001)][T(j - 5)]));
            s[i][j] = M(s[i - 1][j] + f[i][j]);
        }
    }
    long long ans = 0;
    for (int i = 1; i &lt; n; ++i)
        ans = M(ans + f[n][i]);
    printf(&quot;%lld\n&quot;, ans);
    return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[0x00 ç´¢å¼•]]></title>
    <link href="oi.afobject.ml/0x00-.html"/>
    <updated>2022-04-23T11:01:36+08:00</updated>
    <id>oi.afobject.ml/0x00-.html</id>
    <content type="html"><![CDATA[
<h2><a id="0x01" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>0x01</h2>
<table>
<thead>
<tr>
<th>é¢˜ç›®</th>
<th>ä¸€å¥è¯é¢˜è§£</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x0101</td>
<td>å¿«é€Ÿå¹‚æ¿å­ï¼Œé€šè¿‡äºŒè¿›åˆ¶æ‹†åˆ† \(b\) è¯æ˜ç»“è®ºã€‚</td>
</tr>
<tr>
<td>0x0102</td>
<td>æ¨¡æ‹Ÿã€‚</td>
</tr>
<tr>
<td>0x0103</td>
<td>å¿«é€Ÿå¹‚æ”¹å¿«é€Ÿä¹˜ã€‚</td>
</tr>
<tr>
<td>0x0104</td>
<td>çŠ¶å‹ DP æ¿å­ï¼Œè®¾ \(f(i,u)\) ä¸ºç»è¿‡çš„ç‚¹é›†ä¸º \(i\)ï¼Œä¸”å½“å‰ç‚¹ä¸º \(u\) æ—¶çš„æœ€çŸ­è·¯é•¿åº¦ï¼Œå®¹æ˜“æ¨å‡ºè½¬ç§»æ–¹ç¨‹ã€‚</td>
</tr>
<tr>
<td>0x0105</td>
<td>ä»é«˜åˆ°ä½å¯¹äºæ¯ä¸€ä½åˆ†åˆ«è®¨è®ºï¼Œå¦‚æœè¯¥ä½ä¸ç¡®å®šï¼Œåˆ™åœ¨ \(m\) çš„é™åˆ¶æ¡ä»¶ä¸‹å°½é‡è®©å®ƒå˜æˆ 1ã€‚</td>
</tr>
</tbody>
</table>
<h2><a id="0x02" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>0x02</h2>

]]></content>
  </entry>
  
</feed>
